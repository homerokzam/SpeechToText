# GitHub - sandrohanea/whisper.net: Whisper.net. Speech to text made simple using Whisper Models



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


Whisper.net. Speech to text made simple using Whisper Models


### License

[MIT license](/sandrohanea/whisper.net/blob/main/LICENSE)

[609\\
stars](/sandrohanea/whisper.net/stargazers) [96\\
forks](/sandrohanea/whisper.net/forks) [Branches](/sandrohanea/whisper.net/branches) [Tags](/sandrohanea/whisper.net/tags) [Activity](/sandrohanea/whisper.net/activity)

[Star](/login?return_to=%2Fsandrohanea%2Fwhisper.net)

[Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings

# sandrohanea/whisper.net

main

[**3** Branches](/sandrohanea/whisper.net/branches) [**22** Tags](/sandrohanea/whisper.net/tags)

[Go to Branches page](/sandrohanea/whisper.net/branches)[Go to Tags page](/sandrohanea/whisper.net/tags)

Go to file

Code

## Folders and files

| Name | Name | Last commit message | Last commit date |
| --- | --- | --- | --- |
| ## Latest commit<br>[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)<br>[Removed continuous recognition example and replaced it with a link th…](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)<br>Dec 26, 2024<br>[a3ec2f8](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd) · Dec 26, 2024<br>## History<br>[133 Commits](/sandrohanea/whisper.net/commits/main/) |
| [.github](/sandrohanea/whisper.net/tree/main/.github ".github") | [.github](/sandrohanea/whisper.net/tree/main/.github ".github") | [Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") | Dec 26, 2024 |
| [.vscode](/sandrohanea/whisper.net/tree/main/.vscode ".vscode") | [.vscode](/sandrohanea/whisper.net/tree/main/.vscode ".vscode") | [Fixed](/sandrohanea/whisper.net/commit/dd7525c06cfd094fb23ae39b7ba7e9eb6be8e156 "Fixed #74") [#74](https://github.com/sandrohanea/whisper.net/issues/74) | Jun 17, 2023 |
| [Whisper.net.Demo](/sandrohanea/whisper.net/tree/main/Whisper.net.Demo "Whisper.net.Demo") | [Whisper.net.Demo](/sandrohanea/whisper.net/tree/main/Whisper.net.Demo "Whisper.net.Demo") | [Bumped versions (](/sandrohanea/whisper.net/commit/71040faf41d4079bbe810feb5bf56bbed3941127 "Bumped versions (#276)  * Bumped dotnet  * Bumped whisper.cpp  * Bumped xharness  * www  * Experinebt wutg wubdiws-latest  * added targets for maui with dotnet 9  * Fix static linking for iOS (#278)  ---------  Co-authored-by: Aliaksei Kartashou <84724571+AncientLust@users.noreply.github.com>") [#276](https://github.com/sandrohanea/whisper.net/pull/276) [)](/sandrohanea/whisper.net/commit/71040faf41d4079bbe810feb5bf56bbed3941127 "Bumped versions (#276)  * Bumped dotnet  * Bumped whisper.cpp  * Bumped xharness  * www  * Experinebt wutg wubdiws-latest  * added targets for maui with dotnet 9  * Fix static linking for iOS (#278)  ---------  Co-authored-by: Aliaksei Kartashou <84724571+AncientLust@users.noreply.github.com>") | Nov 22, 2024 |
| [Whisper.net](/sandrohanea/whisper.net/tree/main/Whisper.net "Whisper.net") | [Whisper.net](/sandrohanea/whisper.net/tree/main/Whisper.net "Whisper.net") | [Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") | Dec 26, 2024 |
| [examples](/sandrohanea/whisper.net/tree/main/examples "examples") | [examples](/sandrohanea/whisper.net/tree/main/examples "examples") | [Removed continuous recognition example and replaced it with a link th…](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd "Removed continuous recognition example and replaced it with a link the echosharp (#309)") | Dec 26, 2024 |
| [runtimes](/sandrohanea/whisper.net/tree/main/runtimes "runtimes") | [runtimes](/sandrohanea/whisper.net/tree/main/runtimes "runtimes") | [Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") | Dec 26, 2024 |
| [tests](/sandrohanea/whisper.net/tree/main/tests "tests") | [tests](/sandrohanea/whisper.net/tree/main/tests "tests") | [Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") | Dec 26, 2024 |
| [whisper.cpp @ 3de9dee](/ggerganov/whisper.cpp/tree/3de9deead5759eb038966990e3cb5d83984ae467 "whisper.cpp") | [whisper.cpp @ 3de9dee](/ggerganov/whisper.cpp/tree/3de9deead5759eb038966990e3cb5d83984ae467 "whisper.cpp") | [Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") | Dec 26, 2024 |
| [.editorconfig](/sandrohanea/whisper.net/blob/main/.editorconfig ".editorconfig") | [.editorconfig](/sandrohanea/whisper.net/blob/main/.editorconfig ".editorconfig") | [Release 1.2.1 (](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e "Release 1.2.1 (#5)  * Started to prepare 1.2.1  * Added WhisperFactory for multiple parallel executions.  * Changed exception type when file don't exist.  * Fixed macos library loader + compiled preview whisper.dylib  * Added version 1.2.1-preview1  * Rebuilt it on linux as the WSL build is not loading.  * Bumped and released version 1.2.1-preview2 with updated linux native library.  * Add ProcessAsync (#6)  * Fixed ProcessAsync + Moved internals to specific folder.  * Added codestyle .editorconfig and unified all code style + Removed Bcl.AsyncInterfaces for netstandard2.1+  * Added Whisper.net.Tests + fixed some concurrent issue on ProcessAsync  * Create dotnet.yml (#8)  * Create dotnet.yml  * Update dotnet.yml  * Added sln to dotnet test  * Update dotnet.yml  * Update dotnet.yml  * Update dotnet.yml  * Added codeball action  * Added PR write permission  * Little change to codeball to not approve and to have code suggestions.  * Release 1.2.1-preview4  * Fixed wave parser to parse the wave header only during first call + use appropiate methods (async or not) depending on that + reduced number of reads by reading the full required header buffer from one call.  * Added probability on SegmentData  * Adds support for utf8 texts (#10)  * Moved StringFromNativeUtf8 method to private  * Fixed #12 (hopefully)  * Added native build  Created by ChatGPT 🗡️  * Update nativebuild.yml (#13)  * Update nativebuild.yml  * Update codeball.yml  * WIP  * Added build scripts + removed preview  * Tested locally and removed macos temporary.  * Updated readme  ---------  Co-authored-by: Adam Novak <125261085+adamnova@users.noreply.github.com>") [#5](https://github.com/sandrohanea/whisper.net/pull/5) [)](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e "Release 1.2.1 (#5)  * Started to prepare 1.2.1  * Added WhisperFactory for multiple parallel executions.  * Changed exception type when file don't exist.  * Fixed macos library loader + compiled preview whisper.dylib  * Added version 1.2.1-preview1  * Rebuilt it on linux as the WSL build is not loading.  * Bumped and released version 1.2.1-preview2 with updated linux native library.  * Add ProcessAsync (#6)  * Fixed ProcessAsync + Moved internals to specific folder.  * Added codestyle .editorconfig and unified all code style + Removed Bcl.AsyncInterfaces for netstandard2.1+  * Added Whisper.net.Tests + fixed some concurrent issue on ProcessAsync  * Create dotnet.yml (#8)  * Create dotnet.yml  * Update dotnet.yml  * Added sln to dotnet test  * Update dotnet.yml  * Update dotnet.yml  * Update dotnet.yml  * Added codeball action  * Added PR write permission  * Little change to codeball to not approve and to have code suggestions.  * Release 1.2.1-preview4  * Fixed wave parser to parse the wave header only during first call + use appropiate methods (async or not) depending on that + reduced number of reads by reading the full required header buffer from one call.  * Added probability on SegmentData  * Adds support for utf8 texts (#10)  * Moved StringFromNativeUtf8 method to private  * Fixed #12 (hopefully)  * Added native build  Created by ChatGPT 🗡️  * Update nativebuild.yml (#13)  * Update nativebuild.yml  * Update codeball.yml  * WIP  * Added build scripts + removed preview  * Tested locally and removed macos temporary.  * Updated readme  ---------  Co-authored-by: Adam Novak <125261085+adamnova@users.noreply.github.com>") | Feb 21, 2023 |
| [.gitignore](/sandrohanea/whisper.net/blob/main/.gitignore ".gitignore") | [.gitignore](/sandrohanea/whisper.net/blob/main/.gitignore ".gitignore") | [Fixed vulkan and coreml targets (](/sandrohanea/whisper.net/commit/5f8c302a699db8b04fe89f6064ed423b82d9219a "Fixed vulkan and coreml targets (#218)") [#218](https://github.com/sandrohanea/whisper.net/pull/218) [)](/sandrohanea/whisper.net/commit/5f8c302a699db8b04fe89f6064ed423b82d9219a "Fixed vulkan and coreml targets (#218)") | Oct 14, 2024 |
| [.gitmodules](/sandrohanea/whisper.net/blob/main/.gitmodules ".gitmodules") | [.gitmodules](/sandrohanea/whisper.net/blob/main/.gitmodules ".gitmodules") | [Added initial files](/sandrohanea/whisper.net/commit/d65983b8502997a5d45d45f98a96ebc44fa6b6dd "Added initial files") | Feb 4, 2023 |
| [CMakeLists.txt](/sandrohanea/whisper.net/blob/main/CMakeLists.txt "CMakeLists.txt") | [CMakeLists.txt](/sandrohanea/whisper.net/blob/main/CMakeLists.txt "CMakeLists.txt") | [Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") | Dec 26, 2024 |
| [CMakePresets.json](/sandrohanea/whisper.net/blob/main/CMakePresets.json "CMakePresets.json") | [CMakePresets.json](/sandrohanea/whisper.net/blob/main/CMakePresets.json "CMakePresets.json") | [Added initial files](/sandrohanea/whisper.net/commit/d65983b8502997a5d45d45f98a96ebc44fa6b6dd "Added initial files") | Feb 4, 2023 |
| [Directory.Build.props](/sandrohanea/whisper.net/blob/main/Directory.Build.props "Directory.Build.props") | [Directory.Build.props](/sandrohanea/whisper.net/blob/main/Directory.Build.props "Directory.Build.props") | [A lot of changes for 1.7.0 (](/sandrohanea/whisper.net/commit/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f "A lot of changes for 1.7.0 (#201)  1.7.0 changes") [#201](https://github.com/sandrohanea/whisper.net/pull/201) [)](/sandrohanea/whisper.net/commit/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f "A lot of changes for 1.7.0 (#201)  1.7.0 changes") | Oct 7, 2024 |
| [Directory.Packages.props](/sandrohanea/whisper.net/blob/main/Directory.Packages.props "Directory.Packages.props") | [Directory.Packages.props](/sandrohanea/whisper.net/blob/main/Directory.Packages.props "Directory.Packages.props") | [Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0 (](/sandrohanea/whisper.net/commit/0b9bb5d664fcb449d093155f0d52317bde3e8dca "Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0 (#306)  Bumps [xunit.runner.visualstudio](https://github.com/xunit/visualstudio.xunit) from 2.8.2 to 3.0.0. - [Release notes](https://github.com/xunit/visualstudio.xunit/releases) - [Commits](https://github.com/xunit/visualstudio.xunit/compare/2.8.2...3.0.0)  --- updated-dependencies: - dependency-name: xunit.runner.visualstudio   dependency-type: direct:production   update-type: version-update:semver-major ...  Signed-off-by: dependabot[bot] <support@github.com> Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>") [#306](https://github.com/sandrohanea/whisper.net/pull/306) [)](/sandrohanea/whisper.net/commit/0b9bb5d664fcb449d093155f0d52317bde3e8dca "Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0 (#306)  Bumps [xunit.runner.visualstudio](https://github.com/xunit/visualstudio.xunit) from 2.8.2 to 3.0.0. - [Release notes](https://github.com/xunit/visualstudio.xunit/releases) - [Commits](https://github.com/xunit/visualstudio.xunit/compare/2.8.2...3.0.0)  --- updated-dependencies: - dependency-name: xunit.runner.visualstudio   dependency-type: direct:production   update-type: version-update:semver-major ...  Signed-off-by: dependabot[bot] <support@github.com> Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>") | Dec 23, 2024 |
| [LICENSE](/sandrohanea/whisper.net/blob/main/LICENSE "LICENSE") | [LICENSE](/sandrohanea/whisper.net/blob/main/LICENSE "LICENSE") | [Preparing changes for 1.7.1 release (](/sandrohanea/whisper.net/commit/919635297cca12a66aea083b37b4a0a424e9d267 "Preparing changes for 1.7.1 release (#227)  * Preparing changes for 1.7.1 release  * Changed MainPage for the Maui test app") [#227](https://github.com/sandrohanea/whisper.net/pull/227) [)](/sandrohanea/whisper.net/commit/919635297cca12a66aea083b37b4a0a424e9d267 "Preparing changes for 1.7.1 release (#227)  * Preparing changes for 1.7.1 release  * Changed MainPage for the Maui test app") | Oct 16, 2024 |
| [Makefile](/sandrohanea/whisper.net/blob/main/Makefile "Makefile") | [Makefile](/sandrohanea/whisper.net/blob/main/Makefile "Makefile") | [Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") | Dec 26, 2024 |
| [Whisper.net.Maui.Tests.sln](/sandrohanea/whisper.net/blob/main/Whisper.net.Maui.Tests.sln "Whisper.net.Maui.Tests.sln") | [Whisper.net.Maui.Tests.sln](/sandrohanea/whisper.net/blob/main/Whisper.net.Maui.Tests.sln "Whisper.net.Maui.Tests.sln") | [Fixed Android build + improved CI/CI with xharness + added AllRuntime…](/sandrohanea/whisper.net/commit/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d "Fixed Android build + improved CI/CI with xharness + added AllRuntimes package (#216)  Squash commit") | Oct 13, 2024 |
| [Whisper.net.WinX64.sln](/sandrohanea/whisper.net/blob/main/Whisper.net.WinX64.sln "Whisper.net.WinX64.sln") | [Whisper.net.WinX64.sln](/sandrohanea/whisper.net/blob/main/Whisper.net.WinX64.sln "Whisper.net.WinX64.sln") | [Release 1.2.1 (](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e "Release 1.2.1 (#5)  * Started to prepare 1.2.1  * Added WhisperFactory for multiple parallel executions.  * Changed exception type when file don't exist.  * Fixed macos library loader + compiled preview whisper.dylib  * Added version 1.2.1-preview1  * Rebuilt it on linux as the WSL build is not loading.  * Bumped and released version 1.2.1-preview2 with updated linux native library.  * Add ProcessAsync (#6)  * Fixed ProcessAsync + Moved internals to specific folder.  * Added codestyle .editorconfig and unified all code style + Removed Bcl.AsyncInterfaces for netstandard2.1+  * Added Whisper.net.Tests + fixed some concurrent issue on ProcessAsync  * Create dotnet.yml (#8)  * Create dotnet.yml  * Update dotnet.yml  * Added sln to dotnet test  * Update dotnet.yml  * Update dotnet.yml  * Update dotnet.yml  * Added codeball action  * Added PR write permission  * Little change to codeball to not approve and to have code suggestions.  * Release 1.2.1-preview4  * Fixed wave parser to parse the wave header only during first call + use appropiate methods (async or not) depending on that + reduced number of reads by reading the full required header buffer from one call.  * Added probability on SegmentData  * Adds support for utf8 texts (#10)  * Moved StringFromNativeUtf8 method to private  * Fixed #12 (hopefully)  * Added native build  Created by ChatGPT 🗡️  * Update nativebuild.yml (#13)  * Update nativebuild.yml  * Update codeball.yml  * WIP  * Added build scripts + removed preview  * Tested locally and removed macos temporary.  * Updated readme  ---------  Co-authored-by: Adam Novak <125261085+adamnova@users.noreply.github.com>") [#5](https://github.com/sandrohanea/whisper.net/pull/5) [)](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e "Release 1.2.1 (#5)  * Started to prepare 1.2.1  * Added WhisperFactory for multiple parallel executions.  * Changed exception type when file don't exist.  * Fixed macos library loader + compiled preview whisper.dylib  * Added version 1.2.1-preview1  * Rebuilt it on linux as the WSL build is not loading.  * Bumped and released version 1.2.1-preview2 with updated linux native library.  * Add ProcessAsync (#6)  * Fixed ProcessAsync + Moved internals to specific folder.  * Added codestyle .editorconfig and unified all code style + Removed Bcl.AsyncInterfaces for netstandard2.1+  * Added Whisper.net.Tests + fixed some concurrent issue on ProcessAsync  * Create dotnet.yml (#8)  * Create dotnet.yml  * Update dotnet.yml  * Added sln to dotnet test  * Update dotnet.yml  * Update dotnet.yml  * Update dotnet.yml  * Added codeball action  * Added PR write permission  * Little change to codeball to not approve and to have code suggestions.  * Release 1.2.1-preview4  * Fixed wave parser to parse the wave header only during first call + use appropiate methods (async or not) depending on that + reduced number of reads by reading the full required header buffer from one call.  * Added probability on SegmentData  * Adds support for utf8 texts (#10)  * Moved StringFromNativeUtf8 method to private  * Fixed #12 (hopefully)  * Added native build  Created by ChatGPT 🗡️  * Update nativebuild.yml (#13)  * Update nativebuild.yml  * Update codeball.yml  * WIP  * Added build scripts + removed preview  * Tested locally and removed macos temporary.  * Updated readme  ---------  Co-authored-by: Adam Novak <125261085+adamnova@users.noreply.github.com>") | Feb 21, 2023 |
| [Whisper.net.sln](/sandrohanea/whisper.net/blob/main/Whisper.net.sln "Whisper.net.sln") | [Whisper.net.sln](/sandrohanea/whisper.net/blob/main/Whisper.net.sln "Whisper.net.sln") | [Added Vulkan Linux (](/sandrohanea/whisper.net/commit/634157a2fe3d5e8860eb7ad6dc612179491f0be6 "Added Vulkan Linux (#280)  Vulkan wip") [#280](https://github.com/sandrohanea/whisper.net/pull/280) [)](/sandrohanea/whisper.net/commit/634157a2fe3d5e8860eb7ad6dc612179491f0be6 "Added Vulkan Linux (#280)  Vulkan wip") | Nov 26, 2024 |
| [dump.txt](/sandrohanea/whisper.net/blob/main/dump.txt "dump.txt") | [dump.txt](/sandrohanea/whisper.net/blob/main/dump.txt "dump.txt") | [Release/1.5.0 (](/sandrohanea/whisper.net/commit/8711b1bf6b68cf1323864513d65d532c5469e733 "Release/1.5.0 (#132)  * - Upgraded to Whisper.cpp 1.5.1   - Improved cancellation using CancellationToken provided => it's using the onabort handler in native library to cancel the processing faster     => addressing concerns from https://github.com/sandrohanea/whisper.net/issues/23    - Logging improvements: not logging to stderr by default anymore, but events can be registered (see [LogProvider](https://github.com/sandrohanea/whisper.net/tree/main/Whisper.net/Logger/LogProvider))      => Added optional logging in simple samples + CoreML sample      => Logging is now suppressed by default: https://github.com/sandrohanea/whisper.net/issues/129     - Added `useGpu` on WhisperFactory creation so that GPU usage can be disabled on specific runtimes (e.g. Cublas, CoreML, etc)     - Upgraded dotnet targets to dotnet 8     - Added support for whisper large v3 (including downloader + coreml model)        => Old model Large in downloader should be renamed to LargeV2 see [GgmlType](https://github.com/sandrohanea/whisper.net/blob/main/Whisper.net/Ggml/GgmlType.cs)     - Added linux-x64 support for Whisper.net.Runtime.Cublas     - Added support for distil-whisper https://github.com/sandrohanea/whisper.net/issues/126        => No downloader added, you'll need to load the model yourself        => How to build the model: https://github.com/ggerganov/whisper.cpp/tree/master/models#distilled-models     - **Added automated builds for all runtimes using Github Actions**     - Unified runtime builds with make for linux, macos, ios, tvos, wasm and powershell scripts for windows     - Added Blazor with InteractivityAuto, InteractivityServer and InteractivityWebAssemly sample with Blazor updated in dotnet 8.     - Unified Whisper.net.Runtime.Wasm with Whisper.net.Runtime        => If previously you were using Whisper.net.Runtime.Wasm, just replace it with Whisper.net.Runtime     - Added metal support for arm-based apple platforms (both Whisper.net.Runtime + Whisper.net.Runtime.CoreML)  * Commented local_whisper nuget source + reset github actions to execute against PRs  * Fixed linux build + changed native github actions to work with PRs as well, not only branches  * Add native changes wasm  * Add native changes android  * Add native changes windows  * Add native changes macos  * Updated readme  * Add native changes linux  ---------  Co-authored-by: sandrohanea <sandrohanea@users.noreply.github.com>") [#132](https://github.com/sandrohanea/whisper.net/pull/132) [)](/sandrohanea/whisper.net/commit/8711b1bf6b68cf1323864513d65d532c5469e733 "Release/1.5.0 (#132)  * - Upgraded to Whisper.cpp 1.5.1   - Improved cancellation using CancellationToken provided => it's using the onabort handler in native library to cancel the processing faster     => addressing concerns from https://github.com/sandrohanea/whisper.net/issues/23    - Logging improvements: not logging to stderr by default anymore, but events can be registered (see [LogProvider](https://github.com/sandrohanea/whisper.net/tree/main/Whisper.net/Logger/LogProvider))      => Added optional logging in simple samples + CoreML sample      => Logging is now suppressed by default: https://github.com/sandrohanea/whisper.net/issues/129     - Added `useGpu` on WhisperFactory creation so that GPU usage can be disabled on specific runtimes (e.g. Cublas, CoreML, etc)     - Upgraded dotnet targets to dotnet 8     - Added support for whisper large v3 (including downloader + coreml model)        => Old model Large in downloader should be renamed to LargeV2 see [GgmlType](https://github.com/sandrohanea/whisper.net/blob/main/Whisper.net/Ggml/GgmlType.cs)     - Added linux-x64 support for Whisper.net.Runtime.Cublas     - Added support for distil-whisper https://github.com/sandrohanea/whisper.net/issues/126        => No downloader added, you'll need to load the model yourself        => How to build the model: https://github.com/ggerganov/whisper.cpp/tree/master/models#distilled-models     - **Added automated builds for all runtimes using Github Actions**     - Unified runtime builds with make for linux, macos, ios, tvos, wasm and powershell scripts for windows     - Added Blazor with InteractivityAuto, InteractivityServer and InteractivityWebAssemly sample with Blazor updated in dotnet 8.     - Unified Whisper.net.Runtime.Wasm with Whisper.net.Runtime        => If previously you were using Whisper.net.Runtime.Wasm, just replace it with Whisper.net.Runtime     - Added metal support for arm-based apple platforms (both Whisper.net.Runtime + Whisper.net.Runtime.CoreML)  * Commented local_whisper nuget source + reset github actions to execute against PRs  * Fixed linux build + changed native github actions to work with PRs as well, not only branches  * Add native changes wasm  * Add native changes android  * Add native changes windows  * Add native changes macos  * Updated readme  * Add native changes linux  ---------  Co-authored-by: sandrohanea <sandrohanea@users.noreply.github.com>") | Nov 25, 2023 |
| [nuget.config](/sandrohanea/whisper.net/blob/main/nuget.config "nuget.config") | [nuget.config](/sandrohanea/whisper.net/blob/main/nuget.config "nuget.config") | [Fixed Android build + improved CI/CI with xharness + added AllRuntime…](/sandrohanea/whisper.net/commit/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d "Fixed Android build + improved CI/CI with xharness + added AllRuntimes package (#216)  Squash commit") | Oct 13, 2024 |
| [readme.md](/sandrohanea/whisper.net/blob/main/readme.md "readme.md") | [readme.md](/sandrohanea/whisper.net/blob/main/readme.md "readme.md") | [Removed unnecessary instances and simplified LogProviders + RuntimeOp…](/sandrohanea/whisper.net/commit/db4a2469e73d8b62e6d535f0b093296742b13799 "Removed unnecessary instances and simplified LogProviders + RuntimeOptions (#304)  * Removed unnecessary instances and simplified LogProviders + RuntimeOptions  * Changed logger provider to return IDisposable") | Dec 20, 2024 |
| [windows-scripts.ps1](/sandrohanea/whisper.net/blob/main/windows-scripts.ps1 "windows-scripts.ps1") | [windows-scripts.ps1](/sandrohanea/whisper.net/blob/main/windows-scripts.ps1 "windows-scripts.ps1") | [Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251 "Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)  * Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  * Fixed updated ggml-metal path  * WIP  * WIP  * WIP  * find -name  * find libggml-metal-whisper.dylib  * metal path fix  * WIP  * fixed blas path  * Added new libs to nuget packages  * Removed ggml log set  * Removed force load of ggml library.  * Fixes  * Test  * Added generic dependency loader.  * Fixed warning  * Trying to add ios artifact  * bumped minimum ios to 12.2 and removed ios.toolchain.cmake  * WIP  * Tried to add -r iossimulator-arm64  * Try again  * build android as well instead of publish  * Try again  * Switch to debug builds  * Bumepd to macos 15 and fixed NativeLibraryLoader  * Tried to add setup xcode 16.2  * aaa  * AA  * aaaa  * Try again  * WIP  * WTF  * Added USE_WHISPER_MAUI_TESTS to build net9-ios  * WIP  * WIP  * Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS  * Try again  * try again  * one more try  * aaa  * one more try  * Test  * Test 2  * Added test results for ios  * Skipping TestCancelEncoder on ios  * Added SkipOnIos  * Skipped TestCancelEncoder") | Dec 26, 2024 |
| View all files |

## Repository files navigation

# Whisper.net

[Permalink: Whisper.net](#whispernet)

Open-Source Whisper.net

Dotnet bindings for OpenAI Whisper made possible by [whisper.cpp](https://github.com/ggerganov/whisper.cpp)

## Build Status

[Permalink: Build Status](#build-status)

| Build type | Build Status |
| --- | --- |
| CI Status (Native + dotnet) | [![CI (Native + dotnet)](https://github.com/sandrohanea/whisper.net/actions/workflows/build-all.yml/badge.svg?branch=main)](https://github.com/sandrohanea/whisper.net/actions/workflows/build-all.yml) |

## Getting Started

[Permalink: Getting Started](#getting-started)

To install Whisper.net with all the available runtimes, run the following command in the [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console):

```
    PM> Install-Package Whisper.net.AllRuntimes

```

Or add a package reference in your `.csproj` file:

```
    <PackageReference Include="Whisper.net.AllRuntimes" Version="1.7.3" />

```

`Whisper.net` is the main package that contains the core functionality but does not include any runtimes. `Whisper.net.AllRuntimes` includes all available runtimes for Whisper.net.

### Installing Specific Runtimes

[Permalink: Installing Specific Runtimes](#installing-specific-runtimes)

To install a specific runtime, you can install them individually and combine them as needed. For example, to install the CPU runtime, add the following package references:

```
    <PackageReference Include="Whisper.net" Version="1.7.3" />

```

```
    <PackageReference Include="Whisper.net.Runtime" Version="1.7.3" />

```

## GPT for Whisper

[Permalink: GPT for Whisper](#gpt-for-whisper)

We also have a custom-built GPT inside ChatGPT, which can help you with information based on this code, previous issues, and releases. Available [here](https://chat.openai.com/g/g-GQU8iEnAa-whisper-net-helper).

Please try to ask it before publishing a new question here, as it can help you a lot faster.

## Runtimes Description

[Permalink: Runtimes Description](#runtimes-description)

Whisper.net comes with multiple runtimes to support different platforms and hardware acceleration. Below are the available runtimes:

### Whisper.net.Runtime

[Permalink: Whisper.net.Runtime](#whispernetruntime)

The default runtime that uses the CPU for inference. It is available on all platforms and does not require any additional dependencies.

#### Examples:

[Permalink: Examples:](#examples)

- [Simple usage example](https://github.com/sandrohanea/whisper.net/tree/main/examples/Simple)
- [Simple usage example (without Async processing)](https://github.com/sandrohanea/whisper.net/blob/main/examples/SimpleSync/Program.cs)
- [NAudio integration for mp3](https://github.com/sandrohanea/whisper.net/blob/main/examples/NAudioMp3/Program.cs)
- [NAudio integration for resampled wav](https://github.com/sandrohanea/whisper.net/blob/main/examples/NAudioResampleWav/Program.cs)
- [Simple channel diarization](https://github.com/sandrohanea/whisper.net/blob/main/examples/Diarization/Program.cs)
- [Blazor example](https://github.com/sandrohanea/whisper.net/tree/main/examples/BlazorApp)

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites)

- Windows: Microsoft Visual C++ Redistributable for at least Visual Studio 2019 (x64) [Download Link](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version)
- Linux: `libstdc++6`, `glibc 2.31`
- macOS: TBD
- For x86/x64 platforms, the CPU must support AVX, AVX2, FMA and F16C instructions. If your CPU does not support these instructions, you'll need to use the `Whisper.net.Runtime.NoAvx` runtime instead.

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms)

- Windows x86, x64, ARM64
- Linux x64, ARM64, ARM
- macOS x64, ARM64 (Apple Silicon)
- Android
- iOS
- MacCatalyst
- tvOS
- WebAssembly

### Whisper.net.Runtime.NoAvx

[Permalink: Whisper.net.Runtime.NoAvx](#whispernetruntimenoavx)

For CPUs that do not support AVX instructions.

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites-1)

- Windows: Microsoft Visual C++ Redistributable for at least Visual Studio 2019 (x64) [Download Link](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version)
- Linux: `libstdc++6`, `glibc 2.31`
- macOS: TBD

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-1)

- Windows x86, x64, ARM64
- Linux x64, ARM64, ARM

### Whisper.net.Runtime.Cuda

[Permalink: Whisper.net.Runtime.Cuda](#whispernetruntimecuda)

Contains the native whisper.cpp library with NVidia CUDA support enabled.

#### Examples

[Permalink: Examples](#examples-1)

- [CUDA usage example](https://github.com/sandrohanea/whisper.net/tree/main/examples/NvidiaCuda)

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites-2)

- Everything from Whisper.net.Runtime pre-requisites
- NVidia GPU with CUDA support
- [CUDA Toolkit (>= 12.1)](https://developer.nvidia.com/cuda-downloads)

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-2)

- Windows x64
- Linux x64

### Whisper.net.Runtime.CoreML

[Permalink: Whisper.net.Runtime.CoreML](#whispernetruntimecoreml)

Contains the native whisper.cpp library with Apple CoreML support enabled.

#### Examples:

[Permalink: Examples:](#examples-2)

- [CoreML example](https://github.com/sandrohanea/whisper.net/tree/main/examples/CoreML)

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-3)

- macOS x64, ARM64 (Apple Silicon)
- iOS
- MacCatalyst
- tvOS

### Whisper.net.Runtime.OpenVino

[Permalink: Whisper.net.Runtime.OpenVino](#whispernetruntimeopenvino)

Contains the native whisper.cpp library with Intel OpenVino support enabled.

#### Examples

[Permalink: Examples](#examples-3)

- [OpenVino Example](https://github.com/sandrohanea/whisper.net/tree/main/examples/OpenVinoExample)

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites-3)

- Everything from Whisper.net.Runtime pre-requisites
- [OpenVino Toolkit (>= 2024.4)](https://github.com/openvinotoolkit/openvino)

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-4)

- Windows x64
- Linux x64

### Whisper.net.Runtime.Vulkan

[Permalink: Whisper.net.Runtime.Vulkan](#whispernetruntimevulkan)

Contains the native whisper.cpp library with Vulkan support enabled.

#### Examples

[Permalink: Examples](#examples-4)

- [Vulkan Example](https://github.com/sandrohanea/whisper.net/tree/main/examples/Vulkan)

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites-4)

- Everything from Whisper.net.Runtime pre-requisites
- [Vulkan Toolkit (>= 1.3.290.0)](https://vulkan.lunarg.com/sdk/home)\]

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-5)

- Windows x64

## Multiple Runtimes Support

[Permalink: Multiple Runtimes Support](#multiple-runtimes-support)

You can install and use multiple runtimes in the same project. The runtime will be automatically selected based on the platform you are running the application on and the availability of the native runtime.

The following order of priority will be used by default:

1. `Whisper.net.Runtime.Cuda` (NVidia devices with all drivers installed)
2. `Whisper.net.Runtime.Vulkan` (Windows x64 with Vulkan installed)
3. `Whisper.net.Runtime.CoreML` (Apple devices)
4. `Whisper.net.Runtime.OpenVino` (Intel devices)
5. `Whisper.net.Runtime` (CPU inference)
6. `Whisper.net.Runtime.NoAvx` (CPU inference without AVX support)

To change the order or force a specific runtime, set the `RuntimeLibraryOrder` on the `RuntimeOptions`:

```
RuntimeOptions.RuntimeLibraryOrder =
[\
    RuntimeLibrary.CoreML,\
    RuntimeLibrary.OpenVino,\
    RuntimeLibrary.Cuda,\
    RuntimeLibrary.Cpu\
];
```

## Versioning

[Permalink: Versioning](#versioning)

Each version of Whisper.net is tied to a specific version of Whisper.cpp. The version of Whisper.net is the same as the version of Whisper it is based on. For example, Whisper.net 1.2.0 is based on Whisper.cpp 1.2.0.

However, the patch version is not tied to Whisper.cpp. For example, Whisper.net 1.2.1 is based on Whisper.cpp 1.2.0 and Whisper.net 1.7.0 is based on Whisper.cpp 1.7.1.

## Ggml Models

[Permalink: Ggml Models](#ggml-models)

Whisper.net uses Ggml models to perform speech recognition and translation. You can find more about Ggml models [here](https://github.com/ggerganov/whisper.cpp/tree/master/models).

For easier integration, Whisper.net provides a Downloader using [Hugging Face](https://huggingface.co).

```
var modelName = "ggml-base.bin";
if (!File.Exists(modelName))
{
    using var modelStream = await WhisperGgmlDownloader.GetGgmlModelAsync(GgmlType.Base);
    using var fileWriter = File.OpenWrite(modelName);
    await modelStream.CopyToAsync(fileWriter);
}
```

## Usage

[Permalink: Usage](#usage)

```
using var whisperFactory = WhisperFactory.FromPath("ggml-base.bin");

using var processor = whisperFactory.CreateBuilder()
    .WithLanguage("auto")
    .Build();

using var fileStream = File.OpenRead(wavFileName);

await foreach (var result in processor.ProcessAsync(fileStream))
{
    Console.WriteLine($"{result.Start}->{result.End}: {result.Text}");
}
```

## Documentation

[Permalink: Documentation](#documentation)

You can find the documentation and code samples [here](https://github.com/sandrohanea/whisper.net).

## Building The Runtime

[Permalink: Building The Runtime](#building-the-runtime)

This section describes how to build the native runtime libraries for Whisper.net.
Normally, you would not need to build the runtime libraries yourself, as they are available as NuGet packages.

The build scripts are a combination of PowerShell scripts and a Makefile. You can read each of them for the underlying `cmake` commands being used, or run them directly from the scripts.

You can also check the github actions available [here](https://github.com/sandrohanea/whisper.net/tree/main/.github/workflows)

### Android

[Permalink: Android](#android)

`make android`

Before running, create an environment variable for `NDK_PATH` with the path to your Android NDK. For example:

`NDK_PATH=/Users/UserName/Library/Developer/Xamarin/android-sdk-macosx/ndk-bundle`

### Apple

[Permalink: Apple](#apple)

`make apple`

Compiling the Apple libraries requires a Mac with Xcode installed.

### Apple CoreML

[Permalink: Apple CoreML](#apple-coreml)

`make apple_coreml`

Compiling the Apple libraries requires a Mac with Xcode installed.

### Linux

[Permalink: Linux](#linux)

`make linux`

### Windows

[Permalink: Windows](#windows)

Import the PowerShell module:

`Import-Module ./windows-scripts.ps1`

Run `BuildWindowsAll` to build all Windows libraries.
Alternatively, you can run `BuildWindows` with the desired parameters.

```
BuildWindows -Arch "x64" -Configuration "Release"  -NoAvx $true

```

## License

[Permalink: License](#license)

MIT License. See [LICENSE](https://github.com/sandrohanea/whisper.net/blob/main/LICENSE) for details.

## About

Whisper.net. Speech to text made simple using Whisper Models


### Topics

[translation](/topics/translation "Topic: translation") [cross-platform](/topics/cross-platform "Topic: cross-platform") [dotnet](/topics/dotnet "Topic: dotnet") [dotnetcore](/topics/dotnetcore "Topic: dotnetcore") [speech-recognition](/topics/speech-recognition "Topic: speech-recognition") [speech-to-text](/topics/speech-to-text "Topic: speech-to-text")

### Resources

[Readme](#readme-ov-file)

### License

[MIT license](#MIT-1-ov-file)

[Activity](/sandrohanea/whisper.net/activity)

### Stars

[**609**\\
stars](/sandrohanea/whisper.net/stargazers)

### Watchers

[**26**\\
watching](/sandrohanea/whisper.net/watchers)

### Forks

[**96**\\
forks](/sandrohanea/whisper.net/forks)

[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net&report=sandrohanea+%28user%29)

## [Releases\  14](/sandrohanea/whisper.net/releases)

[v1.7.4\\
Latest\\
\\
Dec 26, 2024](/sandrohanea/whisper.net/releases/tag/1.7.4)

[\+ 13 releases](/sandrohanea/whisper.net/releases)

## Sponsor this project

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=64&v=4)](/sandrohanea)[**sandrohanea** Sandro Hanea](/sandrohanea)

[Sponsor](/sponsors/sandrohanea)

[Learn more about GitHub Sponsors](/sponsors)

## [Packages\  0](/users/sandrohanea/packages?repo_name=whisper.net)

No packages published

## [Used by 152](/sandrohanea/whisper.net/network/dependents)

[- ![@Kyle-Hasan](https://avatars.githubusercontent.com/u/69826228?s=64&v=4)\\
- ![@VolcanicArts](https://avatars.githubusercontent.com/u/29819296?s=64&v=4)\\
- ![@Straydart](https://avatars.githubusercontent.com/u/118807388?s=64&v=4)\\
- ![@CaledTarique](https://avatars.githubusercontent.com/u/81238102?s=64&v=4)\\
- ![@MarshmallowAndroid](https://avatars.githubusercontent.com/u/19908167?s=64&v=4)\\
- ![@nathanpbutler](https://avatars.githubusercontent.com/u/58799826?s=64&v=4)\\
- ![@dev-kota](https://avatars.githubusercontent.com/u/188550700?s=64&v=4)\\
- ![@lewpar](https://avatars.githubusercontent.com/u/97650662?s=64&v=4)\\
\\
\+ 144](/sandrohanea/whisper.net/network/dependents)

## [Contributors\  12](/sandrohanea/whisper.net/graphs/contributors)

- [![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=64&v=4)](https://github.com/sandrohanea)
- [![@dependabot[bot]](https://avatars.githubusercontent.com/in/29110?s=64&v=4)](https://github.com/apps/dependabot)
- [![@drasticactions](https://avatars.githubusercontent.com/u/898335?s=64&v=4)](https://github.com/drasticactions)
- [![@jettoblack](https://avatars.githubusercontent.com/u/1063468?s=64&v=4)](https://github.com/jettoblack)
- [![@GFNiko](https://avatars.githubusercontent.com/u/114079308?s=64&v=4)](https://github.com/GFNiko)
- [![@adamnova](https://avatars.githubusercontent.com/u/125261085?s=64&v=4)](https://github.com/adamnova)
- [![@jdluzen](https://avatars.githubusercontent.com/u/160958?s=64&v=4)](https://github.com/jdluzen)
- [![@SnakyBeaky](https://avatars.githubusercontent.com/u/8410877?s=64&v=4)](https://github.com/SnakyBeaky)
- [![@aki-0929](https://avatars.githubusercontent.com/u/14925372?s=64&v=4)](https://github.com/aki-0929)
- [![@Sing303](https://avatars.githubusercontent.com/u/19262319?s=64&v=4)](https://github.com/Sing303)
- [![@vadd98](https://avatars.githubusercontent.com/u/71467711?s=64&v=4)](https://github.com/vadd98)
- [![@AncientLust](https://avatars.githubusercontent.com/u/84724571?s=64&v=4)](https://github.com/AncientLust)

## Languages

- [C#85.9%](/sandrohanea/whisper.net/search?l=c%23)
- [Makefile10.9%](/sandrohanea/whisper.net/search?l=makefile)
- [PowerShell2.5%](/sandrohanea/whisper.net/search?l=powershell)
- [CMake0.7%](/sandrohanea/whisper.net/search?l=cmake)

You can’t perform that action at this time.

---

# Pull requests · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Pull requests: sandrohanea/whisper.net

[New pull requestNew](/sandrohanea/whisper.net/compare)

[1 Open](/sandrohanea/whisper.net/pulls?q=is%3Aopen+is%3Apr) [156 Closed](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aclosed)

[1 Open](/sandrohanea/whisper.net/pulls?q=is%3Aopen+is%3Apr) [156 Closed](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aclosed)

Author


Loading

author:

Filter by this user

Label


Loading

Projects


Loading

Milestones


Loading

Reviews


[No reviews](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+review%3Anone) [Review required](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+review%3Arequired) [Approved review](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+review%3Aapproved) [Changes requested](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+review%3Achanges-requested)

Assignee


[**Assigned to nobody**](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+no%3Aassignee)Loading

assignee:

Filter by this user

Sort

[Newest](/sandrohanea/whisper.net/pulls?q=is%3Aopen+is%3Apr) [Oldest](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Acreated-asc) [Most commented](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Acomments-desc) [Least commented](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Acomments-asc) [Recently updated](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-desc) [Least recently updated](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc) [Best match](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Arelevance-desc)

Most reactions

[![+1](https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png)](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Areactions-%2B1-desc)[![-1](https://github.githubassets.com/assets/1f44e-ce91733aae25.png)](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Areactions--1-desc)[![smile](https://github.githubassets.com/assets/1f604-7528822fb4c5.png)](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Areactions-smile-desc)[![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Areactions-tada-desc)[![thinking_face](https://github.githubassets.com/assets/1f615-4bb1369c4251.png)](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Areactions-thinking_face-desc)[![heart](https://github.githubassets.com/assets/2764-982dc91ea48a.png)](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Areactions-heart-desc)[![rocket](https://github.githubassets.com/assets/1f680-d0ef47fdb515.png)](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Areactions-rocket-desc)[![eyes](https://github.githubassets.com/assets/1f440-ee44e91e92a7.png)](/sandrohanea/whisper.net/pulls?q=is%3Apr+is%3Aopen+sort%3Areactions-eyes-desc)

## Pull requests list

[Bumping version 1.7.4 in examples](/sandrohanea/whisper.net/pull/312)

#312
opened Dec 27, 2024 by
[sandrohanea](/sandrohanea/whisper.net/issues?q=is%3Apr+is%3Aopen+author%3Asandrohanea "Open pull requests created by sandrohanea")

[Link to Issue. Bumping version 1.7.4 in examples](/sandrohanea/whisper.net/pull/312)

**ProTip!**
Follow long discussions with [comments:>50](/sandrohanea/whisper.net/issues?q=is%3Apr+is%3Aopen+comments%3A%3E50).

You can’t perform that action at this time.

---

# Security Overview · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Security: sandrohanea/whisper.net

## Security

### No security policy detected

This project has not set up a SECURITY.md file yet.

## There aren’t any published security advisories

You can’t perform that action at this time.

---

# Issues · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Issues: sandrohanea/whisper.net


New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[10 Open](/sandrohanea/whisper.net/issues?q=is%3Aopen+is%3Aissue) [141 Closed](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aclosed)

[10 Open](/sandrohanea/whisper.net/issues?q=is%3Aopen+is%3Aissue) [141 Closed](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aclosed)

Author


Loading

author:

Filter by this user

Label


Loading

Projects


Loading

Milestones


Loading

Assignee


[**Assigned to nobody**](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+no%3Aassignee)Loading

assignee:

Filter by this user

Sort

[Newest](/sandrohanea/whisper.net/issues?q=is%3Aopen+is%3Aissue) [Oldest](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Acreated-asc) [Most commented](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Acomments-desc) [Least commented](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Acomments-asc) [Recently updated](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc) [Least recently updated](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-asc) [Best match](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Arelevance-desc)

Most reactions

[![+1](https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png)](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-%2B1-desc)[![-1](https://github.githubassets.com/assets/1f44e-ce91733aae25.png)](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions--1-desc)[![smile](https://github.githubassets.com/assets/1f604-7528822fb4c5.png)](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-smile-desc)[![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-tada-desc)[![thinking_face](https://github.githubassets.com/assets/1f615-4bb1369c4251.png)](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-thinking_face-desc)[![heart](https://github.githubassets.com/assets/2764-982dc91ea48a.png)](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-heart-desc)[![rocket](https://github.githubassets.com/assets/1f680-d0ef47fdb515.png)](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-rocket-desc)[![eyes](https://github.githubassets.com/assets/1f440-ee44e91e92a7.png)](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-eyes-desc)

## Issues list

[Version 1.7.4 Fails to build Whisper.net.Demo](/sandrohanea/whisper.net/issues/311)

#311
opened Dec 27, 2024 by
[steve3p0](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3Asteve3p0 "Open issues created by steve3p0")

1 task done

[1](/sandrohanea/whisper.net/issues/311)

[Link to Issue. Version 1.7.4 Fails to build Whisper.net.Demo](/sandrohanea/whisper.net/issues/311)

[\[Tests\] TestCancelEncoder is not working on ios](/sandrohanea/whisper.net/issues/308)

#308
opened Dec 26, 2024 by
[sandrohanea](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3Asandrohanea "Open issues created by sandrohanea")

[Link to Issue. [Tests] TestCancelEncoder is not working on ios](/sandrohanea/whisper.net/issues/308)

[Docker on Apple M2: Failed to load native whisper library](/sandrohanea/whisper.net/issues/296)

#296
opened Dec 11, 2024 by
[pavelzaitsau](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3Apavelzaitsau "Open issues created by pavelzaitsau")

[2](/sandrohanea/whisper.net/issues/296)

[Link to Issue. Docker on Apple M2: Failed to load native whisper library](/sandrohanea/whisper.net/issues/296)

[The problem of multilingual mixing in recording](/sandrohanea/whisper.net/issues/177)[enhancement](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3Aenhancement) New feature or request

#177
opened Mar 12, 2024 by
[duwenlong2](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3Aduwenlong2 "Open issues created by duwenlong2")

[1](/sandrohanea/whisper.net/issues/177)

[Link to Issue. The problem of multilingual mixing in recording](/sandrohanea/whisper.net/issues/177)

[Windows UWP release execution errors](/sandrohanea/whisper.net/issues/163)[configuration-runtimes](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3Aconfiguration-runtimes)

#163
opened Feb 2, 2024 by
[asata](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3Aasata "Open issues created by asata")

[2](/sandrohanea/whisper.net/issues/163)

[Link to Issue. Windows UWP release execution errors](/sandrohanea/whisper.net/issues/163)

["\[0:\] unsupported os platform, architecture: arm64" while using version 1.5.0](/sandrohanea/whisper.net/issues/157)[configuration-runtimes](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3Aconfiguration-runtimes) [regression](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3Aregression)

#157
opened Jan 26, 2024 by
[Leonm99](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3ALeonm99 "Open issues created by Leonm99")

[4](/sandrohanea/whisper.net/issues/157)

[Link to Issue. "[0:] unsupported os platform, architecture: arm64" while using version 1.5.0](/sandrohanea/whisper.net/issues/157)

[Slow performance on MacOs](/sandrohanea/whisper.net/issues/152)[question](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3Aquestion) Further information is requested

#152
opened Jan 15, 2024 by
[Sing303](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3ASing303 "Open issues created by Sing303")

[2](/sandrohanea/whisper.net/issues/152)

[Link to Issue. Slow performance on MacOs](/sandrohanea/whisper.net/issues/152)

[Will support for openvino runtime be added?](/sandrohanea/whisper.net/issues/146)[configuration-runtimes](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3Aconfiguration-runtimes) [GPU](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3AGPU)

#146
opened Dec 10, 2023 by
[Sing303](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3ASing303 "Open issues created by Sing303")

[2](/sandrohanea/whisper.net/issues/146)

[Link to Issue. Will support for openvino runtime be added?](/sandrohanea/whisper.net/issues/146)

[CoreML not working on Mac](/sandrohanea/whisper.net/issues/137)[configuration-runtimes](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3Aconfiguration-runtimes) [GPU](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3AGPU)

#137
opened Nov 23, 2023 by
[jettoblack](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3Ajettoblack "Open issues created by jettoblack")

[15](/sandrohanea/whisper.net/issues/137)

[Link to Issue. CoreML not working on Mac](/sandrohanea/whisper.net/issues/137)

[OpenBLAS support](/sandrohanea/whisper.net/issues/63)[enhancement](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+label%3Aenhancement) New feature or request

#63
opened Jun 3, 2023 by
[jdluzen](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+author%3Ajdluzen "Open issues created by jdluzen")

[1](/sandrohanea/whisper.net/issues/63/linked_closing_reference?reference_location=REPO_ISSUES_INDEX)

[2](/sandrohanea/whisper.net/issues/63)

[Link to Issue. OpenBLAS support](/sandrohanea/whisper.net/issues/63)

**ProTip!**
Updated in the last three days: [updated:>2024-12-24](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aopen+updated%3A%3E2024-12-24).

You can’t perform that action at this time.

---

# Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## All workflows     \#\#\# All workflows         \#\# Actions

will be ignored since log searching is not yet available


Showing runs from all workflows

will be ignored since log searching is not yet available


**712 workflow runs**

**712 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

[Bumping version 1.7.4 in examples](/sandrohanea/whisper.net/actions/runs/12517787748)CI (Native + dotnet)
#305:


Pull request [#312](/sandrohanea/whisper.net/pull/312)

opened
by
[sandrohanea](/sandrohanea)

December 27, 2024 15:27In progress[bump/174](/sandrohanea/whisper.net/tree/refs/heads/bump/174 "bump/174")

[bump/174](/sandrohanea/whisper.net/tree/refs/heads/bump/174 "bump/174")

December 27, 2024 15:27In progress

- [View #312](/sandrohanea/whisper.net/pull/312)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12517787748/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/12507001106)CD (Native + dotnet)
#25:


Manually run


by
[sandrohanea](/sandrohanea)

December 26, 2024 18:14
1h 33m 47s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 26, 2024 18:14
1h 33m 47s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12507001106/workflow)

[Removed continuous recognition example and replaced it with a link th…](/sandrohanea/whisper.net/actions/runs/12506857126)CI (Native + dotnet)
#304:


Commit [a3ec2f8](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)

pushed
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:59
14m 30s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 26, 2024 17:59
14m 30s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506857126/workflow)

[Removed continuous recognition example and replaced it with a link the echosharp](/sandrohanea/whisper.net/actions/runs/12506853099)CI (Native + dotnet)
#303:


Pull request [#309](/sandrohanea/whisper.net/pull/309)

opened
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:59
12m 33s
[echosharp/removedcontinuousrecognition](/sandrohanea/whisper.net/tree/refs/heads/echosharp/removedcontinuousrecognition "echosharp/removedcontinuousrecognition")

[echosharp/removedcontinuousrecognition](/sandrohanea/whisper.net/tree/refs/heads/echosharp/removedcontinuousrecognition "echosharp/removedcontinuousrecognition")

December 26, 2024 17:59
12m 33s


- [View #309](/sandrohanea/whisper.net/pull/309)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506853099/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)](/sandrohanea/whisper.net/actions/runs/12506804829)CI (Native + dotnet)
#302:


Commit [ffc0cdb](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)

pushed
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:51
13m 17s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 26, 2024 17:51
13m 17s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506804829/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12506703898)CI (Native + dotnet)
#301:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:37
12m 43s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 17:37
12m 43s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506703898/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12506514905)CI (Native + dotnet)
#300:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:17
14m 9s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 17:17
14m 9s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506514905/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12506280835)CI (Native + dotnet)
#299:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 16:51
13m 5s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 16:51
13m 5s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506280835/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505816642)CI (Native + dotnet)
#298:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:59
15m 40s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:59
15m 40s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505816642/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505697487)CI (Native + dotnet)
#297:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:44
12m 57s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:44
12m 57s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505697487/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505689391)CI (Native + dotnet)
#296:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:43
13m 1s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:43
13m 1s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505689391/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505473559)CI (Native + dotnet)
#295:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:20
5m 51s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:20
5m 51s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505473559/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505318725)CI (Native + dotnet)
#294:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:05
9m 34s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:05
9m 34s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505318725/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505249370)CI (Native + dotnet)
#293:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 14:58
23m 55s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 14:58
23m 55s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505249370/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504767100)CI (Native + dotnet)
#292:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 14:05
21m 56s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 14:05
21m 56s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504767100/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504698498)CI (Native + dotnet)
#291:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:59
6m 37s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:59
6m 37s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504698498/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504608727)CI (Native + dotnet)
#290:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:47
18m 46s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:47
18m 46s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504608727/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504303921)CI (Native + dotnet)
#289:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:14
5m 41s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:14
5m 41s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504303921/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504227071)CI (Native + dotnet)
#288:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:07
5m 50s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:07
5m 50s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504227071/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504159019)CI (Native + dotnet)
#287:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:00
5m 46s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:00
5m 46s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504159019/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12503994619)CI (Native + dotnet)
#286:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 12:42
6m 29s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 12:42
6m 29s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12503994619/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12503912421)CI (Native + dotnet)
#285:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 12:33
6m 5s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 12:33
6m 5s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12503912421/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12493385892)CI (Native + dotnet)
#284:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 25, 2024 13:06
6m 23s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 25, 2024 13:06
6m 23s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12493385892/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12481734976)CI (Native + dotnet)
#283:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 24, 2024 12:32
6m 51s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 24, 2024 12:32
6m 51s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12481734976/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12481672907)CI (Native + dotnet)
#282:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 24, 2024 12:26
6m 10s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 24, 2024 12:26
6m 10s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12481672907/workflow)

Previous _1_ [2](/sandrohanea/whisper.net/actions?page=2) [3](/sandrohanea/whisper.net/actions?page=3) [4](/sandrohanea/whisper.net/actions?page=4) [5](/sandrohanea/whisper.net/actions?page=5)… [28](/sandrohanea/whisper.net/actions?page=28) [29](/sandrohanea/whisper.net/actions?page=29) [Next](/sandrohanea/whisper.net/actions?page=2)

You can’t perform that action at this time.

---

# Removed continuous recognition example and replaced it with a link th… · sandrohanea/whisper.net@a3ec2f8 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

Removed continuous recognition example and replaced it with a link th…


[Browse files](/sandrohanea/whisper.net/tree/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd) Browse the repository at this point in the history

```
…e echosharp (#309)
```

- [main](/sandrohanea/whisper.net)
- ( [#309](/sandrohanea/whisper.net/pull/309 "Merged Pull Request: Removed continuous recognition example and replaced it with a link the echosharp"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

authored
Dec 26, 2024

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[ffc0cdb](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)commit a3ec2f8

Showing
**1 changed file**
with
**2 additions**
and
**141 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

143 changes: 2 additions & 141 deletions
143 [examples/ContinuousRecognition/Program.cs](#diff-a283e362c59a5042aa3754a7145b972c13ee70530514dc23cfbcf09e3b2aa5ff "examples/ContinuousRecognition/Program.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd/examples/ContinuousRecognition/Program.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,143 +1,4 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net; |
|  |  | usingWhisper.net.Ggml; |
|  |  | usingWhisper.net.Wave; |
|  |  |  |
|  |  | varggmlType=GgmlType.TinyEn; |
|  |  | varmodelFileName="ggml-tinyen.bin"; |
|  |  | varwavFileName="bush.wav"; |
|  |  |  |
|  |  | varmaxProcessingTimeMs=10000; |
|  |  | varminProcessingTimeMs=1500; |
|  |  | varadvancingProcessingTimeMs=500; |
|  |  |  |
|  |  | if(!File.Exists(modelFileName)) |
|  |  | { |
|  |  | awaitDownloadModel(modelFileName,ggmlType); |
|  |  | } |
|  |  |  |
|  |  | usingvarwhisperFactory=WhisperFactory.FromPath(modelFileName); |
|  |  |  |
|  |  | varbuilder=whisperFactory.CreateBuilder() |
|  |  | .WithProbabilities() |
|  |  | .WithLanguage("en"); |
|  |  |  |
|  |  | usingvarfileStream=File.OpenRead(wavFileName); |
|  |  | varwaveParser=newWaveParser(fileStream); |
|  |  | awaitwaveParser.InitializeAsync(); |
|  |  |  |
|  |  | varsamples=newfloat\[waveParser.SampleRate/1000\*maxProcessingTimeMs\]; |
|  |  |  |
|  |  | // Process first the minimum processing time of the audio file |
|  |  |  |
|  |  | // Read first min processing time into samples |
|  |  | vardataPosition=waveParser.DataChunkPosition; |
|  |  |  |
|  |  | fileStream.Seek(dataPosition,SeekOrigin.Begin); |
|  |  |  |
|  |  | varpartialResults=newList<(List<SegmentData>segments,TimeSpanstartTime,TimeSpanendTime)>(); |
|  |  | varbuffer=newbyte\[waveParser.SampleRate/1000\*maxProcessingTimeMs\*2\*waveParser.Channels\]; |
|  |  |  |
|  |  | varbufferSize=waveParser.SampleRate/1000\*minProcessingTimeMs\*2\*waveParser.Channels; |
|  |  |  |
|  |  | varbytesRead=awaitfileStream.ReadAsync(buffer.AsMemory(0,(int)bufferSize)); |
|  |  |  |
|  |  | varcurrentSampleIndex=0; |
|  |  |  |
|  |  | for(vari=0;i<bytesRead;) |
|  |  | { |
|  |  | longsampleSum=0; |
|  |  |  |
|  |  | for(varcurrentChannel=0;currentChannel<waveParser.Channels;currentChannel++) |
|  |  | { |
|  |  | sampleSum+=BitConverter.ToInt16(buffer,i); |
|  |  | i+=2; |
|  |  | } |
|  |  |  |
|  |  | samples\[currentSampleIndex++\]=sampleSum/(float)waveParser.Channels/32768.0f; |
|  |  | } |
|  |  |  |
|  |  | varcurrentProcessedStartTime=TimeSpan.Zero; |
|  |  | varcurrentProcessedEndTime=TimeSpan.FromMilliseconds(minProcessingTimeMs); |
|  |  |  |
|  |  | awaitusing(varprocessor=builder.Build()) |
|  |  | { |
|  |  | varsegments=newList<SegmentData>(); |
|  |  | awaitforeach(vardatainprocessor.ProcessAsync(samples.AsMemory(0,currentSampleIndex))) |
|  |  | { |
|  |  | segments.Add(data); |
|  |  |  |
|  |  | } |
|  |  | partialResults.Add((segments,currentProcessedStartTime,currentProcessedEndTime)); |
|  |  | } |
|  |  |  |
|  |  | varfullText=string.Empty; |
|  |  |  |
|  |  | while(currentSampleIndex<waveParser.SamplesCount) |
|  |  | { |
|  |  | bufferSize=waveParser.SampleRate/1000\*advancingProcessingTimeMs\*2\*waveParser.Channels; |
|  |  |  |
|  |  | bytesRead=awaitfileStream.ReadAsync(buffer.AsMemory(0,(int)bufferSize)); |
|  |  | for(vari=0;i<bytesRead;) |
|  |  | { |
|  |  | longsampleSum=0; |
|  |  |  |
|  |  | for(varcurrentChannel=0;currentChannel<waveParser.Channels;currentChannel++) |
|  |  | { |
|  |  | sampleSum+=BitConverter.ToInt16(buffer,i); |
|  |  | i+=2; |
|  |  | } |
|  |  |  |
|  |  | samples\[currentSampleIndex++\]=sampleSum/(float)waveParser.Channels/32768.0f; |
|  |  | } |
|  |  |  |
|  |  | currentProcessedEndTime=currentProcessedEndTime.Add(TimeSpan.FromMilliseconds(advancingProcessingTimeMs)); |
|  |  |  |
|  |  | awaitusing(varprocessor=builder.Build()) |
|  |  | { |
|  |  | varsegments=newList<SegmentData>(); |
|  |  | awaitforeach(vardatainprocessor.ProcessAsync(samples.AsMemory(0,currentSampleIndex))) |
|  |  | { |
|  |  | segments.Add(data); |
|  |  | } |
|  |  | partialResults.Add((segments,currentProcessedStartTime,currentProcessedEndTime)); |
|  |  |  |
|  |  | varindexSegment=0; |
|  |  | foreach(varsegmentinsegments) |
|  |  | { |
|  |  | Console.WriteLine($"{indexSegment}: {segment.Start}->{segment.End}: {segment.Text} =\> with probability: {segment.Probability}"); |
|  |  | indexSegment++; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | varindexPartial=0; |
|  |  | //TODO: Check if partials concluded to one finished segment and return it. |
|  |  | foreach(varpartialinpartialResults) |
|  |  | { |
|  |  | // Console.WriteLine(indexPartial + ":" + partial.startTime + " - " + partial.endTime + " " + partial.segments.Count + " segments\\n-----------"); |
|  |  | indexPartial++; |
|  |  | // If one segment is identified. E.g. "My fellow Americans" from second 0 to second 3 => we remove that part from the samples, adding the text to the prompt and continue processing the rest of the samples. |
|  |  | } |
|  |  |  |
|  |  | // If the total current processing time is reaching max processing time => we remove half of the samples and continue processing the rest of the samples. |
|  |  | if(currentProcessedEndTime.TotalMilliseconds-currentProcessedStartTime.TotalMilliseconds>=maxProcessingTimeMs) |
|  |  | { |
|  |  | // First, we copy the last part of the samples to the beginning of the array |
|  |  | varsamplesToCopy=currentSampleIndex-maxProcessingTimeMs/2; |
|  |  | for(vari=0;i<samplesToCopy;i++) |
|  |  | { |
|  |  | samples\[i\]=samples\[i+maxProcessingTimeMs/2\]; |
|  |  | } |
|  |  | currentProcessedStartTime=currentProcessedStartTime.Add(TimeSpan.FromMilliseconds(maxProcessingTimeMs/2)); |
|  |  | currentSampleIndex=samplesToCopy; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | staticasyncTaskDownloadModel(stringfileName,GgmlTypeggmlType) |
|  |  | { |
|  |  | Console.WriteLine($"Downloading Model {fileName}"); |
|  |  | usingvarmodelStream=awaitWhisperGgmlDownloader.GetGgmlModelAsync(ggmlType); |
|  |  | usingvarfileWriter=File.OpenWrite(fileName); |
|  |  | awaitmodelStream.CopyToAsync(fileWriter); |
|  |  | } |
|  |  | // This example was moved to echo sharp to allow better real-time transcription using VAD components, see: https://github.com/sandrohanea/echosharp |
|  |  | Console.WriteLine("Moved to https://github.com/sandrohanea/echosharp"); |

Toggle all file notesToggle all file annotations

### 0 comments  on commit `a3ec2f8`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2Fa3ec2f8fa8f19a5fd905dec2368aa16940dd35fd) to comment.

You can’t perform that action at this time.

---

# Activity · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


All branches

All activity

All users

All time

[Showing most recent first](/sandrohanea/whisper.net/activity?sort=ASC)

## Bumping version 1.7.4 in examples

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) created [bump/174](/sandrohanea/whisper.net/activity?ref=bump/174) • 7b61402 •
5 minutes ago

## Deleted branch

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) deleted [echosharp/removedcontinuousrecognition](/sandrohanea/whisper.net/activity?ref=echosharp/removedcontinuousrecognition) •
21 hours ago

## Removed continuous recognition example and replaced it with a link th…

Pull request merge

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [main](/sandrohanea/whisper.net/activity?ref=main) • ffc0cdb…a3ec2f8 •
21 hours ago

## Removed continuous recognition example and replaced it with a link th…

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) created [echosharp/removedcontinuousrecognition](/sandrohanea/whisper.net/activity?ref=echosharp/removedcontinuousrecognition) • 406bc65 •
21 hours ago

## Deleted branch

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) deleted [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) •
21 hours ago

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold ( [\#305](https://github.com/sandrohanea/whisper.net/pull/305))

Pull request merge

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [main](/sandrohanea/whisper.net/activity?ref=main) • 0b9bb5d…ffc0cdb •
21 hours ago

## Skipped TestCancelEncoder

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • bde50f6…01be260 •
21 hours ago

## Added SkipOnIos

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 0992be0…bde50f6 •
22 hours ago

## Skipping TestCancelEncoder on ios

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 4504864…0992be0 •
22 hours ago

## Added test results for ios

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 55f0045…4504864 •
23 hours ago

## Test 2

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • a1c06a7…55f0045 •
23 hours ago

## Test

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 72fd64a…a1c06a7 •
23 hours ago

## one more try

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 1f36604…72fd64a •
yesterday

## aaa

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 4f33a15…1f36604 •
yesterday

## one more try

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • e843079…4f33a15 •
yesterday

## try again

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 9749044…e843079 •
yesterday

## Try again

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 2d2c270…9749044 •
yesterday

## Transformed tests to target net8,9 only when USE\_WHISPER\_MAUI\_TESTS

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 809da3d…2d2c270 •
yesterday

## WIP

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 4ab913a…809da3d •
yesterday

## WIP

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 1e81761…4ab913a •
yesterday

## Added USE\_WHISPER\_MAUI\_TESTS to build net9-ios

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 00e92c8…1e81761 •
yesterday

## WTF

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • ada0d16…00e92c8 •
yesterday

## WIP

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 5ae6d39…ada0d16 •
yesterday

## Try again

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 23de1c0…5ae6d39 •
2 days ago

## aaaa

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • ee2c888…23de1c0 •
3 days ago

## AA

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 24a5e00…ee2c888 •
3 days ago

## aaa

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • bb517fe…24a5e00 •
3 days ago

## Tried to add setup xcode 16.2

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • e520af1…bb517fe •
3 days ago

## Bumepd to macos 15 and fixed NativeLibraryLoader

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • e3fcdcf…e520af1 •
3 days ago

## Switch to debug builds

[![](https://avatars.githubusercontent.com/u/40202887?s=80&v=4)sandrohanea](/sandrohanea) pushed 1 commit to [bump/whispercpp-173](/sandrohanea/whisper.net/activity?ref=bump/whispercpp-173) • 9565822…e3fcdcf •
3 days ago

You can’t perform that action at this time.

---

# sandrohanea/whisper.net · Discussions · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# sandrohanea whisper.net Discussions

Search all discussions


is:open

is:open

Clear

Sort by:Latest activity

[Latest activity](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen) [Date created](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+sort%3Adate_created) [Top: Past day](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+sort%3Atop+created%3A%3E%3D2024-12-26) [Top: Past week](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+sort%3Atop+created%3A%3E%3D2024-12-20) [Top: Past month](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+sort%3Atop+created%3A%3E%3D2024-11-27) [Top: Past year](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+sort%3Atop+created%3A%3E%3D2023-12-28) [Top: All](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+sort%3Atop)

Label

# Filter by label

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No labels found. Sorry about that.

Use `alt` \+ `click/return` to exclude labels.

Filter: Open

- [Open](/sandrohanea/whisper.net/discussions)
- [Closed](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aclosed)
- [Locked](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+is%3Alocked)
- [Unlocked](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+is%3Aunlocked)
- [Answered](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+is%3Aanswered)
- [Unanswered](/sandrohanea/whisper.net/discussions?discussions_q=is%3Aopen+is%3Aunanswered)
- [All](/sandrohanea/whisper.net/discussions?discussions_q=)

## Categories, most helpful, and community links

### Categories

### Most helpful

Be sure to mark someone’s comment as an answer if it helps you resolve your question — they deserve the credit!
![two_hearts](https://github.githubassets.com/assets/1f495-2a3a098864fb.png)

### Community links

- [Community guidelines](https://docs.github.com/articles/github-community-guidelines)

## Discussions

- 1You must be logged in to vote







![mega](https://github.githubassets.com/assets/1f4e3-a4a0c0b1e6a4.png)









### [v1.7.4](/sandrohanea/whisper.net/discussions/310)



[sandrohanea](/sandrohanea)

announced
Dec 26, 2024 in [Announcements](/sandrohanea/whisper.net/discussions/categories/announcements?discussions_q=is%3Aopen+category%3AAnnouncements)











[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)







[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)







[0](/sandrohanea/whisper.net/discussions/310)

- 2You must be logged in to vote







![mega](https://github.githubassets.com/assets/1f4e3-a4a0c0b1e6a4.png)









### [v1.7.3](/sandrohanea/whisper.net/discussions/285)



[sandrohanea](/sandrohanea)

announced
Dec 2, 2024 in [Announcements](/sandrohanea/whisper.net/discussions/categories/announcements?discussions_q=is%3Aopen+category%3AAnnouncements)











[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)







[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)







[0](/sandrohanea/whisper.net/discussions/285)


You can’t perform that action at this time.

---

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305) · sandrohanea/whisper.net@ffc0cdb · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold ( [#305](https://github.com/sandrohanea/whisper.net/pull/305))


[Browse files](/sandrohanea/whisper.net/tree/ffc0cdb6376deab76cb79ff6dbdf649049214251) Browse the repository at this point in the history

```
* Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold

* Fixed updated ggml-metal path

* WIP

* WIP

* WIP

* find -name

* find libggml-metal-whisper.dylib

* metal path fix

* WIP

* fixed blas path

* Added new libs to nuget packages

* Removed ggml log set

* Removed force load of ggml library.

* Fixes

* Test

* Added generic dependency loader.

* Fixed warning

* Trying to add ios artifact

* bumped minimum ios to 12.2 and removed ios.toolchain.cmake

* WIP

* Tried to add -r iossimulator-arm64

* Try again

* build android as well instead of publish

* Try again

* Switch to debug builds

* Bumepd to macos 15 and fixed NativeLibraryLoader

* Tried to add setup xcode 16.2

* aaa

* AA

* aaaa

* Try again

* WIP

* WTF

* Added USE_WHISPER_MAUI_TESTS to build net9-ios

* WIP

* WIP

* Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS

* Try again

* try again

* one more try

* aaa

* one more try

* Test

* Test 2

* Added test results for ios

* Skipping TestCancelEncoder on ios

* Added SkipOnIos

* Skipped TestCancelEncoder
```

- [main](/sandrohanea/whisper.net)
- ( [#305](/sandrohanea/whisper.net/pull/305 "Merged Pull Request: Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

authored
Dec 26, 2024

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[0b9bb5d](/sandrohanea/whisper.net/commit/0b9bb5d664fcb449d093155f0d52317bde3e8dca)commit ffc0cdb

Show file tree

Hide file tree

Showing
**37 changed files**
with
**912 additions**
and
**1,149 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

61 changes: 56 additions & 5 deletions
61 [.github/workflows/dotnet-maui.yml](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937 ".github/workflows/dotnet-maui.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/ffc0cdb6376deab76cb79ff6dbdf649049214251/.github/workflows/dotnet-maui.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand Up | @@ -8,10 +8,11 @@ on: |
|  |  |  |
|  |  | jobs: |
|  |  | dotnet-maui-build: |
|  |  | runs-on: macos-14 |
|  |  | runs-on: macos-15 |
|  |  |  |
|  |  | env: |
|  |  | USE\_WHISPER\_MAUI: "TRUE" |
|  |  | USE\_WHISPER\_MAUI\_TESTS: "TRUE" |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
| [Expand All](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand All | @@ -22,6 +23,10 @@ jobs: |
|  |  | dotnet-version: \| |
|  |  | 9.0.x |
|  |  |  |
|  |  | \- uses: maxim-lobanov/setup-xcode@v1 |
|  |  | with: |
|  |  | xcode-version: '16.2' |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
|  |  | uses: actions/download-artifact@v4 |
| [Expand All](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand All | @@ -36,15 +41,19 @@ jobs: |
|  |  |  |
|  |  | \- name: Restore dependencies |
|  |  | run: dotnet restore ./Whisper.net.Maui.Tests.sln |
|  |  |  |
|  |  | \- name: Build ios-simulator |
|  |  | run: dotnet build ./tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj -c Debug -f net9.0-ios -r iossimulator-arm64 -p:EmbedAssembliesIntoAppBundle=true -p:CodesignKey="" -p:CodesignProvision="" |
|  |  |  |
|  |  | \- name: Publish android build |
|  |  | run: dotnet publish ./tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj -c Debug -f net9.0-android -p:EmbedAssembliesIntoApk=true |
|  |  | \- name: Build android |
|  |  | run: dotnet build ./tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj -c Debug -f net9.0-android -p:EmbedAssembliesIntoApk=true |
|  |  |  |
|  |  | \- name: Upload apk and ios app |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: maui-build-artifacts |
|  |  | path: \| |
|  |  | ./tests/Whisper.net.Maui.Tests/bin/Debug/net9.0-ios/iossimulator-arm64/Whisper.net.Maui.Tests.app |
|  |  | ./tests/Whisper.net.Maui.Tests/bin/Debug/net9.0-android/com.companyname.whisper.net.maui.tests-Signed.apk |
|  |  |  |
|  |  | dotnet-maui-test-android: |
| [Expand All](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand All | @@ -69,7 +78,7 @@ jobs: |
|  |  | with: |
|  |  | name: maui-build-artifacts |
|  |  | path: maui-build-artifacts |
|  |  |  |
|  |  |  |
|  |  | \- name: Enable KVM group perms |
|  |  | run: \| |
|  |  | echo 'KERNEL=="kvm", GROUP="kvm", MODE="0666", OPTIONS+="static\_node=kvm"' \| sudo tee /etc/udev/rules.d/99-kvm4all.rules |
| [Expand All](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand All | @@ -84,7 +93,7 @@ jobs: |
|  |  | with: |
|  |  | api-level: 29 |
|  |  | arch: x86\_64 |
|  |  | script: xharness android test --app=./maui-build-artifacts/com.companyname.whisper.net.maui.tests-Signed.apk -p com.companyname.whisper.net.maui.tests -i com.companyname.whisper.net.maui.tests.AndroidMauiTestInstrumentation -o=./test-results/android |
|  |  | script: xharness android test --app=./maui-build-artifacts/net9.0-android/com.companyname.whisper.net.maui.tests-Signed.apk -p com.companyname.whisper.net.maui.tests -i com.companyname.whisper.net.maui.tests.AndroidMauiTestInstrumentation -o=./test-results/android |
|  |  |  |
|  |  | \- name: Upload Maui Android xharness test results |
|  |  | if: ${{ always() }} |
| [Expand All](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand All | @@ -93,3 +102,45 @@ jobs: |
|  |  | name: xharness-android-test-results |
|  |  | path: \| |
|  |  | ./test-results/\* |
|  |  |  |
|  |  | dotnet-maui-test-ios: |
|  |  | runs-on: macos-15 |
|  |  | needs: dotnet-maui-build |
|  |  |  |
|  |  | env: |
|  |  | USE\_WHISPER\_MAUI: "TRUE" |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  |  |
|  |  | \- name: Setup .NET |
|  |  | uses: actions/setup-dotnet@v4 |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  |  |
|  |  | \- uses: maxim-lobanov/setup-xcode@v1 |
|  |  | with: |
|  |  | xcode-version: '16.2' |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
|  |  | uses: actions/download-artifact@v4 |
|  |  | with: |
|  |  | name: maui-build-artifacts |
|  |  | path: maui-build-artifacts |
|  |  |  |
|  |  | \- name: Install xharness |
|  |  | run: dotnet tool install Microsoft.DotNet.XHarness.CLI --global --add-source https://pkgs.dev.azure.com/dnceng/public/\_packaging/dotnet-eng/nuget/v3/index.json --version "10.0.0-\*" |
|  |  |  |
|  |  |  |
|  |  | \- name: run ios tests |
|  |  | run: xharness apple test --app=./maui-build-artifacts/net9.0-ios/iossimulator-arm64/Whisper.net.Maui.Tests.app --output-directory=./test-results/ios --target=ios-simulator-64 |
|  |  |  |
|  |  | \- name: Upload Maui iOS xharness test results |
|  |  | if: ${{ always() }} |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: xharness-ios-test-results |
|  |  | path: \| |
|  |  | ./test-results/\* |

2 changes: 1 addition & 1 deletion
2 [.github/workflows/dotnet.yml](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344 ".github/workflows/dotnet.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/ffc0cdb6376deab76cb79ff6dbdf649049214251/.github/workflows/dotnet.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Up | @@ -12,7 +12,7 @@ permissions: |
|  |  |  |
|  |  | jobs: |
|  |  | dotnet-macos: |
|  |  | runs-on: macos-14 |
|  |  | runs-on: macos-15 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
| [Expand Down](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [.github/workflows/macos-coreml-native-build.yml](#diff-15f73058461ce9c084eedef1152dd749abdad95e9d425542384835389d1edc26 ".github/workflows/macos-coreml-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/ffc0cdb6376deab76cb79ff6dbdf649049214251/.github/workflows/macos-coreml-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-15f73058461ce9c084eedef1152dd749abdad95e9d425542384835389d1edc26) Expand Up | @@ -27,7 +27,7 @@ jobs: |
|  |  | retention-days: 7 |
|  |  |  |
|  |  | arm-native-build: |
|  |  | runs-on: macos-14 |
|  |  | runs-on: macos-15 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
| [Expand Down](#diff-15f73058461ce9c084eedef1152dd749abdad95e9d425542384835389d1edc26) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [.github/workflows/macos-native-build.yml](#diff-4f01b867b7c03c88338699557c1a6b190ad28bfd1c801de2180829fc5dfb103d ".github/workflows/macos-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/ffc0cdb6376deab76cb79ff6dbdf649049214251/.github/workflows/macos-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-4f01b867b7c03c88338699557c1a6b190ad28bfd1c801de2180829fc5dfb103d) Expand Up | @@ -27,7 +27,7 @@ jobs: |
|  |  | retention-days: 7 |
|  |  |  |
|  |  | arm-native-build: |
|  |  | runs-on: macos-14 |
|  |  | runs-on: macos-15 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
| [Expand Down](#diff-4f01b867b7c03c88338699557c1a6b190ad28bfd1c801de2180829fc5dfb103d) Expand Down |  |

30 changes: 29 additions & 1 deletion
30 [CMakeLists.txt](#diff-1e7de1ae2d059d21e1dd75d5812d5a34b0222cef273b7c3a2af62eb747f9d20a "CMakeLists.txt")

Show comments


[View file](/sandrohanea/whisper.net/blob/ffc0cdb6376deab76cb79ff6dbdf649049214251/CMakeLists.txt)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-1e7de1ae2d059d21e1dd75d5812d5a34b0222cef273b7c3a2af62eb747f9d20a) Expand Up | @@ -14,10 +14,38 @@ project ("Whisper.net") |
|  |  | \# Include sub-projects. |
|  |  | add\_subdirectory ("whisper.cpp") |
|  |  |  |
|  |  | set\_target\_properties(ggml PROPERTIES OUTPUT\_NAME"ggml-whisper") |
|  |  | if(TARGET ggml) |
|  |  | set\_target\_properties(ggml PROPERTIES OUTPUT\_NAME"ggml-whisper") |
|  |  | endif() |
|  |  |  |
|  |  | if(TARGET ggml-cpu) |
|  |  | set\_target\_properties(ggml-cpu PROPERTIES OUTPUT\_NAME"ggml-cpu-whisper") |
|  |  | endif() |
|  |  |  |
|  |  | if(TARGET ggml-base) |
|  |  | set\_target\_properties(ggml-base PROPERTIES OUTPUT\_NAME"ggml-base-whisper") |
|  |  | endif() |
|  |  |  |
|  |  | if(TARGET ggml-cuda) |
|  |  | set\_target\_properties(ggml-cuda PROPERTIES OUTPUT\_NAME"ggml-cuda-whisper") |
|  |  | endif() |
|  |  |  |
|  |  | if(TARGET ggml-vulkan) |
|  |  | set\_target\_properties(ggml-vulkan PROPERTIES OUTPUT\_NAME"ggml-vulkan-whisper") |
|  |  | endif() |
|  |  |  |
|  |  | if(TARGET ggml-metal) |
|  |  | set\_target\_properties(ggml-metal PROPERTIES OUTPUT\_NAME"ggml-metal-whisper") |
|  |  | endif() |
|  |  |  |
|  |  | if(TARGET ggml-blas) |
|  |  | set\_target\_properties(ggml-blas PROPERTIES OUTPUT\_NAME"ggml-blas-whisper") |
|  |  | endif() |
|  |  |  |
|  |  | if (CMAKE\_SYSTEM\_NAMESTREQUAL"Android") |
|  |  | \# Set alignment to 16 KB. See https://developer.android.com/guide/practices/page-sizes#cmake |
|  |  | target\_link\_options(ggml PRIVATE"-Wl,-z,max-page-size=16384") |
|  |  | target\_link\_options(whisper PRIVATE"-Wl,-z,max-page-size=16384") |
|  |  | target\_link\_options(ggml-cpu PRIVATE"-Wl,-z,max-page-size=16384") |
|  |  | target\_link\_options(ggml-base PRIVATE"-Wl,-z,max-page-size=16384") |
|  |  | endif() |

Loading

Oops, something went wrong.
Retry

Toggle all file notesToggle all file annotations

### 0 comments  on commit `ffc0cdb`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2Fffc0cdb6376deab76cb79ff6dbdf649049214251) to comment.

You can’t perform that action at this time.

---

# whisper.net/LICENSE at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


You can’t perform that action at this time.

---

# Bumped versions by sandrohanea · Pull Request #276 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Bumped versions\#276

Merged

[sandrohanea](/sandrohanea)
merged 7 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[bump/upgrade](/sandrohanea/whisper.net/tree/bump/upgrade "sandrohanea/whisper.net:bump/upgrade")

Nov 22, 2024

Merged

# [Bumped versions](\#top)\#276

[sandrohanea](/sandrohanea)
merged 7 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[bump/upgrade](/sandrohanea/whisper.net/tree/bump/upgrade "sandrohanea/whisper.net:bump/upgrade")

Nov 22, 2024

+44

−45


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Nov 21, 2024](\#issue-2678596884)•   edited      Loading

This pull request includes several updates to upgrade the project to use .NET 9.0 and update various package versions. The most important changes include updating the .NET version in multiple project files and workflows, as well as updating package versions in the `Directory.Packages.props` file.

### .NET Version Updates:

- Updated the .NET version from `8.0.x` to `9.0.x` in the `.github/workflows/dotnet-maui.yml` file.
- Updated the .NET version from `8.0.x` and `6.0.x` to `9.0.x` in the `.github/workflows/dotnet.yml` file. [\[1\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344L21-R21) [\[2\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344L51-R51) [\[3\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344L81-R81)
- Updated the `TargetFramework` and `TargetFrameworks` to `net9.0` in multiple project files, including `Whisper.net.Demo.csproj`, `Whisper.net.csproj`, and various example projects. [\[1\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33aL6-R7) [\[2\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8L6-R6) [\[3\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-dac16f167a4de3a274091683f1f8ed8a8dbd38bb5d963062cf5250b09150b748L4-R4) [\[4\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-01fa19feab66770f8bb2a064c3db635dd84abf34bbefe85800bbd1297247ecf4L5-R8) [\[5\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-b490c1d02ba128028402ff3ca9e8dc3a5785b71dd2a7d516e46c7ee3e1414af6L5-R5) [\[6\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-d340dbb04646c42c7b9a71cede5859ae12bce76be563612d2f2042611a7e1188L5-R5) [\[7\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-8a3d772256255cf0d9c6c2c2722e32bb957e93fe37f1250c3c026ff17192a480L5-R5) [\[8\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-8410e9bf7a16fdf73fecef8892fc570eb456eafcee26d7135daa041fc53fcb76L5-R7) [\[9\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-21911d6634bd56fb0e79ec9b74dea6fb73e9b1e440df80ad900f1d10374f9c40L5-R7) [\[10\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-6cbccda5e815f5847348eda83c9d25e190e2853087f5c2215342abfc99ebfbaeL5-R5) [\[11\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-37d9793eccbb6f7caf447f51d665a904a0dca1b12dc0a1f7857aeb7d55bc8af2L5-R5) [\[12\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-5dc0e0bd06f681e6f3f61ae9279604c1d43d04654d8fd94924f9c67c070129e8L5-R5) [\[13\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-f9ed7c34ae738d1ba710f6a5c3b737ca44b19d4466216ca40003562820dfa985L5-R5) [\[14\]](https://github.com/sandrohanea/whisper.net/pull/276/files#diff-27ded0fe51b7dd4542bbec74ab76555b4c25997c7cf1eb696d2b5bb07b18d74cL5-R5)

### Package Version Updates:

- Updated various package versions in the `Directory.Packages.props` file, including `Microsoft.Bcl.AsyncInterfaces`, `System.Memory`, `Microsoft.NET.Test.Sdk`, and `Microsoft.Extensions.Logging.Debug`.

### Workflow Enhancements:

- Added `arch: x86_64` to the Android emulator setup in the `.github/workflows/dotnet-maui.yml` file.

### Code Fixes:

- Fixed a buffer size issue in the `examples/Diarization/Program.cs` file to correctly handle the read buffer size.

Sorry, something went wrong.


All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Bumped dotnet
        `

Loading

Loading status checks…

`
          f93835e
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea) [force-pushed](/sandrohanea/whisper.net/compare/891add5128e39fb613d5687416f504eaa13969fd..f93835ede596afa934d66353b63aca9c12c71bc6)
the
bump/upgrade
branch
from
[`891add5`](/sandrohanea/whisper.net/commit/891add5128e39fb613d5687416f504eaa13969fd) to
[`f93835e`](/sandrohanea/whisper.net/commit/f93835ede596afa934d66353b63aca9c12c71bc6) [Compare](/sandrohanea/whisper.net/compare/891add5128e39fb613d5687416f504eaa13969fd..f93835ede596afa934d66353b63aca9c12c71bc6) [November 21, 2024 08:52](#event-15378015708)

[sandrohanea](/sandrohanea) and others
added 6 commits
[November 21, 2024 09:59](#commits-pushed-1217ca6)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Bumped whisper.cpp
        `

`
          1217ca6
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Bumped xharness
        `

Loading

Loading status checks…

`
          f66a1c6
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          www
        `

Loading

Loading status checks…

`
          0292645
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Experinebt wutg wubdiws-latest
        `

Loading

Loading status checks…

`
          22f3508
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          added targets for maui with dotnet 9
        `

Loading

Loading status checks…

`
          79c4fb1
        `

[![@AncientLust](https://avatars.githubusercontent.com/u/84724571?s=40&v=4)](/AncientLust)

`
          Fix static linking for iOS (#278)
        `

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

Loading

Loading status checks…

`
          bef719c
        `

Hide detailsView details[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`71040fa`](/sandrohanea/whisper.net/commit/71040faf41d4079bbe810feb5bf56bbed3941127)
into

main[Nov 22, 2024](https://github.com/sandrohanea/whisper.net/pull/276#event-15403188985)

20 checks passed


20 checks passed

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**android / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400587569)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400588122)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400587790)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400589262)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400588954)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400589574)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**wasm / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400588665)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400587013)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400587341)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400586069)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400586684)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400586384)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400584562)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400585059)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos-coreml**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400585464)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-macos**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400723334)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-windows**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400722940)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-linux**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400723870)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-maui-build-and-test / dotnet-maui-build**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400723587)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-maui-build-and-test / dotnet-maui-test-android**

[Details](/sandrohanea/whisper.net/actions/runs/11979111110/job/33400902156)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F276)

Reviewers


No reviews

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

2 participants


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)[![@AncientLust](https://avatars.githubusercontent.com/u/84724571?s=52&v=4)](/AncientLust)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# Will support for openvino runtime be added? · Issue #146 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Will support for openvino runtime be added?\#146

Open

[Sing303](/Sing303) opened this issue
Dec 10, 2023
· 2 comments

Open

# [Will support for openvino runtime be added?](\#top)\#146

[Sing303](/Sing303) opened this issue
Dec 10, 2023
· 2 comments

Labels

[configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes) [GPU](/sandrohanea/whisper.net/labels/GPU)

## Comments

[![@Sing303](https://avatars.githubusercontent.com/u/19262319?s=80&u=0fde17892dae7e1f89055dc8d991750887f89bbb&v=4)](/Sing303)


Copy link

Contributor

### **[Sing303](/Sing303)**     commented   [Dec 10, 2023](\#issue-2034464467)

|     |
| --- |
| _No description provided._ |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added

[configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes) [GPU](/sandrohanea/whisper.net/labels/GPU)

labels

[Dec 12, 2023](#event-11227438662)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Dec 12, 2023](\#issuecomment-1852614137)

|     |
| --- |
| Hello [@Sing303](https://github.com/Sing303),<br>It can be added as a new package (e.g. Whisper.net.Runtime.OpenVINO ) but I don't have an ETA for it. |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Dec 12, 2023](\#issuecomment-1852615189)

|     |
| --- |
| If someone want to create the build scripts for GitHub actions, that would be awesome and will gladly accept PRs. |

All reactions

Sorry, something went wrong.


[![@furkanguzel161](https://avatars.githubusercontent.com/u/81360830?s=40&v=4)](/furkanguzel161)[furkanguzel161](/furkanguzel161)

mentioned this issue
[Jul 21, 2024](#ref-issue-2371972496)

[Updating to Whisper.cpp v1.6.2+\\
#200](/sandrohanea/whisper.net/issues/200)

Closed

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fissues%2F146)

Assignees


No one assigned

Labels


[configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes) [GPU](/sandrohanea/whisper.net/labels/GPU)

Projects


None yet

Milestone


No milestone

Development


No branches or pull requests

2 participants


[![@Sing303](https://avatars.githubusercontent.com/u/19262319?s=52&v=4)](/Sing303)[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

You can’t perform that action at this time.

---

# A lot of changes for 1.7.0 by sandrohanea · Pull Request #201 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# A lot of changes for 1.7.0\#201

Merged

[sandrohanea](/sandrohanea)
merged 104 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[wip/160](/sandrohanea/whisper.net/tree/wip/160 "sandrohanea/whisper.net:wip/160")

Oct 7, 2024

Merged

# [A lot of changes for 1.7.0](\#top)\#201

[sandrohanea](/sandrohanea)
merged 104 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[wip/160](/sandrohanea/whisper.net/tree/wip/160 "sandrohanea/whisper.net:wip/160")

Oct 7, 2024

+1,577

−6,618


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Jun 29, 2024](\#issue-2381894877)•   edited      Loading

This PR is work in progress to update whisper.cpp at latest version.

Sorry, something went wrong.


![+1](https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png)3Sing303, luisllamasbinaburo, and umlx5h reacted with thumbs up emoji

All reactions

- ![+1](https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png)3 reactions

[sandrohanea](/sandrohanea)


added 2 commits
[June 29, 2024 19:15](#commits-pushed-ea0aac0)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Dependency upgrade.
        `

`
          ea0aac0
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Bumped whisper.cpp
        `

Loading

Loading status checks…

`
          b4474e1
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

changed the title
~~Wip 160~~ WIP 1.6.0 [Jun 29, 2024](#event-13340253593)

[sandrohanea](/sandrohanea) and others
added 5 commits
[June 29, 2024 20:22](#commits-pushed-e3e6eab)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Reduced to win build on x64
        `

Loading

Loading status checks…

`
          e3e6eab
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes windows
        `

`
          d2888ee
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Tried to fix the incompatibilities + added script to extract ggml.dll…
        ` …

Loading

Loading status checks…

`
          ae3c282
        `

```
… as well from windows build
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes windows
        `

`
          75d77a5
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed library loader and removed custom lib loader. Ggml changes requ…
        ` …

Loading

Loading status checks…

`
          9f200e0
        `

```
…ire 2 libs to be opened now.
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

mentioned this pull request
[Jun 29, 2024](#ref-issue-2371972496)

[Updating to Whisper.cpp v1.6.2+\\
#200](/sandrohanea/whisper.net/issues/200)

Closed

[sandrohanea](/sandrohanea) and others
added 16 commits
[June 30, 2024 09:52](#commits-pushed-5ae8886)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Re-enabled linux, wasm and full windows build
        `

Loading

Loading status checks…

`
          5ae8886
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Changed spaces with tabs for makefile
        `

Loading

Loading status checks…

`
          246ea62
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Missed some space => tabs
        `

Loading

Loading status checks…

`
          cf38ed8
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Commented linux and windows, added only wasm to find where the libwhi…
        ` …

Loading

Loading status checks…

`
          8808f49
        `

```
…sper.a is now built
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Find libggml + copythe correct libwhisper.a
        `

Loading

Loading status checks…

`
          a9f691b
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          -i => -name
        `

Loading

Loading status checks…

`
          a3f6559
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed wasm build
        `

Loading

Loading status checks…

`
          a6ea78e
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes wasm
        `

`
          3808b8e
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Take 2 on linux
        `

Loading

Loading status checks…

`
          e326da8
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Wasm working, Windows building only arm for now, Linux trying to use …
        ` …

Loading

Loading status checks…

`
          e03d556
        `

```
…git lfs
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Tracked dll, so and dylib as lfs
        `

`
          e0d62c3
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Retry builds
        `

Loading

Loading status checks…

`
          8ecdf01
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes linux
        `

`
          9133a99
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed linux build
        `

Loading

Loading status checks…

`
          fae5fb8
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Restarted linux build + tried Windows with VS 2022 for Arm
        `

Loading

Loading status checks…

`
          77b6d8e
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Removed Clblast and reenable cuda build (cublas)
        `

Loading

Loading status checks…

`
          35b85c8
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea) [force-pushed](/sandrohanea/whisper.net/compare/3a2cb5e9851fe6c4ac78beb626071d035aff8eea..35b85c860d917df04b0ef7370e9dccb7a1299354)
the
wip/160
branch
from
[`3a2cb5e`](/sandrohanea/whisper.net/commit/3a2cb5e9851fe6c4ac78beb626071d035aff8eea) to
[`35b85c8`](/sandrohanea/whisper.net/commit/35b85c860d917df04b0ef7370e9dccb7a1299354) [Compare](/sandrohanea/whisper.net/compare/3a2cb5e9851fe6c4ac78beb626071d035aff8eea..35b85c860d917df04b0ef7370e9dccb7a1299354) [June 30, 2024 10:26](#event-13341832192)

[sandrohanea](/sandrohanea) and others
added 4 commits
[June 30, 2024 12:32](#commits-pushed-20ce7d2)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Started Android build
        `

`
          20ce7d2
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          yaml sucks
        `

Loading

Loading status checks…

`
          7c37851
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          x64 => x86_64 for android
        `

Loading

Loading status checks…

`
          44be47e
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes android
        `

`
          8048030
        `

54 hidden items

Load more…


Sandro Hanea

added 25 commits
[October 7, 2024 15:42](#commits-pushed-3511278)

`
          k
        `

Loading

Loading status checks…

`
          3511278
        `

`
          try again
        `

`
          ec2b13a
        `

`
          q
        `

`
          5656f66
        `

`
          Tried to manually download shaders
        `

`
          ca4bce3
        `

`
          Removed Linux Vulkan
        `

`
          f70a8c4
        `

`
          Tried windows lastest
        `

`
          6afccdc
        `

`
          Removed WinArm + added some docs
        `

`
          e4e2312
        `

`
          Added quantize for v3 large
        `

Loading

Loading status checks…

`
          6a44231
        `

`
          fixed q
        `

Loading

Loading status checks…

`
          60f050a
        `

`
          Added v3 quantizer
        `

`
          37a7936
        `

`
          A
        `

`
          277a4b2
        `

`
          Added openvino build
        `

Loading

Loading status checks…

`
          edb7a5c
        `

`
          Typo
        `

Loading

Loading status checks…

`
          25c976f
        `

`
          a
        `

Loading

Loading status checks…

`
          7aeb16a
        `

`
          openvino vars
        `

Loading

Loading status checks…

`
          4d946f1
        `

`
          Added linux openvino build
        `

Loading

Loading status checks…

`
          31bc824
        `

`
          winget :D
        `

Loading

Loading status checks…

`
          fdc156a
        `

`
          s
        `

Loading

Loading status checks…

`
          8c199ee
        `

`
          aaa
        `

Loading

Loading status checks…

`
          a855400
        `

`
          Trying to build openvino with the fix
        `

Loading

Loading status checks…

`
          749e405
        `

`
          Trigger
        `

Loading

Loading status checks…

`
          bf7fc33
        `

`
          Typo
        `

Loading

Loading status checks…

`
          6e8eefe
        `

`
          Update
        `

`
          53d7e1b
        `

`
          Added readme + finished examples
        `

`
          d95a326
        `

`
          Bump version to 1.7.0
        `

`
          f6622dd
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

changed the title
~~WIP 1.6.0~~ A lot of changes for 1.7.0 [Oct 7, 2024](#event-14547110006)

`
          Fixed bug with RuntimeOptions
        `

`
          a1d2ce3
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

marked this pull request as ready for review

[October 7, 2024 22:02](#event-14547355866)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`0c2adaf`](/sandrohanea/whisper.net/commit/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f)
into

main[Oct 7, 2024](https://github.com/sandrohanea/whisper.net/pull/201#event-14547362052)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

wip/160

branch

[October 7, 2024 22:02](#event-14547362600)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F201)

Reviewers


No reviews

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold by sandrohanea · Pull Request #305 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold\#305

Merged

[sandrohanea](/sandrohanea)
merged 48 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/bump/whispercpp-173 "sandrohanea/whisper.net:bump/whispercpp-173")

Dec 26, 2024

Merged

# [Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](\#top)\#305

[sandrohanea](/sandrohanea)
merged 48 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/bump/whispercpp-173 "sandrohanea/whisper.net:bump/whispercpp-173")

Dec 26, 2024

+912

−1,149


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Dec 21, 2024](\#issue-2753669572)

_No description provided._

Sorry, something went wrong.


All reactions

[sandrohanea](/sandrohanea)


added 2 commits
[December 21, 2024 01:40](#commits-pushed-fb60880)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold
        `

Loading

Loading status checks…

`
          fb60880
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed updated ggml-metal path
        `

Loading

Loading status checks…

`
          a2b150f
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

changed the title
~~Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold~~\[WIP\] Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold [Dec 21, 2024](#event-15738358761)

[sandrohanea](/sandrohanea)


added 27 commits
[December 21, 2024 02:06](#commits-pushed-b824ab0)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

Loading

Loading status checks…

`
          b824ab0
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

Loading

Loading status checks…

`
          1458cee
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

Loading

Loading status checks…

`
          ff83002
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          find -name
        `

Loading

Loading status checks…

`
          720d946
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          find libggml-metal-whisper.dylib
        `

Loading

Loading status checks…

`
          73f6b04
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          metal path fix
        `

Loading

Loading status checks…

`
          36ad0fe
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

Loading

Loading status checks…

`
          e6c9273
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          fixed blas path
        `

Loading

Loading status checks…

`
          1ec5c25
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added new libs to nuget packages
        `

Loading

Loading status checks…

`
          47c3325
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Removed ggml log set
        `

Loading

Loading status checks…

`
          b1c51d3
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Removed force load of ggml library.
        `

Loading

Loading status checks…

`
          6367544
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixes
        `

Loading

Loading status checks…

`
          8335351
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Test
        `

Loading

Loading status checks…

`
          c5f5f1e
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added generic dependency loader.
        `

Loading

Loading status checks…

`
          dc00f82
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed warning
        `

Loading

Loading status checks…

`
          b1cd697
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Trying to add ios artifact
        `

Loading

Loading status checks…

`
          5c46adb
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          bumped minimum ios to 12.2 and removed ios.toolchain.cmake
        `

Loading

Loading status checks…

`
          d3bc130
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

Loading

Loading status checks…

`
          5d68134
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Tried to add -r iossimulator-arm64
        `

Loading

Loading status checks…

`
          7747e67
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Try again
        `

Loading

Loading status checks…

`
          f2abe90
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          build android as well instead of publish
        `

Loading

Loading status checks…

`
          17ec285
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Try again
        `

Loading

Loading status checks…

`
          9565822
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Switch to debug builds
        `

Loading

Loading status checks…

`
          e3fcdcf
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Bumepd to macos 15 and fixed NativeLibraryLoader
        `

Loading

Loading status checks…

`
          e520af1
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Tried to add setup xcode 16.2
        `

Loading

Loading status checks…

`
          bb517fe
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          aaa
        `

Loading

Loading status checks…

`
          24a5e00
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          AA
        `

Loading

Loading status checks…

`
          ee2c888
        `

[sandrohanea](/sandrohanea)


added 19 commits
[December 24, 2024 13:32](#commits-pushed-23de1c0)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          aaaa
        `

Loading

Loading status checks…

`
          23de1c0
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Try again
        `

Loading

Loading status checks…

`
          5ae6d39
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

Loading

Loading status checks…

`
          ada0d16
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WTF
        `

Loading

Loading status checks…

`
          00e92c8
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added USE_WHISPER_MAUI_TESTS to build net9-ios
        `

Loading

Loading status checks…

`
          1e81761
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

Loading

Loading status checks…

`
          4ab913a
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

Loading

Loading status checks…

`
          809da3d
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Transformed tests to target net8,9 only when USE_WHISPER_MAUI_TESTS
        `

Loading

Loading status checks…

`
          2d2c270
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Try again
        `

Loading

Loading status checks…

`
          9749044
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          try again
        `

Loading

Loading status checks…

`
          e843079
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          one more try
        `

Loading

Loading status checks…

`
          4f33a15
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          aaa
        `

Loading

Loading status checks…

`
          1f36604
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          one more try
        `

Loading

Loading status checks…

`
          72fd64a
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Test
        `

Loading

Loading status checks…

`
          a1c06a7
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Test 2
        `

Loading

Loading status checks…

`
          55f0045
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added test results for ios
        `

Loading

Loading status checks…

`
          4504864
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Skipping TestCancelEncoder on ios
        `

Loading

Loading status checks…

`
          0992be0
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added SkipOnIos
        `

Loading

Loading status checks…

`
          bde50f6
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Skipped TestCancelEncoder
        `

Loading

Loading status checks…

`
          01be260
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

changed the title
~~\[WIP\] Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold~~ Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold [Dec 26, 2024](#event-15767132849)

Hide detailsView details[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`ffc0cdb`](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)
into

main[Dec 26, 2024](https://github.com/sandrohanea/whisper.net/pull/305#event-15767133246)

25 checks passed


25 checks passed

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**android / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044213)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044854)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044706)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892045376)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892045190)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892045520)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**wasm / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892045040)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044556)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044362)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892043113)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044020)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892043870)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892043694)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892043399)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892042925)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos-coreml**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892043551)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-macos**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892096939)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-windows**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892096813)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-linux**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892096706)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-maui-build-and-test / dotnet-maui-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892097040)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-maui-build-and-test / dotnet-maui-test-android**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892201406)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-maui-build-and-test / dotnet-maui-test-ios**

[Details](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892201281)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**Whisper.net Linux Test Results**
36 passed, 0 failed and 2 skipped

[Details](/sandrohanea/whisper.net/runs/34892120558)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**Whisper.net MacOs Test Results**
36 passed, 0 failed and 2 skipped

[Details](/sandrohanea/whisper.net/runs/34892151348)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**Whisper.net Windows Test Results**
54 passed, 0 failed and 3 skipped

[Details](/sandrohanea/whisper.net/runs/34892156031)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

bump/whispercpp-173

branch

[December 26, 2024 17:51](#event-15767133595)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F305)

Reviewers


No reviews

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# whisper.net/examples/SimpleSync/Program.cs at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Program.cs

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Removed unnecessary instances and simplified LogProviders + RuntimeOp…](/sandrohanea/whisper.net/commit/db4a2469e73d8b62e6d535f0b093296742b13799)

Dec 20, 2024

[db4a246](/sandrohanea/whisper.net/commit/db4a2469e73d8b62e6d535f0b093296742b13799) · Dec 20, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/examples/SimpleSync/Program.cs)

55 lines (47 loc) · 2.41 KB

/

# Program.cs

Top

## File metadata and controls

- Code

- Blame


55 lines (47 loc) · 2.41 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/examples/SimpleSync/Program.cs)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

// Licensed under the MIT license: https://opensource.org/licenses/MIT

usingSystem;

usingSystem.IO;

usingSystem.Threading.Tasks;

usingWhisper.net;

usingWhisper.net.Ggml;

usingWhisper.net.Logger;

publicclassProgram

{

// This examples shows how to use Whisper.net to create a transcription from an audio file with 16Khz sample rate, using the segment event handler and synchronous processing.

publicstaticasyncTaskMain(string\[\]args)

{

// We declare three variables which we will use later, ggmlType, modelFileName and inputFileName

varggmlType=GgmlType.Base;

varmodelFileName="ggml-base.bin";

varwavFileName="kennedy.wav";

// This section detects whether the "ggml-base.bin" file exists in our project disk. If it doesn't, it downloads it from the internet

if(!File.Exists(modelFileName))

{

awaitDownloadModel(modelFileName,ggmlType);

}

// Optional logging from the native library

usingvarwhisperLogger=LogProvider.AddConsoleLogging(WhisperLogLevel.Debug);

// This section creates the whisperFactory object which is used to create the processor object.

usingvarwhisperFactory=WhisperFactory.FromPath("ggml-base.bin");

// This section creates the processor object which is used to process the audio file, it uses language \`auto\` to detect the language of the audio file.

// It also sets the segment event handler, which is called every time a new segment is detected.

usingvarprocessor=whisperFactory.CreateBuilder()

.WithLanguage("auto")

.WithSegmentEventHandler((segment)=>

{

// Do whetever you want with your segment here.

Console.WriteLine($"{segment.Start}->{segment.End}: {segment.Text}");

})

.Build();

// This section processes the audio file and prints the results (start time, end time and text) to the console.

usingvarfileStream=File.OpenRead(wavFileName);

processor.Process(fileStream);

}

privatestaticasyncTaskDownloadModel(stringfileName,GgmlTypeggmlType)

{

Console.WriteLine($"Downloading Model {fileName}");

usingvarmodelStream=awaitWhisperGgmlDownloader.GetGgmlModelAsync(ggmlType);

usingvarfileWriter=File.OpenWrite(fileName);

awaitmodelStream.CopyToAsync(fileWriter);

}

}

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# whisper.net/.editorconfig at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# .editorconfig

Blame

Blame

## Latest commit

![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)![adamnova](https://avatars.githubusercontent.com/u/125261085?v=4&size=40)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

and

[adamnova](/sandrohanea/whisper.net/commits?author=adamnova)

[Release 1.2.1 (](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e) [#5](https://github.com/sandrohanea/whisper.net/pull/5) [)](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e)

Feb 21, 2023

[e38ebcf](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e) · Feb 21, 2023

## History

[History](/sandrohanea/whisper.net/commits/main/.editorconfig)

368 lines (277 loc) · 13.6 KB

/

# .editorconfig

Top

## File metadata and controls

- Code

- Blame


368 lines (277 loc) · 13.6 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/.editorconfig)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

62

63

64

65

66

67

68

69

70

71

72

73

74

75

76

77

78

79

80

81

82

83

84

85

86

87

88

89

90

91

92

93

94

95

96

97

98

99

100

101

102

103

104

105

106

107

108

109

110

111

112

113

114

115

116

117

118

119

120

121

122

123

124

125

126

127

128

129

130

131

132

133

134

135

136

137

138

139

140

141

142

143

144

145

146

147

148

149

150

151

152

153

154

155

156

157

158

159

160

161

162

163

164

165

166

167

168

169

170

171

172

173

174

175

176

177

178

179

180

181

182

183

184

185

186

187

188

189

190

191

192

193

194

195

196

197

198

199

200

201

202

203

204

205

206

207

208

209

210

211

212

213

214

215

216

217

218

219

220

221

222

223

224

225

226

227

228

229

230

231

232

233

234

235

236

237

238

239

240

241

242

243

244

245

246

247

248

249

250

251

252

253

254

255

256

257

258

259

260

261

262

263

264

265

266

267

268

269

270

271

272

273

274

275

276

277

278

279

280

281

282

283

284

285

286

287

288

289

290

291

292

293

294

295

296

297

298

299

300

301

302

303

304

305

306

307

308

309

310

311

312

313

314

315

316

317

318

319

320

321

322

323

324

325

326

327

328

329

330

331

332

333

334

335

336

337

338

339

340

341

342

343

344

345

346

347

348

349

350

351

352

353

354

355

356

357

358

359

360

361

362

363

364

365

366

367

368

; EditorConfig to support per-solution formatting.

; Use the EditorConfig VS add-in to make this work.

; http://editorconfig.org/

;

; Here are some resources for what's supported for .NET/C#

; https://kent-boogaart.com/blog/editorconfig-reference-for-c-developers

; https://docs.microsoft.com/en-us/visualstudio/ide/editorconfig-code-style-settings-reference?view=vs-2017

;

; Be \*\*careful\*\* editing this because some of the rules don't support adding a severity level

; For instance if you change to \`dotnet\_sort\_system\_directives\_first = true:warning\` (adding \`:warning\`)

; then the rule will be silently ignored.

; This is the default for the codeline.

root = true

\[\*\]

indent\_style = space

charset = utf-8

trim\_trailing\_whitespace = true

insert\_final\_newline = true

\[\*.cs\]

indent\_size = 4

dotnet\_sort\_system\_directives\_first = true

# Don't use this. qualifier

dotnet\_style\_qualification\_for\_field = false:suggestion

dotnet\_style\_qualification\_for\_property = false:suggestion

# use int x = .. over Int32

dotnet\_style\_predefined\_type\_for\_locals\_parameters\_members = true:suggestion

# use int.MaxValue over Int32.MaxValue

dotnet\_style\_predefined\_type\_for\_member\_access = true:suggestion

# Require var all the time.

csharp\_style\_var\_for\_built\_in\_types = true:warning

csharp\_style\_var\_when\_type\_is\_apparent = true:warning

csharp\_style\_var\_elsewhere = true:warning

# Disallow throw expressions.

csharp\_style\_throw\_expression = false:suggestion

# Newline settings

csharp\_new\_line\_before\_open\_brace = all

csharp\_new\_line\_before\_else = true

csharp\_new\_line\_before\_catch = true

csharp\_new\_line\_before\_finally = true

csharp\_new\_line\_before\_members\_in\_object\_initializers = true

csharp\_new\_line\_before\_members\_in\_anonymous\_types = true

# Namespace settings

csharp\_style\_namespace\_declarations = file\_scoped:silent

# Brace settings

csharp\_prefer\_braces = true:silent\# Prefercurlybracesevenforonelineofcode

csharp\_using\_directive\_placement = outside\_namespace:silent

csharp\_prefer\_simple\_using\_statement = true:warning

csharp\_style\_prefer\_method\_group\_conversion = true:silent

csharp\_style\_expression\_bodied\_methods = false:silent

csharp\_style\_expression\_bodied\_constructors = false:silent

csharp\_style\_expression\_bodied\_operators = false:silent

csharp\_style\_expression\_bodied\_properties = when\_on\_single\_line:silent

csharp\_style\_expression\_bodied\_indexers = when\_on\_single\_line:silent

csharp\_style\_expression\_bodied\_accessors = when\_on\_single\_line:silent

csharp\_style\_expression\_bodied\_lambdas = when\_on\_single\_line:silent

csharp\_style\_expression\_bodied\_local\_functions = false:silent

csharp\_indent\_labels = one\_less\_than\_current

csharp\_style\_inlined\_variable\_declaration = true:suggestion

csharp\_style\_deconstructed\_variable\_declaration = true:suggestion

csharp\_space\_around\_binary\_operators = before\_and\_after

csharp\_style\_prefer\_null\_check\_over\_type\_check = true:suggestion

csharp\_prefer\_simple\_default\_expression = true:suggestion

dotnet\_diagnostic.IDE0021.severity = warning

dotnet\_diagnostic.IDE0022.severity = warning

dotnet\_diagnostic.IDE0023.severity = warning

dotnet\_diagnostic.IDE0024.severity = warning

dotnet\_diagnostic.IDE0025.severity = warning

dotnet\_diagnostic.IDE0026.severity = warning

dotnet\_diagnostic.IDE0027.severity = warning

csharp\_style\_prefer\_top\_level\_statements = true:silent

csharp\_style\_prefer\_local\_over\_anonymous\_function = true:suggestion

csharp\_style\_prefer\_index\_operator = true:suggestion

csharp\_style\_prefer\_range\_operator = true:suggestion

csharp\_style\_implicit\_object\_creation\_when\_type\_is\_apparent = true:suggestion

csharp\_style\_prefer\_tuple\_swap = true:suggestion

csharp\_style\_prefer\_utf8\_string\_literals = true:suggestion

csharp\_style\_unused\_value\_assignment\_preference = discard\_variable:suggestion

\[\*.{xml,config,\*proj,nuspec,props,resx,targets,yml,tasks}\]

indent\_size = 2

# Xml config files

\[\*.{props,targets,ruleset,config,nuspec,resx,vsixmanifest,vsct}\]

indent\_size = 2

\[\*.json\]

indent\_size = 2

\[\*.{ps1,psm1}\]

indent\_size = 4

\[\*.sh\]

indent\_size = 4

end\_of\_line = lf

\[\*.{razor,cshtml}\]

charset = utf-8-bom

\[\*.{cs,vb}\]

#CA1824: Mark assemblies with NeutralResourcesLanguageAttribute

dotnet\_diagnostic.CA1824.severity = silent

# CA1018: Mark attributes with AttributeUsageAttribute

dotnet\_diagnostic.CA1018.severity = warning

# CA1047: Do not declare protected member in sealed type

dotnet\_diagnostic.CA1047.severity = warning

# CA1305: Specify IFormatProvider

dotnet\_diagnostic.CA1305.severity = warning

# CA1507: Use nameof to express symbol names

dotnet\_diagnostic.CA1507.severity = warning

# CA1725: Parameter names should match base declaration

dotnet\_diagnostic.CA1725.severity = suggestion

# CA1802: Use literals where appropriate

dotnet\_diagnostic.CA1802.severity = warning

# CA1805: Do not initialize unnecessarily

dotnet\_diagnostic.CA1805.severity = warning

# CA1810: Do not initialize unnecessarily

dotnet\_diagnostic.CA1810.severity = warning

# CA1821: Remove empty Finalizers

dotnet\_diagnostic.CA1821.severity = warning

# CA1822: Make member static

dotnet\_diagnostic.CA1822.severity = warning

dotnet\_code\_quality.CA1822.api\_surface = private,internal

# CA1823: Avoid unused private fields

dotnet\_diagnostic.CA1823.severity = warning

# CA1825: Avoid zero-length array allocations

dotnet\_diagnostic.CA1825.severity = warning

# CA1826: Do not use Enumerable methods on indexable collections. Instead use the collection directly

dotnet\_diagnostic.CA1826.severity = warning

# CA1827: Do not use Count() or LongCount() when Any() can be used

dotnet\_diagnostic.CA1827.severity = warning

# CA1828: Do not use CountAsync() or LongCountAsync() when AnyAsync() can be used

dotnet\_diagnostic.CA1828.severity = warning

# CA1829: Use Length/Count property instead of Count() when available

dotnet\_diagnostic.CA1829.severity = warning

# CA1830: Prefer strongly-typed Append and Insert method overloads on StringBuilder

dotnet\_diagnostic.CA1830.severity = warning

# CA1831: Use AsSpan or AsMemory instead of Range-based indexers when appropriate

# CA1832: Use AsSpan or AsMemory instead of Range-based indexers when appropriate

# CA1833: Use AsSpan or AsMemory instead of Range-based indexers when appropriate

dotnet\_diagnostic.CA1831.severity = warning

dotnet\_diagnostic.CA1832.severity = warning

dotnet\_diagnostic.CA1833.severity = warning

# CA1834: Consider using 'StringBuilder.Append(char)' when applicable

dotnet\_diagnostic.CA1834.severity = warning

# CA1835: Prefer the 'Memory'-based overloads for 'ReadAsync' and 'WriteAsync'

dotnet\_diagnostic.CA1835.severity = warning

# CA1836: Prefer IsEmpty over Count

dotnet\_diagnostic.CA1836.severity = warning

# CA1837: Use 'Environment.ProcessId'

dotnet\_diagnostic.CA1837.severity = warning

# CA1838: Avoid 'StringBuilder' parameters for P/Invokes

dotnet\_diagnostic.CA1838.severity = warning

# CA1839: Use 'Environment.ProcessPath'

dotnet\_diagnostic.CA1839.severity = warning

# CA1840: Use 'Environment.CurrentManagedThreadId'

dotnet\_diagnostic.CA1840.severity = warning

# CA1841: Prefer Dictionary.Contains methods

dotnet\_diagnostic.CA1841.severity = warning

# CA1842: Do not use 'WhenAll' with a single task

dotnet\_diagnostic.CA1842.severity = warning

# CA1843: Do not use 'WaitAll' with a single task

dotnet\_diagnostic.CA1843.severity = warning

# CA1844: Provide memory-based overrides of async methods when subclassing 'Stream'

dotnet\_diagnostic.CA1844.severity = warning

# CA1845: Use span-based 'string.Concat'

dotnet\_diagnostic.CA1845.severity = warning

# CA1846: Prefer AsSpan over Substring

dotnet\_diagnostic.CA1846.severity = warning

# CA1847: Use string.Contains(char) instead of string.Contains(string) with single characters

dotnet\_diagnostic.CA1847.severity = warning

# CA2007: Consider calling ConfigureAwait on the awaited task

dotnet\_diagnostic.CA2007.severity = silent

# CA2008: Do not create tasks without passing a TaskScheduler

dotnet\_diagnostic.CA2008.severity = warning

# CA2009: Do not call ToImmutableCollection on an ImmutableCollection value

dotnet\_diagnostic.CA2009.severity = warning

# CA2011: Avoid infinite recursion

dotnet\_diagnostic.CA2011.severity = warning

# CA2012: Use ValueTask correctly

dotnet\_diagnostic.CA2012.severity = warning

# CA2013: Do not use ReferenceEquals with value types

dotnet\_diagnostic.CA2013.severity = warning

# CA2014: Do not use stackalloc in loops.

dotnet\_diagnostic.CA2014.severity = warning

# CA2016: Forward the 'CancellationToken' parameter to methods that take one

dotnet\_diagnostic.CA2016.severity = warning

# CA2200: Rethrow to preserve stack details

dotnet\_diagnostic.CA2200.severity = warning

# CA2208: Instantiate argument exceptions correctly

dotnet\_diagnostic.CA2208.severity = warning

# CA2245: Do not assign a property to itself

dotnet\_diagnostic.CA2245.severity = warning

# CA2246: Assigning symbol and its member in the same statement

dotnet\_diagnostic.CA2246.severity = warning

# CA2249: Use string.Contains instead of string.IndexOf to improve readability.

dotnet\_diagnostic.CA2249.severity = warning

# IDE0005: Remove unnecessary usings

dotnet\_diagnostic.IDE0005.severity = warning

# IDE0011: Curly braces to surround blocks of code

dotnet\_diagnostic.IDE0011.severity = warning

# IDE0035: Remove unreachable code

dotnet\_diagnostic.IDE0035.severity = warning

# IDE0036: Order modifiers

csharp\_preferred\_modifier\_order = public,private,protected,internal,static,extern,new,virtual,abstract,sealed,override,readonly,unsafe,volatile,async:suggestion

dotnet\_diagnostic.IDE0036.severity = warning

# IDE0043: Format string contains invalid placeholder

dotnet\_diagnostic.IDE0043.severity = warning

# IDE0044: Make field readonly

dotnet\_diagnostic.IDE0044.severity = warning

# IDE0051: Remove unused private members

dotnet\_diagnostic.IDE0051.severity = warning

# IDE0055: All formatting rules

dotnet\_diagnostic.IDE0055.severity = suggestion

# IDE0059: Unnecessary assignment to a value

dotnet\_diagnostic.IDE0059.severity = warning

# IDE0060: Remove unused parameter

dotnet\_code\_quality\_unused\_parameters = non\_public

dotnet\_diagnostic.IDE0060.severity = warning

# IDE0062: Make local function static

dotnet\_diagnostic.IDE0062.severity = warning

# IDE0073: File header

dotnet\_diagnostic.IDE0073.severity = warning

file\_header\_template = LicensedundertheMITlicense:https://opensource.org/licenses/MIT

# IDE0161: Convert to file-scoped namespace

dotnet\_diagnostic.IDE0161.severity = warning

# IDE2000: Disallow multiple blank lines

dotnet\_style\_allow\_multiple\_blank\_lines\_experimental = false

dotnet\_diagnostic.IDE2000.severity = warning

\[\*.{cs,vb}\]

#\### Naming styles ####

# Naming rules

dotnet\_naming\_rule.interface\_should\_be\_begins\_with\_i.severity = warning

dotnet\_naming\_rule.interface\_should\_be\_begins\_with\_i.symbols = interface

dotnet\_naming\_rule.interface\_should\_be\_begins\_with\_i.style = begins\_with\_i

dotnet\_naming\_rule.types\_should\_be\_pascal\_case.severity = warning

dotnet\_naming\_rule.types\_should\_be\_pascal\_case.symbols = types

dotnet\_naming\_rule.types\_should\_be\_pascal\_case.style = pascal\_case

dotnet\_naming\_rule.non\_field\_members\_should\_be\_pascal\_case.severity = warning

dotnet\_naming\_rule.non\_field\_members\_should\_be\_pascal\_case.symbols = non\_field\_members

dotnet\_naming\_rule.non\_field\_members\_should\_be\_pascal\_case.style = pascal\_case

# Symbol specifications

dotnet\_naming\_symbols.interface.applicable\_kinds = interface

dotnet\_naming\_symbols.interface.applicable\_accessibilities = public,internal,private,protected,protected\_internal,private\_protected

dotnet\_naming\_symbols.interface.required\_modifiers =

dotnet\_naming\_symbols.types.applicable\_kinds = class,struct,interface,enum

dotnet\_naming\_symbols.types.applicable\_accessibilities = public,internal,private,protected,protected\_internal,private\_protected

dotnet\_naming\_symbols.types.required\_modifiers =

dotnet\_naming\_symbols.non\_field\_members.applicable\_kinds = property,event,method

dotnet\_naming\_symbols.non\_field\_members.applicable\_accessibilities = public,internal,private,protected,protected\_internal,private\_protected

dotnet\_naming\_symbols.non\_field\_members.required\_modifiers =

# Naming styles

dotnet\_naming\_style.begins\_with\_i.required\_prefix = I

dotnet\_naming\_style.begins\_with\_i.required\_suffix =

dotnet\_naming\_style.begins\_with\_i.word\_separator =

dotnet\_naming\_style.begins\_with\_i.capitalization = pascal\_case

dotnet\_naming\_style.pascal\_case.required\_prefix =

dotnet\_naming\_style.pascal\_case.required\_suffix =

dotnet\_naming\_style.pascal\_case.word\_separator =

dotnet\_naming\_style.pascal\_case.capitalization = pascal\_case

dotnet\_naming\_style.pascal\_case.required\_prefix =

dotnet\_naming\_style.pascal\_case.required\_suffix =

dotnet\_naming\_style.pascal\_case.word\_separator =

dotnet\_naming\_style.pascal\_case.capitalization = pascal\_case

dotnet\_style\_coalesce\_expression = true:suggestion

dotnet\_style\_null\_propagation = true:suggestion

dotnet\_style\_prefer\_is\_null\_check\_over\_reference\_equality\_method = true:suggestion

dotnet\_style\_prefer\_auto\_properties = true:silent

dotnet\_style\_object\_initializer = true:suggestion

dotnet\_style\_collection\_initializer = true:suggestion

dotnet\_style\_prefer\_simplified\_boolean\_expressions = true:suggestion

dotnet\_style\_prefer\_conditional\_expression\_over\_assignment = true:silent

dotnet\_style\_prefer\_conditional\_expression\_over\_return = true:silent

dotnet\_style\_explicit\_tuple\_names = true:suggestion

dotnet\_style\_operator\_placement\_when\_wrapping = beginning\_of\_line

tab\_width = 4

indent\_size = 4

end\_of\_line = crlf

dotnet\_style\_prefer\_inferred\_tuple\_names = true:suggestion

dotnet\_style\_qualification\_for\_method = false:silent

dotnet\_style\_allow\_statement\_immediately\_after\_block\_experimental = true:silent

dotnet\_style\_prefer\_inferred\_anonymous\_type\_member\_names = true:suggestion

dotnet\_style\_prefer\_compound\_assignment = true:suggestion

dotnet\_style\_prefer\_simplified\_interpolation = true:suggestion

dotnet\_style\_namespace\_match\_folder = true:suggestion

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# whisper.net/examples/NAudioResampleWav/Program.cs at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Program.cs

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Added NAudio examples + commented examples on details + Renamed examples](/sandrohanea/whisper.net/commit/80345e1504c7f3e8a760b96f22b35617e4f7b9c9)

Jun 3, 2023

[80345e1](/sandrohanea/whisper.net/commit/80345e1504c7f3e8a760b96f22b35617e4f7b9c9) · Jun 3, 2023

## History

[History](/sandrohanea/whisper.net/commits/main/examples/NAudioResampleWav/Program.cs)

61 lines (51 loc) · 2.86 KB

/

# Program.cs

Top

## File metadata and controls

- Code

- Blame


61 lines (51 loc) · 2.86 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/examples/NAudioResampleWav/Program.cs)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

// Licensed under the MIT license: https://opensource.org/licenses/MIT

usingSystem;

usingSystem.IO;

usingSystem.Threading.Tasks;

usingNAudio.Wave.SampleProviders;

usingNAudio.Wave;

usingWhisper.net;

usingWhisper.net.Ggml;

publicclassProgram

{

// This example shows how to use the NAudio library to convert a wav file to a wav file with 16Khz sample rate and then use the Whisper library to process the wav file.

// The converstion is needed because the Whisper library only supports wav files with 16Khz sample rate, other sample rates are not supported and NotSupportedWaveException will be thrown.

publicstaticasyncTaskMain(string\[\]args)

{

// We declare three variables which we will use later, ggmlType, modelFileName and inputFileName

varggmlType=GgmlType.Base;

varmodelFileName="ggml-base.bin";

varinputFileName="kennedy44100.wav";

// This section detects whether the "ggml-base.bin" file exists in our project disk. If it doesn't, it downloads it from the internet

if(!File.Exists(modelFileName))

{

awaitDownloadModel(modelFileName,ggmlType);

}

// This section creates the whisperFactory object which is used to create the processor object.

usingvarwhisperFactory=WhisperFactory.FromPath("ggml-base.bin");

// This section creates the processor object which is used to process the audio file, it uses language \`auto\` to detect the language of the audio file.

usingvarprocessor=whisperFactory.CreateBuilder()

.WithLanguage("auto")

.Build();

// This section opens the audio file and converts it to a wav file with 16Khz sample rate.

usingvarfileStream=File.OpenRead(inputFileName);

usingvarwavStream=newMemoryStream();

usingvarreader=newWaveFileReader(fileStream);

varresampler=newWdlResamplingSampleProvider(reader.ToSampleProvider(),16000);

WaveFileWriter.WriteWavFileToStream(wavStream,resampler.ToWaveProvider16());

// This section sets the wavStream to the beginning of the stream. (This is required because the wavStream was written to in the previous section)

wavStream.Seek(0,SeekOrigin.Begin);

// This section processes the audio file and prints the results (start time, end time and text) to the console.

awaitforeach(varresultinprocessor.ProcessAsync(wavStream))

{

Console.WriteLine($"{result.Start}->{result.End}: {result.Text}");

}

}

privatestaticasyncTaskDownloadModel(stringfileName,GgmlTypeggmlType)

{

Console.WriteLine($"Downloading Model {fileName}");

usingvarmodelStream=awaitWhisperGgmlDownloader.GetGgmlModelAsync(ggmlType);

usingvarfileWriter=File.OpenWrite(fileName);

awaitmodelStream.CopyToAsync(fileWriter);

}

}

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# whisper.net/CMakeLists.txt at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# CMakeLists.txt

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251) [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)

Dec 26, 2024

[ffc0cdb](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251) · Dec 26, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/CMakeLists.txt)

51 lines (40 loc) · 1.68 KB

/

# CMakeLists.txt

Top

## File metadata and controls

- Code

- Blame


51 lines (40 loc) · 1.68 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/CMakeLists.txt)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

\# CMakeList.txt : Top-level CMake project file, do global configuration

\# and include sub-projects here.

#

cmake\_minimum\_required (VERSION 3.8)

\# Enable Hot Reload for MSVC compilers if supported.

if (POLICY CMP0141)

cmake\_policy(SET CMP0141 NEW)

set(CMAKE\_MSVC\_DEBUG\_INFORMATION\_FORMAT "$<IF:$<AND:$<C\_COMPILER\_ID:MSVC>,$<CXX\_COMPILER\_ID:MSVC>>,$<$<CONFIG:Debug,RelWithDebInfo>:EditAndContinue>,$<$<CONFIG:Debug,RelWithDebInfo>:ProgramDatabase>>")

endif()

project ("Whisper.net")

\# Include sub-projects.

add\_subdirectory ("whisper.cpp")

if(TARGET ggml)

set\_target\_properties(ggml PROPERTIES OUTPUT\_NAME"ggml-whisper")

endif()

if(TARGET ggml-cpu)

set\_target\_properties(ggml-cpu PROPERTIES OUTPUT\_NAME"ggml-cpu-whisper")

endif()

if(TARGET ggml-base)

set\_target\_properties(ggml-base PROPERTIES OUTPUT\_NAME"ggml-base-whisper")

endif()

if(TARGET ggml-cuda)

set\_target\_properties(ggml-cuda PROPERTIES OUTPUT\_NAME"ggml-cuda-whisper")

endif()

if(TARGET ggml-vulkan)

set\_target\_properties(ggml-vulkan PROPERTIES OUTPUT\_NAME"ggml-vulkan-whisper")

endif()

if(TARGET ggml-metal)

set\_target\_properties(ggml-metal PROPERTIES OUTPUT\_NAME"ggml-metal-whisper")

endif()

if(TARGET ggml-blas)

set\_target\_properties(ggml-blas PROPERTIES OUTPUT\_NAME"ggml-blas-whisper")

endif()

if (CMAKE\_SYSTEM\_NAMESTREQUAL"Android")

\# Set alignment to 16 KB. See https://developer.android.com/guide/practices/page-sizes#cmake

target\_link\_options(ggml PRIVATE"-Wl,-z,max-page-size=16384")

target\_link\_options(whisper PRIVATE"-Wl,-z,max-page-size=16384")

target\_link\_options(ggml-cpu PRIVATE"-Wl,-z,max-page-size=16384")

target\_link\_options(ggml-base PRIVATE"-Wl,-z,max-page-size=16384")

endif()

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# "[0:] unsupported os platform, architecture: arm64" while using version 1.5.0 · Issue #157 · sandrohanea/whisper.net · GitHub



---

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold · sandrohanea/whisper.net@0992be0 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  \#299

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506280835)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506280835)

## Summary

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold \#299

[Usage](/sandrohanea/whisper.net/actions/runs/12506280835/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506280835/workflow)

Triggered via pull request
December 26, 2024 16:51

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=32&v=4)sandrohanea](/sandrohanea)

synchronize [#305](/sandrohanea/whisper.net/pull/305)

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

StatusFailure

Total duration [13m 5s](/sandrohanea/whisper.net/actions/runs/12506280835/usage)

Artifacts [15](#artifacts)

## [build-all.yml](/sandrohanea/whisper.net/actions/runs/12506280835/workflow)

on: pull\_request

[android / native-build\\
\\
1m 47s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34890971406) android / native-build[macos / intel-native-build\\
\\
57s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34890972352) macos / intel-native-build[macos / arm-native-build\\
\\
2m 28s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34890971943) macos / arm-native-build[windows / intel-native-build\\
\\
1m 23s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34890972943) windows / intel-native-build[windows / arm-native-build\\
\\
1m 2s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34890972586) windows / arm-native-build[wasm / native-build\\
\\
1m 5s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34890972221) wasm / native-build[linux / native-build\\
\\
2m 26s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34890971575) linux / native-build

[windows-no-avx / native-build\\
\\
2m 27s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34890972757) windows-no-avx / native-build[linux-no-avx / native-build\\
\\
1m 14s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34890971795) linux-no-avx / native-build

linux-cuda / native-build

linux-cuda / native-build

linux-openvino / native-build

linux-openvino / native-build

linux-vulkan / native-build

linux-vulkan / native-build

macos-coreml / arm-native-build

macos-coreml / arm-native-build

macos-coreml / intel-native-build

macos-coreml / intel-native-build

windows-cuda / native-build

windows-cuda / native-build

windows-openvino / native-build

windows-openvino / native-build

windows-vulkan / native-build

windows-vulkan / native-build

[dotnet-maui-build-and-test / dotnet-maui-build\\
\\
5m 37s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34891026422) dotnet-maui-build-and-test / dotnet-maui-build

[dotnet-build / dotnet-macos\\
\\
2m 54s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34891026286) dotnet-build / dotnet-macos[dotnet-build / dotnet-windows\\
\\
3m 20s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34891026555) dotnet-build / dotnet-windows[dotnet-build / dotnet-linux\\
\\
1m 18s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34891026106) dotnet-build / dotnet-linux

[dotnet-maui-build-and-test / dotnet-maui-test-android\\
\\
4m 32s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34891136956) dotnet-maui-build-and-test / dotnet-maui-test-android[dotnet-maui-build-and-test / dotnet-maui-test-ios\\
\\
3m 57s](/sandrohanea/whisper.net/actions/runs/12506280835/job/34891137103) dotnet-maui-build-and-test / dotnet-maui-test-ios

Oh hello! Nice to see you.

Made with ❤️ by [humans.txt](https://actions.github.io/humans.txt)

Fit to window

Zoom out

Zoom in

## Annotations

1 error and 2 warnings

|     |
| --- |
| [**dotnet-maui-build-and-test / dotnet-maui-test-ios**](/sandrohanea/whisper.net/actions/runs/12506280835/job/34891137103#step:7:23)<br>Process completed with exit code 1.<br>Show moreShow less |
| [**dotnet-build / dotnet-linux**](/sandrohanea/whisper.net/actions/runs/12506280835/job/34891026106)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |
| [**dotnet-maui-build-and-test / dotnet-maui-test-android**](/sandrohanea/whisper.net/actions/runs/12506280835/job/34891136956)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |

## Artifacts

Produced during runtime

| Name | Size |  |
| --- | --- | --- |
| android-build | 3.09 MB |  |
| linux-build | 1.67 MB |  |
| linux-noavx-build | 597 KB |  |
| mac-arm-build | 4.5 MB |  |
| mac-intel-build | 611 KB |  |
| maui-build-artifacts | 170 MB |  |
| test-results-linux | 9.29 KB |  |
| test-results-macos | 15.2 KB |  |
| test-results-windows | 16.3 KB |  |
| wasm-build | 431 KB |  |
| windows-arm-build | 462 KB |  |
| windows-build | 948 KB |  |
| windows-noavx-build | 948 KB |  |
| xharness-android-test-results | 34.1 KB |  |
| xharness-ios-test-results | 237 KB |  |

You can’t perform that action at this time.

---

# whisper.net/CMakePresets.json at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# CMakePresets.json

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Added initial files](/sandrohanea/whisper.net/commit/d65983b8502997a5d45d45f98a96ebc44fa6b6dd)

Feb 4, 2023

[d65983b](/sandrohanea/whisper.net/commit/d65983b8502997a5d45d45f98a96ebc44fa6b6dd) · Feb 4, 2023

## History

[History](/sandrohanea/whisper.net/commits/main/CMakePresets.json)

61 lines (61 loc) · 1.69 KB

/

# CMakePresets.json

Top

## File metadata and controls

- Code

- Blame


61 lines (61 loc) · 1.69 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/CMakePresets.json)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

﻿{

"version": 3,

"configurePresets": \[\
\
{\
\
"name": "windows-base",\
\
"hidden": true,\
\
"generator": "Ninja",\
\
"binaryDir": "${sourceDir}/out/build/${presetName}",\
\
"installDir": "${sourceDir}/out/install/${presetName}",\
\
"cacheVariables": {\
\
"CMAKE\_C\_COMPILER": "cl.exe",\
\
"CMAKE\_CXX\_COMPILER": "cl.exe"\
\
},\
\
"condition": {\
\
"type": "equals",\
\
"lhs": "${hostSystemName}",\
\
"rhs": "Windows"\
\
}\
\
},\
\
{\
\
"name": "x64-debug",\
\
"displayName": "x64 Debug",\
\
"inherits": "windows-base",\
\
"architecture": {\
\
"value": "x64",\
\
"strategy": "external"\
\
},\
\
"cacheVariables": {\
\
"CMAKE\_BUILD\_TYPE": "Debug"\
\
}\
\
},\
\
{\
\
"name": "x64-release",\
\
"displayName": "x64 Release",\
\
"inherits": "x64-debug",\
\
"cacheVariables": {\
\
"CMAKE\_BUILD\_TYPE": "Release"\
\
}\
\
},\
\
{\
\
"name": "x86-debug",\
\
"displayName": "x86 Debug",\
\
"inherits": "windows-base",\
\
"architecture": {\
\
"value": "x86",\
\
"strategy": "external"\
\
},\
\
"cacheVariables": {\
\
"CMAKE\_BUILD\_TYPE": "Debug"\
\
}\
\
},\
\
{\
\
"name": "x86-release",\
\
"displayName": "x86 Release",\
\
"inherits": "x86-debug",\
\
"cacheVariables": {\
\
"CMAKE\_BUILD\_TYPE": "Release"\
\
}\
\
}\
\
\]

}

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# Added Vulkan Linux by sandrohanea · Pull Request #280 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Added Vulkan Linux\#280

Merged

[sandrohanea](/sandrohanea)
merged 28 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[wip/1-7-3](/sandrohanea/whisper.net/tree/wip/1-7-3 "sandrohanea/whisper.net:wip/1-7-3")

Nov 26, 2024

Merged

# [Added Vulkan Linux](\#top)\#280

[sandrohanea](/sandrohanea)
merged 28 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[wip/1-7-3](/sandrohanea/whisper.net/tree/wip/1-7-3 "sandrohanea/whisper.net:wip/1-7-3")

Nov 26, 2024

+219

−117


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Nov 22, 2024](\#issue-2684468045)

_No description provided._

Sorry, something went wrong.


All reactions

[sandrohanea](/sandrohanea)


added 28 commits
[November 22, 2024 21:30](#commits-pushed-a252187)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

`
          a252187
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Bumped Xharness
        `

Loading

Loading status checks…

`
          299f671
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          trying to add vulkan
        `

Loading

Loading status checks…

`
          013e921
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          wip
        `

Loading

Loading status checks…

`
          cb31ed5
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          wip android fix
        `

Loading

Loading status checks…

`
          8f020ec
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WWW
        `

Loading

Loading status checks…

`
          d00b9d5
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          One more try
        `

Loading

Loading status checks…

`
          914e1b0
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          One more try
        `

`
          7293842
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          a
        `

Loading

Loading status checks…

`
          89b1f34
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          aa
        `

Loading

Loading status checks…

`
          c9d8a59
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          dd
        `

Loading

Loading status checks…

`
          2680e80
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          cc
        `

Loading

Loading status checks…

`
          02c81df
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          dasdas
        `

Loading

Loading status checks…

`
          41fccc1
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          dsad
        `

Loading

Loading status checks…

`
          7c872f5
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          aaa
        `

Loading

Loading status checks…

`
          3a7f279
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          a
        `

Loading

Loading status checks…

`
          d9138d0
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          a
        `

Loading

Loading status checks…

`
          67c6191
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          aaa
        `

Loading

Loading status checks…

`
          b8aaba2
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          one more try
        `

Loading

Loading status checks…

`
          2df7a5c
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          a
        `

Loading

Loading status checks…

`
          d44b024
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          www
        `

Loading

Loading status checks…

`
          2f9933b
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          aaa
        `

Loading

Loading status checks…

`
          b8c66fc
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          fd
        `

Loading

Loading status checks…

`
          2447003
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          sad
        `

Loading

Loading status checks…

`
          608424d
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          asdas
        `

Loading

Loading status checks…

`
          f75f687
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          dafd
        `

Loading

Loading status checks…

`
          853fc97
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          aaa
        `

Loading

Loading status checks…

`
          2a77e1d
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Vulkan wip
        `

Loading

Loading status checks…

`
          2160a62
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

changed the title
~~Wip/1 7 3~~ Added Vulkan Linux [Nov 26, 2024](#event-15441608995)

Hide detailsView details[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`634157a`](/sandrohanea/whisper.net/commit/634157a2fe3d5e8860eb7ad6dc612179491f0be6)
into

main[Nov 26, 2024](https://github.com/sandrohanea/whisper.net/pull/280#event-15441610247)

21 checks passed


21 checks passed

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**android / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559246863)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559248943)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559248402)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559250186)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559249726)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559250577)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**wasm / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559249286)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559248044)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559247616)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559244252)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559245535)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559246085)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559246479)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559243462)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559245097)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos-coreml**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559244641)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-macos**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559373587)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-windows**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559373278)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-linux**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559372468)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-maui-build-and-test / dotnet-maui-build**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559372924)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-maui-build-and-test / dotnet-maui-test-android**

[Details](/sandrohanea/whisper.net/actions/runs/12036926955/job/33559635357)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

wip/1-7-3

branch

[November 26, 2024 20:06](#event-15441610665)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F280)

Reviewers


No reviews

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# Issue with Wave Memorystream obtained through ffmpegcore · Issue #74 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Issue with Wave Memorystream obtained through ffmpegcore\#74

Closed

[Kanda](/Kanda) opened this issue
Jun 14, 2023
· 9 comments

Closed

# [Issue with Wave Memorystream obtained through ffmpegcore](\#top)\#74

[Kanda](/Kanda) opened this issue
Jun 14, 2023
· 9 comments

Assignees

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

Labels

[bug](/sandrohanea/whisper.net/labels/bug) Something isn't working

## Comments

[![@Kanda](https://avatars.githubusercontent.com/u/1194703?s=80&v=4)](/Kanda)


Copy link

### **[Kanda](/Kanda)**     commented   [Jun 14, 2023](\#issue-1757774343)•   edited      Loading

|     |
| --- |
| I seem to have run into an issue with a memorystream created by letting ffmpegcore download a video and stripping the audio from it.<br>As soon as it arrives at the ProcessAsync call. The application uses almost 10 gigs of memory. Calling Process instead of the async variant leads to "unable to read beyond the end of the stream"<br>I debugged part of it already and saw that the dataChunkSize seems to be massive compared to the memorystreams length (memory streams length: 888910)( [https://github.com/sandrohanea/whisper.net/blob/main/Whisper.net/Wave/WaveParser.cs#L356](https://github.com/sandrohanea/whisper.net/blob/main/Whisper.net/Wave/WaveParser.cs#L356))<br>When I hardcoded the dataChunkSize to be the length, it read the stream fine and gave me the expected output.<br>I wondered if you could tell me what might be the issue here. Either by the settings for the wave (unsupported codec or something else) or what might go wrong with reading the created memorystream. I added an example project to this post. (You might need to get the required ffmpeg binaries from [https://ffbinaries.com/downloads](https://ffbinaries.com/downloads))<br>[WhisperIssueExample project](https://github.com/sandrohanea/whisper.net/files/11751055/WhisperIssueExample.zip) |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

assigned [Kanda](/Kanda) and [sandrohanea](/sandrohanea) and unassigned [Kanda](/Kanda) [Jun 15, 2023](#event-9540101206)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added
the
[bug](/sandrohanea/whisper.net/labels/bug) Something isn't working
label

[Jun 15, 2023](#event-9540103828)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Jun 15, 2023](\#issuecomment-1592994422)

|     |
| --- |
| Hello [@Kanda](https://github.com/Kanda),<br>Thanks for reporting the issue and also posting the repro.<br>It seems it is indeed a bug caused by Streamed wave files.<br>Because Ffmpeg is using the streampipe as destination => it will just write uint.MaxValue for datachunk and then write all the data.<br>In general, if this was written in a file, ffmpeg would come back with Seek and update the data chunk => but it cannot do this with pipes => so the loaded MemoryStream, looks like a streaming Wave.<br>Will prepare a fix, asap. |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

closed this as [completed](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
`
      dd7525c
    ` [Jun 17, 2023](#event-9558963678)

[![@Kanda](https://avatars.githubusercontent.com/u/1194703?s=80&v=4)](/Kanda)


Copy link

Author

### **[Kanda](/Kanda)**     commented   [Jun 19, 2023](\#issuecomment-1597100181)

|     |
| --- |
| Hello [@sandrohanea](https://github.com/sandrohanea),<br>Thank you for addressing this issue with such promptness. I came across the updated nuget package that supposedly includes the fix as per the changelogs. However, upon using the package, I encountered the same issue where it still consumed 10gigs of memory. On the other hand, when I referenced the repository and debugged the code, it ran smoothly without any issues.<br>I have tried to identify the root cause of this anomaly but to no avail. |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Jun 19, 2023](\#issuecomment-1597124801)

|     |
| --- |
| Hello [@Kanda](https://github.com/Kanda) ,<br>Just to confirm:<br>1. You installed `Whisper.net` 1.4.4 and `Whisper.net.Runtime` 1.4.4 ?<br>2. Have you tried to clean/rebuild after the upgrade? |

All reactions

Sorry, something went wrong.


[![@Kanda](https://avatars.githubusercontent.com/u/1194703?s=80&v=4)](/Kanda)


Copy link

Author

### **[Kanda](/Kanda)**     commented   [Jun 19, 2023](\#issuecomment-1597134982)

|     |
| --- |
| Hello [@sandrohanea](https://github.com/sandrohanea),<br>I have indeed updated both of them to 1.4.4 and have done both a clean/rebuild and a full delete of the bin and obj folder. To make sure to force a clean build.<br>I do know it has the new version cause the downloader now includes the QuantizationType. So I aint certain at this point why it isn't working with the nuget package. |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

reopened this

[Jun 19, 2023](#event-9568213471)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Jun 19, 2023](\#issuecomment-1597163518)

|     |
| --- |
| Sorry for the confusion, I decompiled the Whisper.net 1.4.4. and indeed it's not containing the fix:<br>[![image](https://private-user-images.githubusercontent.com/40202887/246837903-9d6ea3d0-f926-4559-a3b1-0928a90b4ed5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTM4OTcsIm5iZiI6MTczNTMxMzU5NywicGF0aCI6Ii80MDIwMjg4Ny8yNDY4Mzc5MDMtOWQ2ZWEzZDAtZjkyNi00NTU5LWEzYjEtMDkyOGE5MGI0ZWQ1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEyMjclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMjI3VDE1MzMxN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTdhMmUyMDdlYjE5YmRkNWYzNDJjYTA4Njk0OGYxOWYyYzc1MmUxYjVlOGM1MGZjODc3NmI3OGZlZGUyZTE1MTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.EBLilzpqkuqh3-cFL0AuxvoL46Zeddoh4etO46Cwit0)](https://private-user-images.githubusercontent.com/40202887/246837903-9d6ea3d0-f926-4559-a3b1-0928a90b4ed5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTM4OTcsIm5iZiI6MTczNTMxMzU5NywicGF0aCI6Ii80MDIwMjg4Ny8yNDY4Mzc5MDMtOWQ2ZWEzZDAtZjkyNi00NTU5LWEzYjEtMDkyOGE5MGI0ZWQ1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEyMjclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMjI3VDE1MzMxN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTdhMmUyMDdlYjE5YmRkNWYzNDJjYTA4Njk0OGYxOWYyYzc1MmUxYjVlOGM1MGZjODc3NmI3OGZlZGUyZTE1MTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.EBLilzpqkuqh3-cFL0AuxvoL46Zeddoh4etO46Cwit0)<br>I don't know how I did that, but for some reason, the fix is not included in the build, but other fixes (even after that one, are present):<br>[![image](https://private-user-images.githubusercontent.com/40202887/246838270-5ed52aea-7559-495f-8bbf-0ea6967befbb.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTM4OTcsIm5iZiI6MTczNTMxMzU5NywicGF0aCI6Ii80MDIwMjg4Ny8yNDY4MzgyNzAtNWVkNTJhZWEtNzU1OS00OTVmLThiYmYtMGVhNjk2N2JlZmJiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEyMjclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMjI3VDE1MzMxN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWJkNTFjYTQ4ODRmZDVjNjViOTQyNGQ4ZjRkODFkNjFiMGFiYzljZDI3NjA4YzYwMGM1Yjc4NTBkMTZiZTc0YzMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.AUfw3AbqiT2W0rociNER5wehragXCzXWjvji_uHtxtU)](https://private-user-images.githubusercontent.com/40202887/246838270-5ed52aea-7559-495f-8bbf-0ea6967befbb.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTM4OTcsIm5iZiI6MTczNTMxMzU5NywicGF0aCI6Ii80MDIwMjg4Ny8yNDY4MzgyNzAtNWVkNTJhZWEtNzU1OS00OTVmLThiYmYtMGVhNjk2N2JlZmJiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEyMjclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMjI3VDE1MzMxN1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWJkNTFjYTQ4ODRmZDVjNjViOTQyNGQ4ZjRkODFkNjFiMGFiYzljZDI3NjA4YzYwMGM1Yjc4NTBkMTZiZTc0YzMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.AUfw3AbqiT2W0rociNER5wehragXCzXWjvji_uHtxtU) |

All reactions

Sorry, something went wrong.


[![@Kanda](https://avatars.githubusercontent.com/u/1194703?s=80&v=4)](/Kanda)


Copy link

Author

### **[Kanda](/Kanda)**     commented   [Jun 19, 2023](\#issuecomment-1597175574)

|     |
| --- |
| No problem at all things happen sometimes. Thank you for getting back so quick on this.<br>It is surprising that fixes before and after did come through just fine |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Jun 19, 2023](\#issuecomment-1597180108)

|     |
| --- |
| I created the package from the branch, before merging: [#76](https://github.com/sandrohanea/whisper.net/pull/76)<br>That branch was created before the one with the fix, and contains all the features after that fix....only this one got "lost".<br>Will release again asap but have some additional things to add (in 1.4.5). |

All reactions

Sorry, something went wrong.


[![@Kanda](https://avatars.githubusercontent.com/u/1194703?s=80&v=4)](/Kanda)


Copy link

Author

### **[Kanda](/Kanda)**     commented   [Jun 19, 2023](\#issuecomment-1597181350)

|     |
| --- |
| There is no rush for my project currently so take your time |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Jun 19, 2023](\#issuecomment-1597845449)

|     |
| --- |
| Release 1.4.5 now, tested specifically this fix and it's working as expected using the nuget version. |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

closed this as [completed](/sandrohanea/whisper.net/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted) [Jun 19, 2023](#event-9573041802)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fissues%2F74)

Assignees


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

Labels


[bug](/sandrohanea/whisper.net/labels/bug) Something isn't working

Projects


None yet

Milestone


No milestone

Development


No branches or pull requests

2 participants


[![@Kanda](https://avatars.githubusercontent.com/u/1194703?s=52&v=4)](/Kanda)[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

You can’t perform that action at this time.

---

# Release 1.2.1 (#5) · sandrohanea/whisper.net@e38ebcf · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Release 1.2.1 ( [#5](https://github.com/sandrohanea/whisper.net/pull/5))


[Browse files](/sandrohanea/whisper.net/tree/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e) Browse the repository at this point in the history

```
* Started to prepare 1.2.1

* Added WhisperFactory for multiple parallel executions.

* Changed exception type when file don't exist.

* Fixed macos library loader + compiled preview whisper.dylib

* Added version 1.2.1-preview1

* Rebuilt it on linux as the WSL build is not loading.

* Bumped and released version 1.2.1-preview2 with updated linux native library.

* Add ProcessAsync (#6)

* Fixed ProcessAsync + Moved internals to specific folder.

* Added codestyle .editorconfig and unified all code style + Removed Bcl.AsyncInterfaces for netstandard2.1+

* Added Whisper.net.Tests + fixed some concurrent issue on ProcessAsync

* Create dotnet.yml (#8)

* Create dotnet.yml

* Update dotnet.yml

* Added sln to dotnet test

* Update dotnet.yml

* Update dotnet.yml

* Update dotnet.yml

* Added codeball action

* Added PR write permission

* Little change to codeball to not approve and to have code suggestions.

* Release 1.2.1-preview4

* Fixed wave parser to parse the wave header only during first call + use appropiate methods (async or not) depending on that + reduced number of reads by reading the full required header buffer from one call.

* Added probability on SegmentData

* Adds support for utf8 texts (#10)

* Moved StringFromNativeUtf8 method to private

* Fixed #12 (hopefully)

* Added native build

Created by ChatGPT 🗡️

* Update nativebuild.yml (#13)

* Update nativebuild.yml

* Update codeball.yml

* WIP

* Added build scripts + removed preview

* Tested locally and removed macos temporary.

* Updated readme

---------

Co-authored-by: Adam Novak <125261085+adamnova@users.noreply.github.com>
```

- [main](/sandrohanea/whisper.net)
- ( [#5](/sandrohanea/whisper.net/pull/5 "Merged Pull Request: Release 1.2.1"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)
- …
- [1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)
- [1.7.3-preview2](/sandrohanea/whisper.net/releases/tag/1.7.3-preview2)
- [1.7.3-preview1](/sandrohanea/whisper.net/releases/tag/1.7.3-preview1)
- [1.7.2](/sandrohanea/whisper.net/releases/tag/1.7.2)
- [1.7.2-preview3](/sandrohanea/whisper.net/releases/tag/1.7.2-preview3)
- [1.7.2-preview2](/sandrohanea/whisper.net/releases/tag/1.7.2-preview2)
- [1.7.2-preview1](/sandrohanea/whisper.net/releases/tag/1.7.2-preview1)
- [1.7.1](/sandrohanea/whisper.net/releases/tag/1.7.1)
- [1.7.1-preview1](/sandrohanea/whisper.net/releases/tag/1.7.1-preview1)
- [1.7.0](/sandrohanea/whisper.net/releases/tag/1.7.0)
- [1.5.0](/sandrohanea/whisper.net/releases/tag/1.5.0)
- [1.4.7](/sandrohanea/whisper.net/releases/tag/1.4.7)
- [1.4.6](/sandrohanea/whisper.net/releases/tag/1.4.6)
- [1.4.5](/sandrohanea/whisper.net/releases/tag/1.4.5)
- [1.4.4](/sandrohanea/whisper.net/releases/tag/1.4.4)
- [1.4.3](/sandrohanea/whisper.net/releases/tag/1.4.3)
- [1.4.2](/sandrohanea/whisper.net/releases/tag/1.4.2)
- [1.4.0](/sandrohanea/whisper.net/releases/tag/1.4.0)
- [1.3.0](/sandrohanea/whisper.net/releases/tag/1.3.0)
- [1.2.2](/sandrohanea/whisper.net/releases/tag/1.2.2)
- [1.2.1](/sandrohanea/whisper.net/releases/tag/1.2.1)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@adamnova](https://avatars.githubusercontent.com/u/125261085?s=40&v=4)](/adamnova)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")
and
[adamnova](/sandrohanea/whisper.net/commits?author=adamnova "View all commits by adamnova")

authored
Feb 21, 2023

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[bed106a](/sandrohanea/whisper.net/commit/bed106a72afde5365ae4e88c12d213164c83a955)commit e38ebcf

Show file tree

Hide file tree

Showing
**61 changed files**
with
**2,596 additions**
and
**1,132 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

368 changes: 368 additions & 0 deletions
368 [.editorconfig](#diff-0947e2727d6bad8cd0ac4122f5314bb5b04e337393075bc4b5ef143b17fcbd5b ".editorconfig")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/.editorconfig)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,368 @@ |
|  |  | ; EditorConfig to support per-solution formatting. |
|  |  | ; Use the EditorConfig VS add-in to make this work. |
|  |  | ; http://editorconfig.org/ |
|  |  | ; |
|  |  | ; Here are some resources for what's supported for .NET/C# |
|  |  | ; https://kent-boogaart.com/blog/editorconfig-reference-for-c-developers |
|  |  | ; https://docs.microsoft.com/en-us/visualstudio/ide/editorconfig-code-style-settings-reference?view=vs-2017 |
|  |  | ; |
|  |  | ; Be \*\*careful\*\* editing this because some of the rules don't support adding a severity level |
|  |  | ; For instance if you change to \`dotnet\_sort\_system\_directives\_first = true:warning\` (adding \`:warning\`) |
|  |  | ; then the rule will be silently ignored. |
|  |  |  |
|  |  | ; This is the default for the codeline. |
|  |  | root = true |
|  |  |  |
|  |  | \[\*\] |
|  |  | indent\_style = space |
|  |  | charset = utf-8 |
|  |  | trim\_trailing\_whitespace = true |
|  |  | insert\_final\_newline = true |
|  |  |  |
|  |  | \[\*.cs\] |
|  |  | indent\_size = 4 |
|  |  | dotnet\_sort\_system\_directives\_first = true |
|  |  |  |
|  |  | # Don't use this. qualifier |
|  |  | dotnet\_style\_qualification\_for\_field = false:suggestion |
|  |  | dotnet\_style\_qualification\_for\_property = false:suggestion |
|  |  |  |
|  |  | # use int x = .. over Int32 |
|  |  | dotnet\_style\_predefined\_type\_for\_locals\_parameters\_members = true:suggestion |
|  |  |  |
|  |  | # use int.MaxValue over Int32.MaxValue |
|  |  | dotnet\_style\_predefined\_type\_for\_member\_access = true:suggestion |
|  |  |  |
|  |  | # Require var all the time. |
|  |  | csharp\_style\_var\_for\_built\_in\_types = true:warning |
|  |  | csharp\_style\_var\_when\_type\_is\_apparent = true:warning |
|  |  | csharp\_style\_var\_elsewhere = true:warning |
|  |  |  |
|  |  | # Disallow throw expressions. |
|  |  | csharp\_style\_throw\_expression = false:suggestion |
|  |  |  |
|  |  | # Newline settings |
|  |  | csharp\_new\_line\_before\_open\_brace = all |
|  |  | csharp\_new\_line\_before\_else = true |
|  |  | csharp\_new\_line\_before\_catch = true |
|  |  | csharp\_new\_line\_before\_finally = true |
|  |  | csharp\_new\_line\_before\_members\_in\_object\_initializers = true |
|  |  | csharp\_new\_line\_before\_members\_in\_anonymous\_types = true |
|  |  |  |
|  |  | # Namespace settings |
|  |  | csharp\_style\_namespace\_declarations = file\_scoped:silent |
|  |  |  |
|  |  | # Brace settings |
|  |  | csharp\_prefer\_braces = true:silent\# Prefercurlybracesevenforonelineofcode |
|  |  | csharp\_using\_directive\_placement = outside\_namespace:silent |
|  |  | csharp\_prefer\_simple\_using\_statement = true:warning |
|  |  | csharp\_style\_prefer\_method\_group\_conversion = true:silent |
|  |  | csharp\_style\_expression\_bodied\_methods = false:silent |
|  |  | csharp\_style\_expression\_bodied\_constructors = false:silent |
|  |  | csharp\_style\_expression\_bodied\_operators = false:silent |
|  |  | csharp\_style\_expression\_bodied\_properties = when\_on\_single\_line:silent |
|  |  | csharp\_style\_expression\_bodied\_indexers = when\_on\_single\_line:silent |
|  |  | csharp\_style\_expression\_bodied\_accessors = when\_on\_single\_line:silent |
|  |  | csharp\_style\_expression\_bodied\_lambdas = when\_on\_single\_line:silent |
|  |  | csharp\_style\_expression\_bodied\_local\_functions = false:silent |
|  |  | csharp\_indent\_labels = one\_less\_than\_current |
|  |  | csharp\_style\_inlined\_variable\_declaration = true:suggestion |
|  |  | csharp\_style\_deconstructed\_variable\_declaration = true:suggestion |
|  |  | csharp\_space\_around\_binary\_operators = before\_and\_after |
|  |  | csharp\_style\_prefer\_null\_check\_over\_type\_check = true:suggestion |
|  |  | csharp\_prefer\_simple\_default\_expression = true:suggestion |
|  |  | dotnet\_diagnostic.IDE0021.severity = warning |
|  |  | dotnet\_diagnostic.IDE0022.severity = warning |
|  |  | dotnet\_diagnostic.IDE0023.severity = warning |
|  |  | dotnet\_diagnostic.IDE0024.severity = warning |
|  |  | dotnet\_diagnostic.IDE0025.severity = warning |
|  |  | dotnet\_diagnostic.IDE0026.severity = warning |
|  |  | dotnet\_diagnostic.IDE0027.severity = warning |
|  |  | csharp\_style\_prefer\_top\_level\_statements = true:silent |
|  |  | csharp\_style\_prefer\_local\_over\_anonymous\_function = true:suggestion |
|  |  | csharp\_style\_prefer\_index\_operator = true:suggestion |
|  |  | csharp\_style\_prefer\_range\_operator = true:suggestion |
|  |  | csharp\_style\_implicit\_object\_creation\_when\_type\_is\_apparent = true:suggestion |
|  |  | csharp\_style\_prefer\_tuple\_swap = true:suggestion |
|  |  | csharp\_style\_prefer\_utf8\_string\_literals = true:suggestion |
|  |  | csharp\_style\_unused\_value\_assignment\_preference = discard\_variable:suggestion |
|  |  |  |
|  |  | \[\*.{xml,config,\*proj,nuspec,props,resx,targets,yml,tasks}\] |
|  |  | indent\_size = 2 |
|  |  |  |
|  |  | # Xml config files |
|  |  | \[\*.{props,targets,ruleset,config,nuspec,resx,vsixmanifest,vsct}\] |
|  |  | indent\_size = 2 |
|  |  |  |
|  |  | \[\*.json\] |
|  |  | indent\_size = 2 |
|  |  |  |
|  |  | \[\*.{ps1,psm1}\] |
|  |  | indent\_size = 4 |
|  |  |  |
|  |  | \[\*.sh\] |
|  |  | indent\_size = 4 |
|  |  | end\_of\_line = lf |
|  |  |  |
|  |  | \[\*.{razor,cshtml}\] |
|  |  | charset = utf-8-bom |
|  |  |  |
|  |  | \[\*.{cs,vb}\] |
|  |  |  |
|  |  | #CA1824: Mark assemblies with NeutralResourcesLanguageAttribute |
|  |  | dotnet\_diagnostic.CA1824.severity = silent |
|  |  |  |
|  |  | # CA1018: Mark attributes with AttributeUsageAttribute |
|  |  | dotnet\_diagnostic.CA1018.severity = warning |
|  |  |  |
|  |  | # CA1047: Do not declare protected member in sealed type |
|  |  | dotnet\_diagnostic.CA1047.severity = warning |
|  |  |  |
|  |  | # CA1305: Specify IFormatProvider |
|  |  | dotnet\_diagnostic.CA1305.severity = warning |
|  |  |  |
|  |  | # CA1507: Use nameof to express symbol names |
|  |  | dotnet\_diagnostic.CA1507.severity = warning |
|  |  |  |
|  |  | # CA1725: Parameter names should match base declaration |
|  |  | dotnet\_diagnostic.CA1725.severity = suggestion |
|  |  |  |
|  |  | # CA1802: Use literals where appropriate |
|  |  | dotnet\_diagnostic.CA1802.severity = warning |
|  |  |  |
|  |  | # CA1805: Do not initialize unnecessarily |
|  |  | dotnet\_diagnostic.CA1805.severity = warning |
|  |  |  |
|  |  | # CA1810: Do not initialize unnecessarily |
|  |  | dotnet\_diagnostic.CA1810.severity = warning |
|  |  |  |
|  |  | # CA1821: Remove empty Finalizers |
|  |  | dotnet\_diagnostic.CA1821.severity = warning |
|  |  |  |
|  |  | # CA1822: Make member static |
|  |  | dotnet\_diagnostic.CA1822.severity = warning |
|  |  | dotnet\_code\_quality.CA1822.api\_surface = private,internal |
|  |  |  |
|  |  | # CA1823: Avoid unused private fields |
|  |  | dotnet\_diagnostic.CA1823.severity = warning |
|  |  |  |
|  |  | # CA1825: Avoid zero-length array allocations |
|  |  | dotnet\_diagnostic.CA1825.severity = warning |
|  |  |  |
|  |  | # CA1826: Do not use Enumerable methods on indexable collections. Instead use the collection directly |
|  |  | dotnet\_diagnostic.CA1826.severity = warning |
|  |  |  |
|  |  | # CA1827: Do not use Count() or LongCount() when Any() can be used |
|  |  | dotnet\_diagnostic.CA1827.severity = warning |
|  |  |  |
|  |  | # CA1828: Do not use CountAsync() or LongCountAsync() when AnyAsync() can be used |
|  |  | dotnet\_diagnostic.CA1828.severity = warning |
|  |  |  |
|  |  | # CA1829: Use Length/Count property instead of Count() when available |
|  |  | dotnet\_diagnostic.CA1829.severity = warning |
|  |  |  |
|  |  | # CA1830: Prefer strongly-typed Append and Insert method overloads on StringBuilder |
|  |  | dotnet\_diagnostic.CA1830.severity = warning |
|  |  |  |
|  |  | # CA1831: Use AsSpan or AsMemory instead of Range-based indexers when appropriate |
|  |  | # CA1832: Use AsSpan or AsMemory instead of Range-based indexers when appropriate |
|  |  | # CA1833: Use AsSpan or AsMemory instead of Range-based indexers when appropriate |
|  |  | dotnet\_diagnostic.CA1831.severity = warning |
|  |  | dotnet\_diagnostic.CA1832.severity = warning |
|  |  | dotnet\_diagnostic.CA1833.severity = warning |
|  |  |  |
|  |  | # CA1834: Consider using 'StringBuilder.Append(char)' when applicable |
|  |  | dotnet\_diagnostic.CA1834.severity = warning |
|  |  |  |
|  |  | # CA1835: Prefer the 'Memory'-based overloads for 'ReadAsync' and 'WriteAsync' |
|  |  | dotnet\_diagnostic.CA1835.severity = warning |
|  |  |  |
|  |  | # CA1836: Prefer IsEmpty over Count |
|  |  | dotnet\_diagnostic.CA1836.severity = warning |
|  |  |  |
|  |  | # CA1837: Use 'Environment.ProcessId' |
|  |  | dotnet\_diagnostic.CA1837.severity = warning |
|  |  |  |
|  |  | # CA1838: Avoid 'StringBuilder' parameters for P/Invokes |
|  |  | dotnet\_diagnostic.CA1838.severity = warning |
|  |  |  |
|  |  | # CA1839: Use 'Environment.ProcessPath' |
|  |  | dotnet\_diagnostic.CA1839.severity = warning |
|  |  |  |
|  |  | # CA1840: Use 'Environment.CurrentManagedThreadId' |
|  |  | dotnet\_diagnostic.CA1840.severity = warning |
|  |  |  |
|  |  | # CA1841: Prefer Dictionary.Contains methods |
|  |  | dotnet\_diagnostic.CA1841.severity = warning |
|  |  |  |
|  |  | # CA1842: Do not use 'WhenAll' with a single task |
|  |  | dotnet\_diagnostic.CA1842.severity = warning |
|  |  |  |
|  |  | # CA1843: Do not use 'WaitAll' with a single task |
|  |  | dotnet\_diagnostic.CA1843.severity = warning |
|  |  |  |
|  |  | # CA1844: Provide memory-based overrides of async methods when subclassing 'Stream' |
|  |  | dotnet\_diagnostic.CA1844.severity = warning |
|  |  |  |
|  |  | # CA1845: Use span-based 'string.Concat' |
|  |  | dotnet\_diagnostic.CA1845.severity = warning |
|  |  |  |
|  |  | # CA1846: Prefer AsSpan over Substring |
|  |  | dotnet\_diagnostic.CA1846.severity = warning |
|  |  |  |
|  |  | # CA1847: Use string.Contains(char) instead of string.Contains(string) with single characters |
|  |  | dotnet\_diagnostic.CA1847.severity = warning |
|  |  |  |
|  |  | # CA2007: Consider calling ConfigureAwait on the awaited task |
|  |  | dotnet\_diagnostic.CA2007.severity = silent |
|  |  |  |
|  |  | # CA2008: Do not create tasks without passing a TaskScheduler |
|  |  | dotnet\_diagnostic.CA2008.severity = warning |
|  |  |  |
|  |  | # CA2009: Do not call ToImmutableCollection on an ImmutableCollection value |
|  |  | dotnet\_diagnostic.CA2009.severity = warning |
|  |  |  |
|  |  | # CA2011: Avoid infinite recursion |
|  |  | dotnet\_diagnostic.CA2011.severity = warning |
|  |  |  |
|  |  | # CA2012: Use ValueTask correctly |
|  |  | dotnet\_diagnostic.CA2012.severity = warning |
|  |  |  |
|  |  | # CA2013: Do not use ReferenceEquals with value types |
|  |  | dotnet\_diagnostic.CA2013.severity = warning |
|  |  |  |
|  |  | # CA2014: Do not use stackalloc in loops. |
|  |  | dotnet\_diagnostic.CA2014.severity = warning |
|  |  |  |
|  |  | # CA2016: Forward the 'CancellationToken' parameter to methods that take one |
|  |  | dotnet\_diagnostic.CA2016.severity = warning |
|  |  |  |
|  |  | # CA2200: Rethrow to preserve stack details |
|  |  | dotnet\_diagnostic.CA2200.severity = warning |
|  |  |  |
|  |  | # CA2208: Instantiate argument exceptions correctly |
|  |  | dotnet\_diagnostic.CA2208.severity = warning |
|  |  |  |
|  |  | # CA2245: Do not assign a property to itself |
|  |  | dotnet\_diagnostic.CA2245.severity = warning |
|  |  |  |
|  |  | # CA2246: Assigning symbol and its member in the same statement |
|  |  | dotnet\_diagnostic.CA2246.severity = warning |
|  |  |  |
|  |  | # CA2249: Use string.Contains instead of string.IndexOf to improve readability. |
|  |  | dotnet\_diagnostic.CA2249.severity = warning |
|  |  |  |
|  |  | # IDE0005: Remove unnecessary usings |
|  |  | dotnet\_diagnostic.IDE0005.severity = warning |
|  |  |  |
|  |  | # IDE0011: Curly braces to surround blocks of code |
|  |  | dotnet\_diagnostic.IDE0011.severity = warning |
|  |  |  |
|  |  | # IDE0035: Remove unreachable code |
|  |  | dotnet\_diagnostic.IDE0035.severity = warning |
|  |  |  |
|  |  | # IDE0036: Order modifiers |
|  |  | csharp\_preferred\_modifier\_order = public,private,protected,internal,static,extern,new,virtual,abstract,sealed,override,readonly,unsafe,volatile,async:suggestion |
|  |  | dotnet\_diagnostic.IDE0036.severity = warning |
|  |  |  |
|  |  | # IDE0043: Format string contains invalid placeholder |
|  |  | dotnet\_diagnostic.IDE0043.severity = warning |
|  |  |  |
|  |  | # IDE0044: Make field readonly |
|  |  | dotnet\_diagnostic.IDE0044.severity = warning |
|  |  |  |
|  |  | # IDE0051: Remove unused private members |
|  |  | dotnet\_diagnostic.IDE0051.severity = warning |
|  |  |  |
|  |  | # IDE0055: All formatting rules |
|  |  | dotnet\_diagnostic.IDE0055.severity = suggestion |
|  |  |  |
|  |  | # IDE0059: Unnecessary assignment to a value |
|  |  | dotnet\_diagnostic.IDE0059.severity = warning |
|  |  |  |
|  |  | # IDE0060: Remove unused parameter |
|  |  | dotnet\_code\_quality\_unused\_parameters = non\_public |
|  |  | dotnet\_diagnostic.IDE0060.severity = warning |
|  |  |  |
|  |  | # IDE0062: Make local function static |
|  |  | dotnet\_diagnostic.IDE0062.severity = warning |
|  |  |  |
|  |  | # IDE0073: File header |
|  |  | dotnet\_diagnostic.IDE0073.severity = warning |
|  |  | file\_header\_template = LicensedundertheMITlicense:https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | # IDE0161: Convert to file-scoped namespace |
|  |  | dotnet\_diagnostic.IDE0161.severity = warning |
|  |  |  |
|  |  | # IDE2000: Disallow multiple blank lines |
|  |  | dotnet\_style\_allow\_multiple\_blank\_lines\_experimental = false |
|  |  | dotnet\_diagnostic.IDE2000.severity = warning |
|  |  |  |
|  |  | \[\*.{cs,vb}\] |
|  |  | #\### Naming styles #### |
|  |  |  |
|  |  | # Naming rules |
|  |  |  |
|  |  | dotnet\_naming\_rule.interface\_should\_be\_begins\_with\_i.severity = warning |
|  |  | dotnet\_naming\_rule.interface\_should\_be\_begins\_with\_i.symbols = interface |
|  |  | dotnet\_naming\_rule.interface\_should\_be\_begins\_with\_i.style = begins\_with\_i |
|  |  |  |
|  |  | dotnet\_naming\_rule.types\_should\_be\_pascal\_case.severity = warning |
|  |  | dotnet\_naming\_rule.types\_should\_be\_pascal\_case.symbols = types |
|  |  | dotnet\_naming\_rule.types\_should\_be\_pascal\_case.style = pascal\_case |
|  |  |  |
|  |  | dotnet\_naming\_rule.non\_field\_members\_should\_be\_pascal\_case.severity = warning |
|  |  | dotnet\_naming\_rule.non\_field\_members\_should\_be\_pascal\_case.symbols = non\_field\_members |
|  |  | dotnet\_naming\_rule.non\_field\_members\_should\_be\_pascal\_case.style = pascal\_case |
|  |  |  |
|  |  | # Symbol specifications |
|  |  |  |
|  |  | dotnet\_naming\_symbols.interface.applicable\_kinds = interface |
|  |  | dotnet\_naming\_symbols.interface.applicable\_accessibilities = public,internal,private,protected,protected\_internal,private\_protected |
|  |  | dotnet\_naming\_symbols.interface.required\_modifiers = |
|  |  |  |
|  |  | dotnet\_naming\_symbols.types.applicable\_kinds = class,struct,interface,enum |
|  |  | dotnet\_naming\_symbols.types.applicable\_accessibilities = public,internal,private,protected,protected\_internal,private\_protected |
|  |  | dotnet\_naming\_symbols.types.required\_modifiers = |
|  |  |  |
|  |  | dotnet\_naming\_symbols.non\_field\_members.applicable\_kinds = property,event,method |
|  |  | dotnet\_naming\_symbols.non\_field\_members.applicable\_accessibilities = public,internal,private,protected,protected\_internal,private\_protected |
|  |  | dotnet\_naming\_symbols.non\_field\_members.required\_modifiers = |
|  |  |  |
|  |  | # Naming styles |
|  |  |  |
|  |  | dotnet\_naming\_style.begins\_with\_i.required\_prefix = I |
|  |  | dotnet\_naming\_style.begins\_with\_i.required\_suffix = |
|  |  | dotnet\_naming\_style.begins\_with\_i.word\_separator = |
|  |  | dotnet\_naming\_style.begins\_with\_i.capitalization = pascal\_case |
|  |  |  |
|  |  | dotnet\_naming\_style.pascal\_case.required\_prefix = |
|  |  | dotnet\_naming\_style.pascal\_case.required\_suffix = |
|  |  | dotnet\_naming\_style.pascal\_case.word\_separator = |
|  |  | dotnet\_naming\_style.pascal\_case.capitalization = pascal\_case |
|  |  |  |
|  |  | dotnet\_naming\_style.pascal\_case.required\_prefix = |
|  |  | dotnet\_naming\_style.pascal\_case.required\_suffix = |
|  |  | dotnet\_naming\_style.pascal\_case.word\_separator = |
|  |  | dotnet\_naming\_style.pascal\_case.capitalization = pascal\_case |
|  |  | dotnet\_style\_coalesce\_expression = true:suggestion |
|  |  | dotnet\_style\_null\_propagation = true:suggestion |
|  |  | dotnet\_style\_prefer\_is\_null\_check\_over\_reference\_equality\_method = true:suggestion |
|  |  | dotnet\_style\_prefer\_auto\_properties = true:silent |
|  |  | dotnet\_style\_object\_initializer = true:suggestion |
|  |  | dotnet\_style\_collection\_initializer = true:suggestion |
|  |  | dotnet\_style\_prefer\_simplified\_boolean\_expressions = true:suggestion |
|  |  | dotnet\_style\_prefer\_conditional\_expression\_over\_assignment = true:silent |
|  |  | dotnet\_style\_prefer\_conditional\_expression\_over\_return = true:silent |
|  |  | dotnet\_style\_explicit\_tuple\_names = true:suggestion |
|  |  | dotnet\_style\_operator\_placement\_when\_wrapping = beginning\_of\_line |
|  |  | tab\_width = 4 |
|  |  | indent\_size = 4 |
|  |  | end\_of\_line = crlf |
|  |  | dotnet\_style\_prefer\_inferred\_tuple\_names = true:suggestion |
|  |  | dotnet\_style\_qualification\_for\_method = false:silent |
|  |  | dotnet\_style\_allow\_statement\_immediately\_after\_block\_experimental = true:silent |
|  |  | dotnet\_style\_prefer\_inferred\_anonymous\_type\_member\_names = true:suggestion |
|  |  | dotnet\_style\_prefer\_compound\_assignment = true:suggestion |
|  |  | dotnet\_style\_prefer\_simplified\_interpolation = true:suggestion |
|  |  | dotnet\_style\_namespace\_match\_folder = true:suggestion |

22 changes: 22 additions & 0 deletions
22 [.github/workflows/codeball.yml](#diff-d535116c5d55e0f2024d3b79cc57081d8e892356c9bc44ae87478991396b4626 ".github/workflows/codeball.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/.github/workflows/codeball.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,22 @@ |
|  |  | name: Codeball |
|  |  | on: |
|  |  | pull\_request: {} |
|  |  | pull\_request\_review\_comment: |
|  |  | types: \[created, edited\] |
|  |  |  |
|  |  | jobs: |
|  |  | codeball\_job: |
|  |  | runs-on: ubuntu-latest |
|  |  | name: Codeball |
|  |  | permissions: |
|  |  | pull-requests: write |
|  |  | steps: |
|  |  | \- name: Codeball |
|  |  | uses: sturdy-dev/codeball-action@v2 |
|  |  | with: |
|  |  | # For all configuration options see https://github.com/sturdy-dev/codeball-action/blob/v2/action.yml |
|  |  | labelPullRequestsWhenApproved: "true" |
|  |  | labelPullRequestsWhenReviewNeeded: "true" |
|  |  | failJobsWhenReviewNeeded: "false" |
|  |  | codeSuggestionsFromComments: "true" |
|  |  | approvePullRequests: "false" |

32 changes: 32 additions & 0 deletions
32 [.github/workflows/dotnet.yml](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344 ".github/workflows/dotnet.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/.github/workflows/dotnet.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,32 @@ |
|  |  | # This workflow will build a .NET project |
|  |  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |  |
|  |  | name: CI |
|  |  |  |
|  |  | on: |
|  |  | push: |
|  |  | branches: \[ "main" \] |
|  |  | pull\_request: |
|  |  | branches: \[ "main" \] |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: ${{ matrix.os }} |
|  |  | strategy: |
|  |  | matrix: |
|  |  | os: \[ubuntu-latest, windows-latest\] |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v3 |
|  |  | \- name: Setup .NET |
|  |  | uses: actions/setup-dotnet@v3 |
|  |  | with: |
|  |  | dotnet-version: 7.0.x |
|  |  | \- name: Restore dependencies |
|  |  | run: dotnet restore ./Whisper.net.sln |
|  |  | \- name: Build |
|  |  | run: dotnet build ./Whisper.net.sln --no-restore -warnaserror |
|  |  | \- name: Test |
|  |  | run: \| |
|  |  | dotnet test ./Whisper.net.sln --no-build |

42 changes: 42 additions & 0 deletions
42 [.github/workflows/nativebuild.yml](#diff-0febc457cc97929f3100db60304e9b024abb8078f4a0bf26fc333ac1d45e055b ".github/workflows/nativebuild.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/.github/workflows/nativebuild.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,42 @@ |
|  |  | name: Build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  | runs-on: ${{ matrix.os }} |
|  |  | strategy: |
|  |  | matrix: |
|  |  | os: \[macos-latest, ubuntu-latest, windows-latest, {os: windows-2019, vm-image: windows-latest}\] |
|  |  | arch: \[amd64, arm64, x86\] |
|  |  | configuration: \[Debug, Release\] |
|  |  | if: \| |
|  |  | matrix.os == 'windows-latest' \|\| matrix.os == '{os: windows-2019, vm-image: windows-latest}' \|\| |
|  |  | matrix.os == 'ubuntu-latest' && matrix.arch == 'x86' |
|  |  | steps: |
|  |  | \- name: Checkout |
|  |  | uses: actions/checkout@v2 |
|  |  | with: |
|  |  | submodules: 'recursive' |
|  |  |  |
|  |  | \- name: Set up CMake |
|  |  | uses: actions/setup-cmake@v1 |
|  |  | with: |
|  |  | cmake-version: '3.21.1' |
|  |  |  |
|  |  | \- name: Create build directory |
|  |  | run: \| |
|  |  | mkdir -p build/${{ matrix.os }}-${{ matrix.arch }}-${{ matrix.configuration }} |
|  |  | cd build/${{ matrix.os }}-${{ matrix.arch }}-${{ matrix.configuration }} |
|  |  | if \[ "${{ matrix.arch }}" = "x86" \] && ( \[ "${{ matrix.os }}" = "windows-latest" \] \|\| \[ "${{ matrix.os }}" = "{os: windows-2019, vm-image: windows-latest}" \] \|\| \[ "${{ matrix.os }}" = "ubuntu-latest" \] ); then cmake ../.. -DCMAKE\_BUILD\_TYPE=${{ matrix.configuration }} -DCMAKE\_GENERATOR\_PLATFORM=Win32; else cmake ../.. -DCMAKE\_BUILD\_TYPE=${{ matrix.configuration }} -DCMAKE\_GENERATOR\_PLATFORM=${{ matrix.arch }}; fi |
|  |  |  |
|  |  | \- name: Build |
|  |  | run: \| |
|  |  | cd build/${{ matrix.os }}-${{ matrix.arch }}-${{ matrix.configuration }} |
|  |  | cmake --build . --config ${{ matrix.configuration }} -j $(nproc) -v |
|  |  |  |
|  |  | \- name: Copy artifacts |
|  |  | run: \| |
|  |  | mkdir -p artifacts/${{ matrix.os }}-${{ matrix.arch }}-${{ matrix.configuration }} |
|  |  | cp -R build/${{ matrix.os }}-${{ matrix.arch }}-${{ matrix.configuration }}/\* artifacts/${{ matrix.os }}-${{ matrix.arch }}-${{ matrix.configuration }} |

Binary file removed
BIN

 -3.66 MB

[Whisper.net.Demo/1min.wav](#diff-9b62da4e2477327e8b7f3d57d3aa86efb8d56599fcf1aca9865f441964342c82 "Whisper.net.Demo/1min.wav")

Show comments


[View file](/sandrohanea/whisper.net/blob/bed106a72afde5365ae4e88c12d213164c83a955/Whisper.net.Demo/1min.wav)
Edit file

Delete file


Binary file not shown.


36 changes: 18 additions & 18 deletions
36 [Whisper.net.Demo/Program.cs](#diff-9e0995f0a9f269984c7005a0339455280e18f047acf6267457e3bafbc31c81d3 "Whisper.net.Demo/Program.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net.Demo/Program.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,13 +1,14 @@ |
|  |  | ﻿ |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem; |
|  |  | usingSystem.IO; |
|  |  | usingSystem.Threading; |
|  |  | usingSystem.Threading.Tasks; |
|  |  | usingCommandLine; |
|  |  | usingWhisper.net; |
|  |  | usingWhisper.net.Ggml; |
|  |  | usingWhisper.net.Wave; |
|  |  |  |
|  |  |  |
|  |  | awaitParser.Default.ParseArguments<Options>(args) |
|  |  | .WithParsedAsync(Demo); |
|  |  |  |
| [Expand All](#diff-9e0995f0a9f269984c7005a0339455280e18f047acf6267457e3bafbc31c81d3) Expand All | @@ -28,7 +29,7 @@ async Task Demo(Options opt) |
|  |  | break; |
|  |  | case"transcribe": |
|  |  | case"translate": |
|  |  | FullDetection(opt); |
|  |  | awaitFullDetection(opt); |
|  |  | break; |
|  |  | default: |
|  |  | Console.WriteLine("Unknown command"); |
| [Expand All](#diff-9e0995f0a9f269984c7005a0339455280e18f047acf6267457e3bafbc31c81d3) Expand All | @@ -40,8 +41,10 @@ void LanguageIdentification(Options opt) |
|  |  | { |
|  |  | varbufferedModel=File.ReadAllBytes(opt.ModelName); |
|  |  |  |
|  |  | varbuilder=WhisperProcessorBuilder.Create() |
|  |  | .WithBufferedModel(bufferedModel) |
|  |  | // Same factory can be used by multiple taks to create processors. |
|  |  | usingvarfactory=WhisperFactory.FromBuffer(bufferedModel); |
|  |  |  |
|  |  | varbuilder=factory.CreateBuilder() |
|  |  | .WithLanguage(opt.Language); |
|  |  |  |
|  |  | usingvarprocessor=builder.Build(); |
| [Expand All](#diff-9e0995f0a9f269984c7005a0339455280e18f047acf6267457e3bafbc31c81d3) Expand All | @@ -56,13 +59,13 @@ void LanguageIdentification(Options opt) |
|  |  | Console.WriteLine("Language is "+language); |
|  |  | } |
|  |  |  |
|  |  | voidFullDetection(Optionsopt) |
|  |  | asyncTaskFullDetection(Optionsopt) |
|  |  | { |
|  |  | // Same factory can be used by multiple taks to create processors. |
|  |  | usingvarfactory=WhisperFactory.FromPath(opt.ModelName); |
|  |  |  |
|  |  | varbuilder=WhisperProcessorBuilder.Create() |
|  |  | .WithFileModel(opt.ModelName) |
|  |  | .WithSegmentEventHandler(OnNewSegment) |
|  |  | .WithLanguage(opt.Language); |
|  |  | varbuilder=factory.CreateBuilder() |
|  |  | .WithLanguage(opt.Language); |
|  |  |  |
|  |  | if(opt.Command=="translate") |
|  |  | { |
| [Expand All](#diff-9e0995f0a9f269984c7005a0339455280e18f047acf6267457e3bafbc31c81d3) Expand All | @@ -71,23 +74,20 @@ void FullDetection(Options opt) |
|  |  |  |
|  |  | usingvarprocessor=builder.Build(); |
|  |  |  |
|  |  | staticvoidOnNewSegment(objectsender,OnSegmentEventArgse) |
|  |  | usingvarfileStream=File.OpenRead(opt.FileName); |
|  |  |  |
|  |  | awaitforeach(varsegmentinprocessor.ProcessAsync(fileStream,CancellationToken.None)) |
|  |  | { |
|  |  | Console.WriteLine($"New Segment: {e.Start} ==\> {e.End} : {e.Segment}"); |
|  |  | Console.WriteLine($"New Segment: {segment.Start} ==\> {segment.End} : {segment.Text}"); |
|  |  | } |
|  |  |  |
|  |  | usingvarfileStream=File.OpenRead(opt.FileName); |
|  |  | processor.Process(fileStream); |
|  |  | varlanguage=processor.GetAutodetectedLanguage(); |
|  |  | Console.WriteLine("Language was "+language); |
|  |  | } |
|  |  |  |
|  |  | publicclassOptions |
|  |  | { |
|  |  | \[Option('t',"command",Required=false,HelpText="Command to run (lang-detect, transcribe or translate)",Default="transcribe")\] |
|  |  | publicstringCommand{get;set;} |
|  |  |  |
|  |  | \[Option('f',"file",Required=false,HelpText="File to process",Default="1min.wav")\] |
|  |  | \[Option('f',"file",Required=false,HelpText="File to process",Default="kennedy.wav")\] |
|  |  | publicstringFileName{get;set;} |
|  |  |  |
|  |  | \[Option('l',"lang",Required=false,HelpText="Language",Default="auto")\] |
| [Expand Down](#diff-9e0995f0a9f269984c7005a0339455280e18f047acf6267457e3bafbc31c81d3) Expand Down |  |

20 changes: 18 additions & 2 deletions
20 [Whisper.net.Demo/Properties/launchSettings.json](#diff-f2d962bb443d389479b006bc82c62142a5ffeb05d655ac989cd2f7c704eb9b27 "Whisper.net.Demo/Properties/launchSettings.json")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net.Demo/Properties/launchSettings.json)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,24 @@ |
|  |  | { |
|  |  | "profiles": { |
|  |  | "Whisper.net.Demo": { |
|  |  | "Demo Romanian Detected": { |
|  |  | "commandName": "Project", |
|  |  | "nativeDebugging": true |
|  |  | "nativeDebugging": true, |
|  |  | "commandLineArgs": "-f rom.wav" |
|  |  | }, |
|  |  | "Demo Romanian Provided": { |
|  |  | "commandName": "Project", |
|  |  | "nativeDebugging": true, |
|  |  | "commandLineArgs": "-f rom.wav -l ro" |
|  |  | }, |
|  |  | "Demo English Detected": { |
|  |  | "commandName": "Project", |
|  |  | "nativeDebugging": true, |
|  |  | "commandLineArgs": "-f kennedy.wav" |
|  |  | }, |
|  |  | "Demo English TinyEn Provided": { |
|  |  | "commandName": "Project", |
|  |  | "nativeDebugging": true, |
|  |  | "commandLineArgs": "-f kennedy.wav -g TinyEn -m tiny-en.bin -l en" |
|  |  | } |
|  |  | } |
|  |  | } |

4 changes: 2 additions & 2 deletions
4 [Whisper.net.Demo/Whisper.net.Demo.csproj](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a "Whisper.net.Demo/Whisper.net.Demo.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net.Demo/Whisper.net.Demo.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a) Expand Up | @@ -15,8 +15,8 @@ |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <NoneUpdate="1min.wav"> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <NoneUpdate="kennedy.wav"> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </None> |
|  |  | <NoneUpdate="rom.wav"> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
| [Expand Down](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a) Expand Down |  |

Binary file added
BIN

+1.28 MB

[Whisper.net.Demo/kennedy.wav](#diff-c3f952966e173874bf3093d14a21f8a2b340d02cc170077498f49b1b678ea0dd "Whisper.net.Demo/kennedy.wav")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net.Demo/kennedy.wav)
Edit file

Delete file


Binary file not shown.


107 changes: 107 additions & 0 deletions
107 [Whisper.net.Tests/ProcessorE2ETests.cs](#diff-4b1eed26aabb131d31c8d055bb057ec2fe27b11cbff7f3fcf7c27de53f39e536 "Whisper.net.Tests/ProcessorE2ETests.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net.Tests/ProcessorE2ETests.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,107 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingFluentAssertions; |
|  |  | usingNUnit.Framework; |
|  |  | usingWhisper.net.Ggml; |
|  |  |  |
|  |  | namespaceWhisper.net.Tests; |
|  |  |  |
|  |  | publicclassProcessorE2ETests |
|  |  | { |
|  |  | privatestringggmlModelPath=string.Empty; |
|  |  |  |
|  |  | \[OneTimeSetUp\] |
|  |  | publicasyncTaskSetupAsync() |
|  |  | { |
|  |  | ggmlModelPath=Path.GetTempFileName(); |
|  |  | varmodel=awaitWhisperGgmlDownloader.GetGgmlModelAsync(GgmlType.Tiny); |
|  |  | usingvarfileWriter=File.OpenWrite(ggmlModelPath); |
|  |  | awaitmodel.CopyToAsync(fileWriter); |
|  |  | } |
|  |  |  |
|  |  | \[OneTimeTearDown\] |
|  |  | publicvoidTearDown() |
|  |  | { |
|  |  | File.Delete(ggmlModelPath); |
|  |  | } |
|  |  |  |
|  |  | \[Test\] |
|  |  | publicvoidTestHappyFlow() |
|  |  | { |
|  |  | varsegments=newList<SegmentData>(); |
|  |  | varencoderBegins=newList<EncoderBeginData>(); |
|  |  | usingvarfactory=WhisperFactory.FromPath(ggmlModelPath); |
|  |  | usingvarprocessor=factory.CreateBuilder() |
|  |  | .WithLanguage("en") |
|  |  | .WithEncoderBeginHandler((e)=> |
|  |  | { |
|  |  | encoderBegins.Add(e); |
|  |  | returntrue; |
|  |  | }) |
|  |  | .WithSegmentEventHandler(segments.Add) |
|  |  | .Build(); |
|  |  |  |
|  |  | usingvarfileReader=File.OpenRead("kennedy.wav"); |
|  |  | processor.Process(fileReader); |
|  |  |  |
|  |  | segments.Should().HaveCountGreaterThan(0); |
|  |  | encoderBegins.Should().HaveCount(1); |
|  |  |  |
|  |  | segments.Should().Contain(segmentData =>segmentData.Text.Contains("nation should commit")); |
|  |  | } |
|  |  |  |
|  |  | \[Test\] |
|  |  | publicasyncTaskTestHappyFlowAsync() |
|  |  | { |
|  |  | varsegments=newList<SegmentData>(); |
|  |  | varsegmentsEnumerated=newList<SegmentData>(); |
|  |  |  |
|  |  | varencoderBegins=newList<EncoderBeginData>(); |
|  |  | usingvarfactory=WhisperFactory.FromPath(ggmlModelPath); |
|  |  | usingvarprocessor=factory.CreateBuilder() |
|  |  | .WithLanguage("en") |
|  |  | .WithEncoderBeginHandler((e)=> |
|  |  | { |
|  |  | encoderBegins.Add(e); |
|  |  | returntrue; |
|  |  | }) |
|  |  | .WithSegmentEventHandler(segments.Add) |
|  |  | .Build(); |
|  |  |  |
|  |  | usingvarfileReader=File.OpenRead("kennedy.wav"); |
|  |  | awaitforeach(vardatainprocessor.ProcessAsync(fileReader)) |
|  |  | { |
|  |  | segmentsEnumerated.Add(data); |
|  |  | } |
|  |  |  |
|  |  | segmentsEnumerated.Should().BeEquivalentTo(segments); |
|  |  |  |
|  |  | segments.Should().HaveCountGreaterThan(0); |
|  |  | encoderBegins.Should().HaveCount(1); |
|  |  |  |
|  |  | segments.Should().Contain(segmentData =>segmentData.Text.Contains("nation should commit")); |
|  |  | } |
|  |  |  |
|  |  | \[Test\] |
|  |  | publicvoidTestCancelEncoder() |
|  |  | { |
|  |  | varsegments=newList<SegmentData>(); |
|  |  | varencoderBegins=newList<EncoderBeginData>(); |
|  |  | usingvarfactory=WhisperFactory.FromPath(ggmlModelPath); |
|  |  | usingvarprocessor=factory.CreateBuilder() |
|  |  | .WithLanguage("en") |
|  |  | .WithEncoderBeginHandler((e)=> |
|  |  | { |
|  |  | encoderBegins.Add(e); |
|  |  | returnfalse; |
|  |  | }) |
|  |  | .WithSegmentEventHandler(segments.Add) |
|  |  | .Build(); |
|  |  |  |
|  |  | usingvarfileReader=File.OpenRead("kennedy.wav"); |
|  |  | processor.Process(fileReader); |
|  |  |  |
|  |  | segments.Should().HaveCount(0); |
|  |  | encoderBegins.Should().HaveCount(1); |
|  |  | } |
|  |  | } |

36 changes: 36 additions & 0 deletions
36 [Whisper.net.Tests/Whisper.net.Tests.csproj](#diff-39ca855a07aa77bca3f5af89a12c8a2bdb7d54424695c26459e365c19d036ace "Whisper.net.Tests/Whisper.net.Tests.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net.Tests/Whisper.net.Tests.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,36 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk"> |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <TargetFramework>net7.0</TargetFramework> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  |  |
|  |  | <IsPackable>false</IsPackable> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="FluentAssertions"Version="6.10.0" /> |
|  |  | <PackageReferenceInclude="Microsoft.NET.Test.Sdk"Version="17.4.1" /> |
|  |  | <PackageReferenceInclude="NUnit"Version="3.13.3" /> |
|  |  | <PackageReferenceInclude="NUnit3TestAdapter"Version="4.3.1" /> |
|  |  | <PackageReferenceInclude="NUnit.Analyzers"Version="3.5.0"> |
|  |  | <PrivateAssets>all</PrivateAssets> |
|  |  | <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets> |
|  |  | </PackageReference> |
|  |  | <PackageReferenceInclude="coverlet.collector"Version="3.2.0"> |
|  |  | <PrivateAssets>all</PrivateAssets> |
|  |  | <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets> |
|  |  | </PackageReference> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <ProjectReferenceInclude="..\\Whisper.net\\Whisper.net.csproj" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <NoneUpdate="kennedy.wav"> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | </Project> |

Binary file added
BIN

+1.28 MB

[Whisper.net.Tests/kennedy.wav](#diff-22b5b5840cbe3a8519f3ee4645854486b27cd9096e4192ab7d787ab4d205a94a "Whisper.net.Tests/kennedy.wav")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net.Tests/kennedy.wav)
Edit file

Delete file


Binary file not shown.


27 changes: 27 additions & 0 deletions
27 [Whisper.net.WinX64.sln](#diff-cc6c0c6ea82d9dd4a7ccdc8aeb19ff997f924be1f974a0776d08e26d63e5f52e "Whisper.net.WinX64.sln")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net.WinX64.sln)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-cc6c0c6ea82d9dd4a7ccdc8aeb19ff997f924be1f974a0776d08e26d63e5f52e) Expand Up | @@ -7,13 +7,16 @@ Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Demo", "Whisper |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Solution Items", "Solution Items", "{2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | .editorconfig = .editorconfig |
|  |  | ..\readme.md = ..\readme.md |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net", "Whisper.net\\Whisper.net.csproj", "{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}" |
|  |  | EndProject |
|  |  | Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "whisper", "build\\win-x64\\whisper.cpp\\whisper.vcxproj", "{FE914A78-F221-36EA-9004-EA22EFD98480}" |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Tests", "Whisper.net.Tests\\Whisper.net.Tests.csproj", "{9126E922-C981-4D1E-BB4D-264C91B8B829}" |
|  |  | EndProject |
|  |  | Global |
|  |  | GlobalSection(SolutionConfigurationPlatforms) = preSolution |
|  |  | Debug\|Any CPU = Debug\|Any CPU |
| [Expand Down](#diff-cc6c0c6ea82d9dd4a7ccdc8aeb19ff997f924be1f974a0776d08e26d63e5f52e) Expand Down [Expand Up](#diff-cc6c0c6ea82d9dd4a7ccdc8aeb19ff997f924be1f974a0776d08e26d63e5f52e) Expand Up | @@ -102,6 +105,30 @@ Global |
|  |  | {FE914A78-F221-36EA-9004-EA22EFD98480}.RelWithDebInfo\|x64.Build.0 = RelWithDebInfo\|x64 |
|  |  | {FE914A78-F221-36EA-9004-EA22EFD98480}.RelWithDebInfo\|x86.ActiveCfg = RelWithDebInfo\|x64 |
|  |  | {FE914A78-F221-36EA-9004-EA22EFD98480}.RelWithDebInfo\|x86.Build.0 = RelWithDebInfo\|x64 |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | EndGlobalSection |
|  |  | GlobalSection(SolutionProperties) = preSolution |
|  |  | HideSolutionNode =FALSE |
| [Expand Down](#diff-cc6c0c6ea82d9dd4a7ccdc8aeb19ff997f924be1f974a0776d08e26d63e5f52e) Expand Down |  |

36 changes: 36 additions & 0 deletions
36 [Whisper.net.sln](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb "Whisper.net.sln")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net.sln)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Up | @@ -7,11 +7,20 @@ Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Demo", "Whisper |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Solution Items", "Solution Items", "{2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | .editorconfig = .editorconfig |
|  |  | ..\readme.md = ..\readme.md |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net", "Whisper.net\\Whisper.net.csproj", "{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}" |
|  |  | EndProject |
|  |  | Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "Whisper.net.Tests", "Whisper.net.Tests\\Whisper.net.Tests.csproj", "{333764F7-81DC-4425-AF5C-B438D973EE13}" |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "github", "github", "{5C865649-4AED-4BBF-A7CA-BD68D21EF48F}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | .github\workflows\codeball.yml = .github\workflows\codeball.yml |
|  |  | .github\workflows\dotnet.yml = .github\workflows\dotnet.yml |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Global |
|  |  | GlobalSection(SolutionConfigurationPlatforms) = preSolution |
|  |  | Debug\|Any CPU = Debug\|Any CPU |
| [Expand Down](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Down [Expand Up](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Up | @@ -76,10 +85,37 @@ Global |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | EndGlobalSection |
|  |  | GlobalSection(SolutionProperties) = preSolution |
|  |  | HideSolutionNode =FALSE |
|  |  | EndGlobalSection |
|  |  | GlobalSection(NestedProjects) = preSolution |
|  |  | {5C865649-4AED-4BBF-A7CA-BD68D21EF48F} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1} |
|  |  | EndGlobalSection |
|  |  | GlobalSection(ExtensibilityGlobals) = postSolution |
|  |  | SolutionGuid ={F5CAA926-1B7D-3A67-9130-E6EFE3E9DFD9} |
|  |  | EndGlobalSection |
| [Expand Down](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Down |  |

6 changes: 4 additions & 2 deletions
6 [Whisper.net/BeamSearchSamplingStrategyBuilder.cs](#diff-b9b068cf44a1575730efa14c575b0a91e1512b79b69d82e5cdb8f70972b03c93 "Whisper.net/BeamSearchSamplingStrategyBuilder.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/BeamSearchSamplingStrategyBuilder.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,6 @@ |
|  |  | ﻿usingWhisper.net.SamplingStrategy; |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | namespaceWhisper.net; |
|  |  |  |
| [Expand All](#diff-b9b068cf44a1575730efa14c575b0a91e1512b79b69d82e5cdb8f70972b03c93) Expand All | @@ -7,7 +9,7 @@ namespace Whisper.net; |
|  |  | /// </summary> |
|  |  | publicclassBeamSearchSamplingStrategyBuilder:IWhisperSamplingStrategyBuilder |
|  |  | { |
|  |  | privateBeamSearchSamplingStrategybeamSearchSamplingStrategy; |
|  |  | privatereadonlyBeamSearchSamplingStrategybeamSearchSamplingStrategy; |
|  |  |  |
|  |  | internalBeamSearchSamplingStrategyBuilder(WhisperProcessorBuilderwhisperProcessorBuilder,BeamSearchSamplingStrategybeamSearchSamplingStrategy) |
|  |  | { |
| [Expand Down](#diff-b9b068cf44a1575730efa14c575b0a91e1512b79b69d82e5cdb8f70972b03c93) Expand Down |  |

29 changes: 15 additions & 14 deletions
29 [Whisper.net/Ggml/GgmlType.cs](#diff-eeaecf73c44b591e6db2f74c6f76ec27e4cdfc3ad21ef38f3ebb58875657278e "Whisper.net/Ggml/GgmlType.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Ggml/GgmlType.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,16 +1,17 @@ |
|  |  | ﻿namespaceWhisper.net.Ggml |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net.Ggml; |
|  |  |  |
|  |  | publicenumGgmlType |
|  |  | { |
|  |  | publicenumGgmlType |
|  |  | { |
|  |  | Tiny, |
|  |  | TinyEn, |
|  |  | Base, |
|  |  | BaseEn, |
|  |  | Small, |
|  |  | SmallEn, |
|  |  | Medium, |
|  |  | MediumEn, |
|  |  | LargeV1, |
|  |  | Large |
|  |  | } |
|  |  | Tiny, |
|  |  | TinyEn, |
|  |  | Base, |
|  |  | BaseEn, |
|  |  | Small, |
|  |  | SmallEn, |
|  |  | Medium, |
|  |  | MediumEn, |
|  |  | LargeV1, |
|  |  | Large |
|  |  | } |

49 changes: 25 additions & 24 deletions
49 [Whisper.net/Ggml/WhisperGgmlDownloader.cs](#diff-96001bb9b01addeb5ad08fd507798f665f57c4d19e2d8d1ec127ca36fd0c63b8 "Whisper.net/Ggml/WhisperGgmlDownloader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Ggml/WhisperGgmlDownloader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,31 +1,32 @@ |
|  |  | ﻿namespaceWhisper.net.Ggml |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net.Ggml; |
|  |  |  |
|  |  | publicstaticclassWhisperGgmlDownloader |
|  |  | { |
|  |  | publicstaticclassWhisperGgmlDownloader |
|  |  | { |
|  |  | privatestaticreadonlyLazy<HttpClient>httpClient=newLazy<HttpClient>(()=>newHttpClient()); |
|  |  | privatestaticreadonlyLazy<HttpClient>httpClient=new(()=>newHttpClient()); |
|  |  |  |
|  |  | publicstaticasyncTask<Stream>GetGgmlModelAsync(GgmlTypetype) |
|  |  | publicstaticasyncTask<Stream>GetGgmlModelAsync(GgmlTypetype) |
|  |  | { |
|  |  | varurl=typeswitch |
|  |  | { |
|  |  | varurl=typeswitch |
|  |  | { |
|  |  | GgmlType.Tiny=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-tiny.bin", |
|  |  | GgmlType.TinyEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-tiny.en.bin", |
|  |  | GgmlType.Base=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-base.bin", |
|  |  | GgmlType.BaseEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-base.en.bin", |
|  |  | GgmlType.Small=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-small.bin", |
|  |  | GgmlType.SmallEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-small.en.bin", |
|  |  | GgmlType.Medium=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-medium.bin", |
|  |  | GgmlType.MediumEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-medium.en.bin", |
|  |  | GgmlType.LargeV1=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-large-v1.bin", |
|  |  | GgmlType.Large=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-large.bin", |
|  |  | \_ =>thrownewArgumentOutOfRangeException(nameof(type),type,null) |
|  |  | }; |
|  |  | GgmlType.Tiny=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-tiny.bin", |
|  |  | GgmlType.TinyEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-tiny.en.bin", |
|  |  | GgmlType.Base=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-base.bin", |
|  |  | GgmlType.BaseEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-base.en.bin", |
|  |  | GgmlType.Small=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-small.bin", |
|  |  | GgmlType.SmallEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-small.en.bin", |
|  |  | GgmlType.Medium=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-medium.bin", |
|  |  | GgmlType.MediumEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-medium.en.bin", |
|  |  | GgmlType.LargeV1=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-large-v1.bin", |
|  |  | GgmlType.Large=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-large.bin", |
|  |  | \_ =>thrownewArgumentOutOfRangeException(nameof(type),type,null) |
|  |  | }; |
|  |  |  |
|  |  | varrequest=newHttpRequestMessage(HttpMethod.Get,url); |
|  |  | varresponse=awaithttpClient.Value.SendAsync(request); |
|  |  | response.EnsureSuccessStatusCode(); |
|  |  | varrequest=newHttpRequestMessage(HttpMethod.Get,url); |
|  |  | varresponse=awaithttpClient.Value.SendAsync(request); |
|  |  | response.EnsureSuccessStatusCode(); |
|  |  |  |
|  |  | returnawaitresponse.Content.ReadAsStreamAsync(); |
|  |  | } |
|  |  | returnawaitresponse.Content.ReadAsStreamAsync(); |
|  |  | } |
|  |  | } |

4 changes: 3 additions & 1 deletion
4 [Whisper.net/GreedySamplingStrategyBuilder.cs](#diff-11de7456690a734f4809f178c80df2889a7cb5c849e6affda4b00cd6a8d2382c "Whisper.net/GreedySamplingStrategyBuilder.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/GreedySamplingStrategyBuilder.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,6 @@ |
|  |  | ﻿usingWhisper.net.SamplingStrategy; |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | namespaceWhisper.net; |
|  |  |  |
| [Expand Down](#diff-11de7456690a734f4809f178c80df2889a7cb5c849e6affda4b00cd6a8d2382c) Expand Down |  |

6 changes: 1 addition & 5 deletions
6 [Whisper.net/IWhisperSamplingStrategyBuilder.cs](#diff-7f4e6788c15c60527839919402bb79537308e47f0b93c58f16753c147ee0a249 "Whisper.net/IWhisperSamplingStrategyBuilder.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/IWhisperSamplingStrategyBuilder.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,4 @@ |
|  |  | ﻿usingSystem; |
|  |  | usingSystem.Collections.Generic; |
|  |  | usingSystem.Linq; |
|  |  | usingSystem.Text; |
|  |  | usingSystem.Threading.Tasks; |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net; |
|  |  |  |
| [Expand Down](#diff-7f4e6788c15c60527839919402bb79537308e47f0b93c58f16753c147ee0a249) Expand Down |  |

38 changes: 38 additions & 0 deletions
38 [Whisper.net/Internals/AsyncAutoResetEvent.cs](#diff-4780c4707a5c0cf4421746784dce2ddca4cbddcfff12ee8398d874e9c2efc1a0 "Whisper.net/Internals/AsyncAutoResetEvent.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/AsyncAutoResetEvent.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,38 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net.Internals; |
|  |  |  |
|  |  | internalclassAsyncAutoResetEvent |
|  |  | { |
|  |  | privatestaticreadonlyTaskCompleted=Task.CompletedTask; |
|  |  | privateTaskCompletionSource<bool>?waitTcs; |
|  |  | privateintisSignaled;// 0 for false, 1 for true |
|  |  |  |
|  |  | publicTaskWaitAsync() |
|  |  | { |
|  |  | if(Interlocked.CompareExchange(refisSignaled,0,1)==1) |
|  |  | { |
|  |  | returnCompleted; |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | vartcs=newTaskCompletionSource<bool>(); |
|  |  | varoldTcs=Interlocked.Exchange(refwaitTcs,tcs); |
|  |  | oldTcs?.TrySetCanceled(); |
|  |  | returntcs.Task; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | publicvoidSet() |
|  |  | { |
|  |  | vartoRelease=Interlocked.Exchange(refwaitTcs,null); |
|  |  | if(toRelease!=null) |
|  |  | { |
|  |  | toRelease.SetResult(true); |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | Interlocked.Exchange(refisSignaled,1); |
|  |  | } |
|  |  | } |
|  |  | } |

8 changes: 8 additions & 0 deletions
8 [Whisper.net/Internals/ModelLoader/IWhisperProcessorModelLoader.cs](#diff-c92285448a66aebcad44cd4c22cd2ab9fd44d13dd29ca260e4c36705f0a162fb "Whisper.net/Internals/ModelLoader/IWhisperProcessorModelLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/ModelLoader/IWhisperProcessorModelLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,8 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.ModelLoader; |
|  |  |  |
|  |  | internalinterfaceIWhisperProcessorModelLoader:IDisposable |
|  |  | { |
|  |  | publicIntPtrLoadNativeContext(); |
|  |  | } |

8 changes: 5 additions & 3 deletions
8 [...ader/WhisperProcessorModelBufferLoader.cs → ...ader/WhisperProcessorModelBufferLoader.cs](#diff-6f1e580d37e786b820ece2a878302efbbfa0991f4501f72f121bc186184e5fe5 "Whisper.net/ModelLoader/WhisperProcessorModelBufferLoader.cs → Whisper.net/Internals/ModelLoader/WhisperProcessorModelBufferLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/ModelLoader/WhisperProcessorModelBufferLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,9 @@ |
|  |  | ﻿usingSystem.Runtime.InteropServices; |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.ModelLoader; |
|  |  | namespaceWhisper.net.Internals.ModelLoader; |
|  |  |  |
|  |  | internalclassWhisperProcessorModelBufferLoader:IWhisperProcessorModelLoader |
|  |  | { |
| [Expand All](#diff-6f1e580d37e786b820ece2a878302efbbfa0991f4501f72f121bc186184e5fe5) Expand All | @@ -25,7 +27,7 @@ public IntPtr LoadNativeContext() |
|  |  | { |
|  |  | returnNativeMethods.whisper\_init\_from\_buffer\_x64(pinnedBuffer.AddrOfPinnedObject(),buffer.Length); |
|  |  | } |
|  |  |  |
|  |  |  |
|  |  | returnNativeMethods.whisper\_init\_from\_buffer\_x32(pinnedBuffer.AddrOfPinnedObject(),buffer.Length); |
|  |  | } |
|  |  | } |

8 changes: 5 additions & 3 deletions
8 [...Loader/WhisperProcessorModelFileLoader.cs → ...Loader/WhisperProcessorModelFileLoader.cs](#diff-3e1dad649bdb65ad3225773c49cacc52ab8606bc08303b0b6094df6b7def9803 "Whisper.net/ModelLoader/WhisperProcessorModelFileLoader.cs → Whisper.net/Internals/ModelLoader/WhisperProcessorModelFileLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/ModelLoader/WhisperProcessorModelFileLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,10 +1,12 @@ |
|  |  | ﻿usingWhisper.net.Native; |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net.ModelLoader; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.ModelLoader; |
|  |  |  |
|  |  | internalsealedclassWhisperProcessorModelFileLoader:IWhisperProcessorModelLoader |
|  |  | { |
|  |  | privatestringpathModel; |
|  |  | privatereadonlystringpathModel; |
|  |  |  |
|  |  | publicWhisperProcessorModelFileLoader(stringpathModel) |
|  |  | { |
| [Expand Down](#diff-3e1dad649bdb65ad3225773c49cacc52ab8606bc08303b0b6094df6b7def9803) Expand Down |  |

36 changes: 23 additions & 13 deletions
36 [Whisper.net/Native/Data.cs → Whisper.net/Internals/Native/Data.cs](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958 "Whisper.net/Native/Data.cs → Whisper.net/Internals/Native/Data.cs")

100755 → 100644


Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/Native/Data.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,6 @@ |
|  |  | ﻿usingSystem.Runtime.InteropServices; |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.Native; |
|  |  |  |
| [Expand All](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand All | @@ -19,17 +21,19 @@ internal struct WhisperParamGreedy |
|  |  | internalstructWhisperParamBeamSearch |
|  |  | { |
|  |  | publicintBeamSize; |
|  |  |  |
|  |  |  |
|  |  | // Note: not implemented, ref: https://arxiv.org/pdf/2204.05424.pdf |
|  |  | publicfloatPatience; |
|  |  | } |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl)\] |
|  |  | internaldelegatevoidWhisperNewSegmentCallback(IntPtrctx,intn\_new,IntPtruser\_data); |
|  |  | internaldelegatevoidWhisperNewSegmentCallback(IntPtrctx,IntPtrstate,intn\_new,IntPtruser\_data); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl)\] |
|  |  | internaldelegateboolWhisperEncoderBeginCallback(IntPtrctx,IntPtruser\_data); |
|  |  | internaldelegateboolWhisperEncoderBeginCallback(IntPtrctx,IntPtrstate,IntPtruser\_data); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl)\] |
|  |  | internaldelegateboolWhisperLogitsFilterCallback(IntPtrctx,IntPtrtokens,inttokens\_count,IntPtrlogits,IntPtruser\_data); |
|  |  |  |
|  |  | \[StructLayout(LayoutKind.Sequential)\] |
|  |  | internalstructWhisperFullParams |
| [Expand All](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand All | @@ -46,18 +50,18 @@ internal struct WhisperFullParams |
|  |  |  |
|  |  | // audio duration to process in ms |
|  |  | publicintDurationMs; |
|  |  |  |
|  |  |  |
|  |  | publicbyteTranslate; |
|  |  |  |
|  |  |  |
|  |  | // Do not use past transcription (if any) as prompt for the decoder |
|  |  | publicbyteNoContext; |
|  |  |  |
|  |  |  |
|  |  | //force single segment output (useful for streaming) |
|  |  | publicbyteSingleSegment; |
|  |  |  |
|  |  |  |
|  |  | // print special tokens (e.g. <SOT>, <EOT>, <BEG>, etc.) |
|  |  | publicbytePrintSpecialTokens; |
|  |  |  |
|  |  |  |
|  |  | //print progress information |
|  |  | publicbytePrintProgress; |
|  |  |  |
| [Expand All](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand All | @@ -67,7 +71,6 @@ internal struct WhisperFullParams |
|  |  | // print timestamps for each text segment when printing real-time |
|  |  | publicbytePrintTimestamps; |
|  |  |  |
|  |  |  |
|  |  | // \[EXPERIMENTAL\] token-level timestamps |
|  |  | // enable token-level timestamps |
|  |  | publicbyteUseTokenTimestamps; |
| [Expand Down](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand Down [Expand Up](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand Up | @@ -106,6 +109,9 @@ internal struct WhisperFullParams |
|  |  | // common decoding parameters: |
|  |  | publicbyteSuppressBlank; |
|  |  |  |
|  |  | // suppress non-speech tokens (e.g. \`,\`, \`.\`, etc.) |
|  |  | publicbyteSupressNonSpeechTokens; |
|  |  |  |
|  |  | // common decoding parameters: |
|  |  | // ref: https://github.com/openai/whisper/blob/f82bc59f5ea234d4b97fb2860842ed38519f7e65/whisper/decoding.py#L89 |
|  |  | publicfloatTemperature; |
| [Expand All](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand All | @@ -130,17 +136,21 @@ internal struct WhisperFullParams |
|  |  | publicWhisperParamGreedyWhisperParamGreedy; |
|  |  |  |
|  |  | publicWhisperParamBeamSearchWhisperParamBeamSearch; |
|  |  |  |
|  |  |  |
|  |  | publicIntPtrOnNewSegment; |
|  |  |  |
|  |  | publicIntPtrOnNewSegmentUserData; |
|  |  |  |
|  |  |  |
|  |  | publicIntPtrOnEncoderBegin; |
|  |  |  |
|  |  | publicIntPtrOnEncoderBeginUserData; |
|  |  |  |
|  |  | publicIntPtrLogitsFilterCallback; |
|  |  |  |
|  |  | publicIntPtrLogitsFilterCallbackData; |
|  |  | } |
|  |  |  |
|  |  | \[StructLayout(LayoutKind.Sequential)\] |
|  |  | internalstructWhisperContext |
|  |  | { |
|  |  | } |
|  |  | } |

8 changes: 8 additions & 0 deletions
8 [Whisper.net/Internals/Native/LibraryLoader/ILibraryLoader.cs](#diff-49068d938612bd404822c85e4e17df31c958e0687ae09a90f2d87ea6b65c76f3 "Whisper.net/Internals/Native/LibraryLoader/ILibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/Native/LibraryLoader/ILibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,8 @@ |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net.Native.LibraryLoader; |
|  |  |  |
|  |  | internalinterfaceILibraryLoader |
|  |  | { |
|  |  | IntPtrOpenLibrary(stringfilename,intflags); |
|  |  | } |

26 changes: 26 additions & 0 deletions
26 [Whisper.net/Internals/Native/LibraryLoader/LinuxLibraryLoader.cs](#diff-ef95ffd63111b9e863b61940bbf30e377ef76466c12ad239c55874ca77a86c5b "Whisper.net/Internals/Native/LibraryLoader/LinuxLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/Native/LibraryLoader/LinuxLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,26 @@ |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.Native.LibraryLoader; |
|  |  |  |
|  |  | internalclassLinuxLibraryLoader:ILibraryLoader |
|  |  | { |
|  |  | \[DllImport("libdl.so",ExactSpelling=true,CharSet=CharSet.Auto,EntryPoint="dlopen")\] |
|  |  | publicstaticexternIntPtrNativeOpenLibraryLibdl(stringfilename,intflags); |
|  |  |  |
|  |  | \[DllImport("libdl.so.2",ExactSpelling=true,CharSet=CharSet.Auto,EntryPoint="dlopen")\] |
|  |  | publicstaticexternIntPtrNativeOpenLibraryLibdl2(stringfilename,intflags); |
|  |  |  |
|  |  | publicIntPtrOpenLibrary(stringfilename,intflags) |
|  |  | { |
|  |  | try |
|  |  | { |
|  |  | returnNativeOpenLibraryLibdl2(filename,flags); |
|  |  | } |
|  |  | catch(DllNotFoundException) |
|  |  | { |
|  |  | returnNativeOpenLibraryLibdl(filename,flags); |
|  |  | } |
|  |  | } |
|  |  | } |

16 changes: 16 additions & 0 deletions
16 [Whisper.net/Internals/Native/LibraryLoader/MacOsLibraryLoader.cs](#diff-1974632989f9f09757ea2a667dfdaca514377a1ca069857ee04ae7acc0335ce6 "Whisper.net/Internals/Native/LibraryLoader/MacOsLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/Native/LibraryLoader/MacOsLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,16 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.Native.LibraryLoader; |
|  |  |  |
|  |  | internalclassMacOsLibraryLoader:ILibraryLoader |
|  |  | { |
|  |  | \[DllImport("libdl.dylib",ExactSpelling=true,CharSet=CharSet.Auto,EntryPoint="dlopen")\] |
|  |  | publicstaticexternIntPtrNativeOpenLibraryLibdl(stringfilename,intflags); |
|  |  |  |
|  |  | publicIntPtrOpenLibrary(stringfilename,intflags) |
|  |  | { |
|  |  | returnNativeOpenLibraryLibdl(filename,flags); |
|  |  | } |
|  |  | } |

16 changes: 16 additions & 0 deletions
16 [Whisper.net/Internals/Native/LibraryLoader/WindowsLibraryLoader.cs](#diff-339d9ccc7049c04f94d7c77706ae7d9de21450be84e6c4c9493696d5276c3fa2 "Whisper.net/Internals/Native/LibraryLoader/WindowsLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/Native/LibraryLoader/WindowsLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,16 @@ |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.Native.LibraryLoader; |
|  |  |  |
|  |  | internalclassWindowsLibraryLoader:ILibraryLoader |
|  |  | { |
|  |  | publicIntPtrOpenLibrary(stringfilename,intflags) |
|  |  | { |
|  |  | returnLoadLibrary(filename); |
|  |  | } |
|  |  |  |
|  |  | \[DllImport("kernel32",SetLastError=true,CharSet=CharSet.Auto)\] |
|  |  | privatestaticexternIntPtrLoadLibrary(\[MarshalAs(UnmanagedType.LPTStr)\]stringlpFileName); |
|  |  | } |

51 changes: 51 additions & 0 deletions
51 [Whisper.net/Internals/Native/NativeLibraryLoader.cs](#diff-e6f27268cc1a6f113e5bdd042772894be88d5fc716a00cb81eae3226f4ebb8b1 "Whisper.net/Internals/Native/NativeLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/Native/NativeLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,51 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native.LibraryLoader; |
|  |  |  |
|  |  | namespaceWhisper.net.Native; |
|  |  |  |
|  |  | internalstaticclassNativeLibraryLoader |
|  |  | { |
|  |  | internalstaticboolLoadNativeLibrary() |
|  |  | { |
|  |  | vararchitecture=RuntimeInformation.OSArchitectureswitch |
|  |  | { |
|  |  | Architecture.X64=>"x64", |
|  |  | Architecture.X86=>"x86", |
|  |  | Architecture.Arm=>"arm", |
|  |  | Architecture.Arm64=>"arm64", |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Unsupported OS platform, architecture: {RuntimeInformation.OSArchitecture}") |
|  |  | }; |
|  |  |  |
|  |  | var(platform,extension)=Environment.OSVersion.Platformswitch |
|  |  | { |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.Windows)=>("win","dll"), |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.Linux)=>("linux","so"), |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.OSX)=>("osx","dylib"), |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Unsupported OS platform, architecture: {RuntimeInformation.OSArchitecture}") |
|  |  | }; |
|  |  |  |
|  |  | varassemblySearchPath=string.IsNullOrEmpty(AppDomain.CurrentDomain.RelativeSearchPath) |
|  |  | ?Path.GetDirectoryName(typeof(NativeMethods).Assembly.Location)! |
|  |  | :AppDomain.CurrentDomain.RelativeSearchPath; |
|  |  |  |
|  |  | varpath=Path.Combine(assemblySearchPath,"runtimes",$"{platform}-{architecture}",$"whisper.{extension}"); |
|  |  | if(!File.Exists(path)) |
|  |  | { |
|  |  | thrownewFileNotFoundException($"Native Library not found in path {path}. Probably it is not supported yet."); |
|  |  | } |
|  |  |  |
|  |  | ILibraryLoaderlibraryLoader=platformswitch |
|  |  | { |
|  |  | "win"=>newWindowsLibraryLoader(), |
|  |  | "osx"=>newMacOsLibraryLoader(), |
|  |  | "linux"=>newLinuxLibraryLoader(), |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Currently {platform} platform is not supported") |
|  |  | }; |
|  |  |  |
|  |  | // open with rtls lazy flag |
|  |  | varresult=libraryLoader.OpenLibrary(path,0x00001); |
|  |  | returnresult!=IntPtr.Zero; |
|  |  | } |
|  |  | } |

77 changes: 77 additions & 0 deletions
77 [Whisper.net/Internals/Native/NativeMethods.cs](#diff-38a73c09c4cf822531956cdbffab7076dc7565a77cbc828fcfae6d5a319c5640 "Whisper.net/Internals/Native/NativeMethods.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Internals/Native/NativeMethods.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,77 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.Native; |
|  |  |  |
|  |  | internalstaticclassNativeMethods |
|  |  | { |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_file(stringpath); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,EntryPoint="whisper\_init\_from\_buffer",CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_x64(IntPtrbuffer,longbuffer\_size); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,EntryPoint="whisper\_init\_from\_buffer",CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_x32(IntPtrbuffer,intbuffer\_size); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternWhisperFullParamswhisper\_full\_default\_params(WhisperSamplingStrategystrategy); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full(IntPtrcontext,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_with\_state(IntPtrcontext,IntPtrstate,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_parallel(IntPtrcontext,WhisperFullParamsparameters,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_segments\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t0\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t1\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_get\_segment\_text\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_tokens\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternfloatwhisper\_full\_get\_token\_p\_from\_state(IntPtrcontext,IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_tokenize(IntPtrcontext,IntPtrtext,IntPtrtokens,intnMaxTokens); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_max\_id(); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_auto\_detect\_with\_state(IntPtrcontext,IntPtrstate,intoffset\_ms,intn\_threads,IntPtrlang\_probs); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_pcm\_to\_mel\_with\_state(IntPtrcontext,IntPtrstate,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_pcm\_to\_mel\_phase\_vocoder\_with\_state(IntPtrcontext,IntPtrstate,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_lang\_str(intlang\_id); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_lang\_id(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_state(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_state(IntPtrstate); |
|  |  | } |

6 changes: 0 additions & 6 deletions
6 [Whisper.net/ModelLoader/IWhisperProcessorModelLoader.cs](#diff-5252ad3d7393f583c6ba43e1dad2f1149fa2ddec7deddd59daa1a12ffd04507e "Whisper.net/ModelLoader/IWhisperProcessorModelLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/bed106a72afde5365ae4e88c12d213164c83a955/Whisper.net/ModelLoader/IWhisperProcessorModelLoader.cs)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

6 changes: 0 additions & 6 deletions
6 [Whisper.net/Native/LibraryLoader/ILibraryLoader.cs](#diff-19c5bd66cc35bcdfa717177a3ae86ec99a2ab7820194868134fe99b7dc77d4f3 "Whisper.net/Native/LibraryLoader/ILibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/bed106a72afde5365ae4e88c12d213164c83a955/Whisper.net/Native/LibraryLoader/ILibraryLoader.cs)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

24 changes: 0 additions & 24 deletions
24 [Whisper.net/Native/LibraryLoader/PosixLibraryLoader.cs](#diff-58d25707784b69ef3376eaf63b62b24d4ba5b3d7922acc192dcd551fb4f7cd50 "Whisper.net/Native/LibraryLoader/PosixLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/bed106a72afde5365ae4e88c12d213164c83a955/Whisper.net/Native/LibraryLoader/PosixLibraryLoader.cs)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

15 changes: 0 additions & 15 deletions
15 [Whisper.net/Native/LibraryLoader/WindowsLibraryLoader.cs](#diff-986892f5777227e25b088702f7cd23f18b477401a7a4db9974d5d6f6bea94e5f "Whisper.net/Native/LibraryLoader/WindowsLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/bed106a72afde5365ae4e88c12d213164c83a955/Whisper.net/Native/LibraryLoader/WindowsLibraryLoader.cs)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

51 changes: 0 additions & 51 deletions
51 [Whisper.net/Native/NativeLibraryLoader.cs](#diff-299cf02945870f933c386aafa29a7d8f9ea2be54e7cfbf010d181113ac954831 "Whisper.net/Native/NativeLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/bed106a72afde5365ae4e88c12d213164c83a955/Whisper.net/Native/NativeLibraryLoader.cs)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

58 changes: 0 additions & 58 deletions
58 [Whisper.net/Native/NativeMethods.cs](#diff-e9c9166c05959ed2714592bd8709b71e077afe80751ca5be9f76bf4582aba4fe "Whisper.net/Native/NativeMethods.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/bed106a72afde5365ae4e88c12d213164c83a955/Whisper.net/Native/NativeMethods.cs)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

6 changes: 4 additions & 2 deletions
6 [Whisper.net/SamplingStrategy/BeamSearchSamplingStrategy.cs](#diff-cc09e1f074b36df96e9d16d8967dd6058762dad95f9af9fce9b2026216821a58 "Whisper.net/SamplingStrategy/BeamSearchSamplingStrategy.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/SamplingStrategy/BeamSearchSamplingStrategy.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,10 @@ |
|  |  | ﻿usingWhisper.net.Native; |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | internalclassBeamSearchSamplingStrategy:IWhisperSamplingStrategy |
|  |  | internalclassBeamSearchSamplingStrategy:IWhisperSamplingStrategy |
|  |  | { |
|  |  | publicWhisperSamplingStrategyGetNativeStrategy() |
|  |  | { |
| [Expand Down](#diff-cc09e1f074b36df96e9d16d8967dd6058762dad95f9af9fce9b2026216821a58) Expand Down |  |

4 changes: 3 additions & 1 deletion
4 [Whisper.net/SamplingStrategy/GreedySamplingStrategy.cs](#diff-f26bf9ff05d83ebfe80767b90e1388ce70ec37674737f14b260e71b87f50ee98 "Whisper.net/SamplingStrategy/GreedySamplingStrategy.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/SamplingStrategy/GreedySamplingStrategy.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,6 @@ |
|  |  | ﻿usingWhisper.net.Native; |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.SamplingStrategy; |
|  |  |  |
| [Expand Down](#diff-f26bf9ff05d83ebfe80767b90e1388ce70ec37674737f14b260e71b87f50ee98) Expand Down |  |

4 changes: 3 additions & 1 deletion
4 [Whisper.net/SamplingStrategy/IWhisperSamplingStrategy.cs](#diff-33a6f1c5112ade9bc04be3ed94320627578a0c25dd0444ef3055171d509a7c69 "Whisper.net/SamplingStrategy/IWhisperSamplingStrategy.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/SamplingStrategy/IWhisperSamplingStrategy.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,6 @@ |
|  |  | ﻿usingWhisper.net.Native; |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.SamplingStrategy; |
|  |  |  |
| [Expand Down](#diff-33a6f1c5112ade9bc04be3ed94320627578a0c25dd0444ef3055171d509a7c69) Expand Down |  |

4 changes: 3 additions & 1 deletion
4 [Whisper.net/Wave/WaveExceptions.cs](#diff-246504253bac98d6cc1e9e0a275633efd5eec427dabb9cada86265aebacdf5ec "Whisper.net/Wave/WaveExceptions.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Wave/WaveExceptions.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,6 @@ |
|  |  | ﻿namespaceWhisper.net.Wave; |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net.Wave; |
|  |  |  |
|  |  | publicclassCorruptedWaveException:Exception |
|  |  | { |
| [Expand Down](#diff-246504253bac98d6cc1e9e0a275633efd5eec427dabb9cada86265aebacdf5ec) Expand Down |  |

329 changes: 256 additions & 73 deletions
329 [Whisper.net/Wave/WaveParser.cs](#diff-7d672ed0d352a5333188c670a7ad98b9721a951fdf5fe73dee5ed922830ad5de "Whisper.net/Wave/WaveParser.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Wave/WaveParser.cs)
Edit file

Delete file


Load diff

Large diffs are not rendered by default.


Oops, something went wrong.
Retry

39 changes: 34 additions & 5 deletions
39 [Whisper.net/Whisper.net.csproj](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8 "Whisper.net/Whisper.net.csproj")

100644 → 100755


Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/Whisper.net.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,11 +1,11 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk"> |
|  |  | <ProjectSdk="Microsoft.NET.Sdk"> |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <TargetFrameworks>netstandard2.0</TargetFrameworks> |
|  |  | <TargetFrameworks>netstandard2.0;netstandard2.1</TargetFrameworks> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <LangVersion>10</LangVersion> |
|  |  | <Version>1.2.0</Version> |
|  |  | <Version>1.2.1</Version> |
|  |  | <Authors>Sandro Hanea</Authors> |
|  |  | <Description>Cross-platform dotnet bindings for Whisper.</Description> |
|  |  | <PackageProjectUrl>https://github.com/sandrohanea/whisper.net</PackageProjectUrl> |
| [Expand All](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand All | @@ -17,8 +17,12 @@ |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <NoneInclude="..\\LICENSE"Pack="true"PackagePath=""/> |
|  |  | <NoneInclude="..\\readme.md"Pack="true"PackagePath=""/> |
|  |  | <NoneInclude="..\\LICENSE"Pack="true"PackagePath="" /> |
|  |  | <NoneInclude="..\\readme.md"Pack="true"PackagePath="" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroupCondition="'$(TargetFramework)' == 'netstandard2.0'"> |
|  |  | <PackageReferenceInclude="Microsoft.Bcl.AsyncInterfaces"Version="7.0.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand All](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand All | @@ -27,16 +31,41 @@ |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | <ContentInclude="runtimes\\linux-arm\\whisper.so"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | <ContentInclude="runtimes\\linux-arm64\\whisper.so"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | <ContentInclude="runtimes\\osx-x64\\whisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | <ContentInclude="runtimes\\osx-arm64\\whisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | <ContentInclude="runtimes\\win-x64\\whisper.dll"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | <ContentInclude="runtimes\\win-x86\\whisper.dll"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | <ContentInclude="runtimes\\win-arm64\\whisper.dll"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | </Project> |

100 changes: 100 additions & 0 deletions
100 [Whisper.net/WhisperFactory.cs](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea "Whisper.net/WhisperFactory.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/WhisperFactory.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,100 @@ |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.Internals.ModelLoader; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net; |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// A factory for creating <seealso cref="WhisperProcessorBuilder"/> used to initialize the process. |
|  |  | /// </summary> |
|  |  | /// <remarks> |
|  |  | /// The factory is loading the model and it is reusing it across all the processors. |
|  |  | /// </remarks> |
|  |  | publicsealedclassWhisperFactory:IDisposable |
|  |  | { |
|  |  | privatereadonlyIWhisperProcessorModelLoaderloader; |
|  |  | privatereadonlyLazy<IntPtr>contextLazy; |
|  |  | privateboolwasDisposed=false; |
|  |  |  |
|  |  | privatestaticreadonlyLazy<bool>libraryLoaded=new(()=> |
|  |  | { |
|  |  | returnNativeLibraryLoader.LoadNativeLibrary(); |
|  |  | },true); |
|  |  |  |
|  |  | privateWhisperFactory(IWhisperProcessorModelLoaderloader,booldelayInit) |
|  |  | { |
|  |  | if(!libraryLoaded.Value) |
|  |  | { |
|  |  | thrownewException("Failed to load native whisper library."); |
|  |  | } |
|  |  |  |
|  |  | this.loader=loader; |
|  |  | if(!delayInit) |
|  |  | { |
|  |  | varnativeContext=loader.LoadNativeContext(); |
|  |  | contextLazy=newLazy<IntPtr>(()=>nativeContext); |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | contextLazy=newLazy<IntPtr>(()=>loader.LoadNativeContext(),isThreadSafe:false); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Creates a factory that uses the ggml model from a path in order to create <seealso cref="WhisperProcessorBuilder"/>. |
|  |  | /// </summary> |
|  |  | /// <param name="path">The path to the model.</param> |
|  |  | /// <param name="delayInitialization">A value indicating if the model should be loaded right away or during the first <see cref="CreateBuilder"/> call.</param> |
|  |  | /// <returns>An instance to the same builder.</returns> |
|  |  | /// <remarks> |
|  |  | /// If you don't know where to find a ggml model, you can use <seealso cref="Ggml.WhisperGgmlDownloader"/> which is downloading a model from huggingface.co. |
|  |  | /// </remarks> |
|  |  | publicstaticWhisperFactoryFromPath(stringpath,booldelayInitialization=false) |
|  |  | { |
|  |  | returnnewWhisperFactory(newWhisperProcessorModelFileLoader(path),delayInitialization); |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Creates a factory that uses the ggml model from a buffer in order to create <seealso cref="WhisperProcessorBuilder"/>. |
|  |  | /// </summary> |
|  |  | /// <param name="buffer">The buffer with the model.</param> |
|  |  | /// <param name="delayInitialization">A value indicating if the model should be loaded right away or during the first <see cref="CreateBuilder"/> call.</param> |
|  |  | /// <returns>An instance to the same builder.</returns> |
|  |  | /// <remarks> |
|  |  | /// If you don't know where to find a ggml model, you can use <seealso cref="Ggml.WhisperGgmlDownloader"/> which is downloading a model from huggingface.co. |
|  |  | /// </remarks> |
|  |  | publicstaticWhisperFactoryFromBuffer(byte\[\]buffer,booldelayInitialization=false) |
|  |  | { |
|  |  | returnnewWhisperFactory(newWhisperProcessorModelBufferLoader(buffer),delayInitialization); |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Creates a builder that can be used to initialize the whisper processor. |
|  |  | /// </summary> |
|  |  | /// <returns>An instance to a new builder.</returns> |
|  |  | /// <exception cref="ObjectDisposedException">Throws if the factory was already disposed.</exception> |
|  |  | publicWhisperProcessorBuilderCreateBuilder() |
|  |  | { |
|  |  | if(wasDisposed) |
|  |  | { |
|  |  | thrownewObjectDisposedException(nameof(WhisperFactory)); |
|  |  | } |
|  |  |  |
|  |  | returnnewWhisperProcessorBuilder(contextLazy.Value); |
|  |  | } |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  | if(wasDisposed) |
|  |  | { |
|  |  | return; |
|  |  | } |
|  |  | if(contextLazy.IsValueCreated&&contextLazy.Value!=IntPtr.Zero) |
|  |  | { |
|  |  | NativeMethods.whisper\_free(contextLazy.Value); |
|  |  | } |
|  |  | loader.Dispose(); |
|  |  | wasDisposed=true; |
|  |  | } |
|  |  | } |

639 changes: 386 additions & 253 deletions
639 [Whisper.net/WhisperProcessor.cs](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050 "Whisper.net/WhisperProcessor.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/WhisperProcessor.cs)
Edit file

Delete file


Load diff

Large diffs are not rendered by default.


Oops, something went wrong.
Retry

1,019 changes: 489 additions & 530 deletions
1,019 [Whisper.net/WhisperProcessorBuilder.cs](#diff-a0a232715f7053af60990efeed3b1a9e106ca91754c45b922ec12e1e6aa551ab "Whisper.net/WhisperProcessorBuilder.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/WhisperProcessorBuilder.cs)
Edit file

Delete file


Load diff

Large diffs are not rendered by default.


Oops, something went wrong.
Retry

62 changes: 50 additions & 12 deletions
62 [Whisper.net/WhisperProcessorEvents.cs](#diff-8d962f571b86e84685aea84f551bac0da3cc9b3d25c1636af3f750e2961ed72a "Whisper.net/WhisperProcessorEvents.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/WhisperProcessorEvents.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,26 +1,64 @@ |
|  |  | ﻿namespaceWhisper.net; |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | publicdelegatevoidOnSegmentEventHandler(objectsender,OnSegmentEventArgse); |
|  |  | namespaceWhisper.net; |
|  |  |  |
|  |  | publicdelegatevoidOnEncoderBeginEventHandler(objectsender,OnEncoderBeginEventArgse); |
|  |  | publicdelegatevoidOnSegmentEventHandler(SegmentDatae); |
|  |  |  |
|  |  | publicclassOnEncoderBeginEventArgs:EventArgs |
|  |  | publicdelegateboolOnEncoderBeginEventHandler(EncoderBeginDatae); |
|  |  |  |
|  |  | publicclassEncoderBeginData |
|  |  | { |
|  |  |  |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | publicclassOnSegmentEventArgs:EventArgs |
|  |  | publicclassSegmentData |
|  |  | { |
|  |  | publicOnSegmentEventArgs(string?segment,TimeSpanstart,TimeSpanend) |
|  |  | publicSegmentData(stringtext,TimeSpanstart,TimeSpanend,floatminProbability,floatmaxProbability,floatprobability) |
|  |  | { |
|  |  | Segment=segment; |
|  |  | Text=text; |
|  |  | Start=start; |
|  |  | End=end; |
|  |  | MinProbability=minProbability; |
|  |  | MaxProbability=maxProbability; |
|  |  | Probability=probability; |
|  |  | } |
|  |  |  |
|  |  | publicstring?Segment{get;} |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Gets the text of the segment. |
|  |  | /// </summary> |
|  |  | publicstringText{get;} |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Gets the time when the segment started. |
|  |  | /// </summary> |
|  |  | publicTimeSpanStart{get;} |
|  |  |  |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Gets the time when the segment ended. |
|  |  | /// </summary> |
|  |  | publicTimeSpanEnd{get;} |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Gets the minimum probability found in any of the tokens. |
|  |  | /// </summary> |
|  |  | /// <remarks> |
|  |  | /// The possible values are from 0 to 1 |
|  |  | /// </remarks> |
|  |  | publicfloatMinProbability{get;} |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Gets the maximum probability found in any of the tokens. |
|  |  | /// </summary> |
|  |  | /// <remarks> |
|  |  | /// The possible values are from 0 to 1 |
|  |  | /// </remarks> |
|  |  | publicfloatMaxProbability{get;} |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Gets the average probability of the segment. |
|  |  | /// </summary> |
|  |  | /// <remarks> |
|  |  | /// The possible values are from 0 to 1 |
|  |  | /// </remarks> |
|  |  | publicfloatProbability{get;} |
|  |  | } |

10 changes: 6 additions & 4 deletions
10 [Whisper.net/WhisperProcessorOptions.cs](#diff-5caafefd7f3259443d330cd7cf75203c696a3d4c0c794619770b6c56f720d3ac "Whisper.net/WhisperProcessorOptions.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/WhisperProcessorOptions.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,12 +1,14 @@ |
|  |  | ﻿usingWhisper.net.ModelLoader; |
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | namespaceWhisper.net; |
|  |  |  |
|  |  | internalsealedclassWhisperProcessorOptions |
|  |  | { |
|  |  | publicIWhisperSamplingStrategySamplingStrategy{get;set;}=newGreedySamplingStrategy(); |
|  |  | publicIWhisperProcessorModelLoader?ModelLoader{get;set;} |
|  |  |  |
|  |  | publicIntPtrContextHandle{get;set;} |
|  |  |  |
|  |  | publicint?Threads{get;set;} |
|  |  |  |
| [Expand All](#diff-5caafefd7f3259443d330cd7cf75203c696a3d4c0c794619770b6c56f720d3ac) Expand All | @@ -29,7 +31,7 @@ internal sealed class WhisperProcessorOptions |
|  |  | publicbool?PrintResults{get;set;} |
|  |  |  |
|  |  | publicbool?PrintTimestamps{get;set;} |
|  |  |  |
|  |  |  |
|  |  | publicbool?UseTokenTimestamps{get;set;} |
|  |  |  |
|  |  | publicfloat?TokenTimestampsThreshold{get;set;} |
| [Expand Down](#diff-5caafefd7f3259443d330cd7cf75203c696a3d4c0c794619770b6c56f720d3ac) Expand Down [Expand Up](#diff-5caafefd7f3259443d330cd7cf75203c696a3d4c0c794619770b6c56f720d3ac) Expand Up | @@ -64,7 +66,7 @@ internal sealed class WhisperProcessorOptions |
|  |  | publicfloat?LogProbThreshold{get;set;} |
|  |  |  |
|  |  | publicfloat?NoSpeechThreshold{get;set;} |
|  |  |  |
|  |  |  |
|  |  | publicList<OnSegmentEventHandler>OnSegmentEventHandlers{get;set;}=new(); |
|  |  |  |
|  |  | publicList<OnEncoderBeginEventHandler>OnEncoderBeginEventHandlers{get;set;}=new(); |
| [Expand Down](#diff-5caafefd7f3259443d330cd7cf75203c696a3d4c0c794619770b6c56f720d3ac) Expand Down |  |

Binary file added
BIN

+363 KB

[Whisper.net/runtimes/linux-arm/whisper.so](#diff-0e2d744803577231795c9387e115e9a4db71fbf37d14b568d4d9d59bb1a2f8b2 "Whisper.net/runtimes/linux-arm/whisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/runtimes/linux-arm/whisper.so)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+497 KB

[Whisper.net/runtimes/linux-arm64/whisper.so](#diff-89540082a59704d8913df7c20025d6907d19223203e3a078b2812fdd7493e33e "Whisper.net/runtimes/linux-arm64/whisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/runtimes/linux-arm64/whisper.so)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

 -29.4 KB

(95%)
[Whisper.net/runtimes/linux-x64/whisper.so](#diff-803bf18fac37c2bc6f68209ddf47bdac80ddb43bfac75715927ac80951df5e68 "Whisper.net/runtimes/linux-x64/whisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/runtimes/linux-x64/whisper.so)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+384 KB

[Whisper.net/runtimes/osx-arm64/whisper.dylib](#diff-e91b471f7c5794b3d6c7667a6a63c6086e61f827ae8229c16aa441f6a4b577ec "Whisper.net/runtimes/osx-arm64/whisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/runtimes/osx-arm64/whisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

 -18.9 KB

(96%)
[Whisper.net/runtimes/osx-x64/whisper.dylib](#diff-7b6d26989b65246741714c212574f68c1f272482112d53dec0b06061d90b745a "Whisper.net/runtimes/osx-x64/whisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/runtimes/osx-x64/whisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+195 KB

[Whisper.net/runtimes/win-arm/whisper.dll](#diff-25e1e37f87534eb564270182d69143f98d4a6081d5b7ef7dd854d8c2f9b145e5 "Whisper.net/runtimes/win-arm/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/runtimes/win-arm/whisper.dll)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+288 KB

[Whisper.net/runtimes/win-arm64/whisper.dll](#diff-4259035e758d4a43721f3c89fe7cdbf9b5f5504502e07d6f59b73feed335cef0 "Whisper.net/runtimes/win-arm64/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/runtimes/win-arm64/whisper.dll)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

 -4 KB

(99%)
[Whisper.net/runtimes/win-x64/whisper.dll](#diff-ddfe979d066198249ee8052deb2c13f568802a12011600636775110e3c9c2487 "Whisper.net/runtimes/win-x64/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/runtimes/win-x64/whisper.dll)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+238 KB

[Whisper.net/runtimes/win-x86/whisper.dll](#diff-ce090350b8ecb5fbe04f395ced31c4afc8e08c5f60a769f6985e01b05e17cbc0 "Whisper.net/runtimes/win-x86/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/Whisper.net/runtimes/win-x86/whisper.dll)
Edit file

Delete file


Binary file not shown.


19 changes: 17 additions & 2 deletions
19 [readme.md](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15 "readme.md")

Show comments


[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/readme.md)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand Up | @@ -13,7 +13,7 @@ To install Whisper.net, run the following command in the \[Package Manager Consol |\
|  |  | or simply add a package reference in your csproj: |\
|  |  |  |\
|  |  | \`\`\` |\
|  |  | <PackageReference Include="Whisper.net" Version="1.2.0" /> |\
|  |  | <PackageReference Include="Whisper.net" Version="1.2.1" /> |\
|  |  | \`\`\` |\
|  |  |  |\
|  |  | \## Versioning |\
| [Expand Down](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand Down [Expand Up](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand Up | @@ -46,7 +46,9 @@ Also, for easier integration Whisper.net provides a Downloader which is using ht |\
|  |  |  |\
|  |  | \`\`\`csharp |\
|  |  |  |\
|  |  | usingvarprocessor=WhisperProcessorBuilder.Create() |\
|  |  | usingvarwhisperFactory=WhisperFactory.FromPath("ggml-base.bin"); |\
|  |  |  |\
|  |  | usingvarprocessor=whisperFactory.CreateBuilder() |\
|  |  | .WithSegmentEventHandler(OnNewSegment) |\
|  |  | .WithFileModel("ggml-base.bin") |\
|  |  | .WithTranslate() |\
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -70,3 +72,16 @@ You can find the documentation and code samples here: \[https://github.com/sandro |\
|  |  |  |\
|  |  | MIT Licence |\
|  |  | \[https://github.com/sandrohanea/whisper.net/blob/main/LICENSE\](https://github.com/sandrohanea/whisper.net/blob/main/LICENSE) |\
|  |  |  |\
|  |  | \## Supported platforms |\
|  |  |  |\
|  |  | Whisper.net is supported on the following platforms: |\
|  |  | - Windows x86 |\
|  |  | - Windows x64 |\
|  |  | - Windows ARM64 |\
|  |  | - Windows ARM |\
|  |  | - Linux x64 |\
|  |  | - Linux ARM64 |\
|  |  | - Linux ARM |\
|  |  | - macOS x64 |\
|  |  | - macOS ARM64 (Apple Silicon) |\
\
86 changes: 86 additions & 0 deletions\
86 [scripts/build-linux.ps1](#diff-14b5ec56e5714094a3b90128ede0b97443cea3882e21a3bacc1b1087210e1720 "scripts/build-linux.ps1")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/scripts/build-linux.ps1)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,86 @@ |\
|  |  | #call me from the root of the repo |\
|  |  |  |\
|  |  | #if not exist "build" create the directory |\
|  |  | if (!(Test-Path"build")) { |\
|  |  | New-Item-ItemType Directory -Force -Path "build" |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildLinuxX64() { |\
|  |  | Write-Host"Building Linux binaries for x86\_64" |\
|  |  |  |\
|  |  | if((Test-Path"build/linux-x64")) { |\
|  |  | Write-Host"Deleting old build files for linux x86\_64"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/linux-x64" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/linux-x64" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/linux-x64 |\
|  |  | cmake --build build/linux-x64 --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/linux-x64 |\
|  |  | cp build/linux-x64/whisper.cpp/libwhisper.so ./Whisper.net/runtimes/linux-x64/whisper.so |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildLinuxArm64() { |\
|  |  | Write-Host"Building Linux binaries for arm64" |\
|  |  |  |\
|  |  | if((Test-Path"build/linux-arm64")) { |\
|  |  | Write-Host"Deleting old build files for linux arm64"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/linux-arm64" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/linux-arm64" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/linux-arm64 -DCMAKE\_C\_COMPILER=aarch64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=aarch64-linux-gnu-g++-DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=aarch64 |\
|  |  |  |\
|  |  | cmake --build build/linux-arm64 --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/linux-arm64 |\
|  |  | cp build/linux-arm64/whisper.cpp/libwhisper.so ./Whisper.net/runtimes/linux-arm64/whisper.so |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildWebAssembly() { |\
|  |  | Write-Host"Building WebAssembly binaries" |\
|  |  |  |\
|  |  | if((Test-Path"build/webassembly")) { |\
|  |  | Write-Host"Deleting old build files for WebAssembly"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/webassembly" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/webassembly" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/webassembly -DCMAKE\_TOOLCHAIN\_FILE=~/emsdk/upstream/emscripten/cmake/Modules/Platform/Emscripten.cmake -DCMAKE\_SYSTEM\_NAME=Generic -DCMAKE\_SYSTEM\_PROCESSOR=wasm |\
|  |  |  |\
|  |  | cmake --build build/webassembly --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/webassembly |\
|  |  | cp build/webassembly/whisper.cpp/libwhisper.so ./Whisper.net/runtimes/webassembly/whisper.wasm |\
|  |  | } |\
|  |  |  |\
|  |  |  |\
|  |  | functionBuildLinuxArm() { |\
|  |  | Write-Host"Building Linux binaries for arm" |\
|  |  |  |\
|  |  | if((Test-Path"build/linux-arm")) { |\
|  |  | Write-Host"Deleting old build files for linux arm"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/linux-arm" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/linux-arm" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/linux-arm -DCMAKE\_C\_COMPILER=arm-linux-gnueabihf-gcc -DCMAKE\_CXX\_COMPILER=arm-linux-gnueabihf-g++-DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=arm -DCMAKE\_SYSTEM\_PROCESSOR=arm |\
|  |  |  |\
|  |  | cmake --build build/linux-arm --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/linux-arm |\
|  |  | cp build/linux-arm/whisper.cpp/libwhisper.so ./Whisper.net/runtimes/linux-arm/whisper.so |\
|  |  | } |\
|  |  |  |\
|  |  | BuildLinuxArm; |\
|  |  | BuildLinuxX64; |\
|  |  | BuildLinuxArm64; |\
\
46 changes: 46 additions & 0 deletions\
46 [scripts/build-osx.ps1](#diff-22520d90535691cb14db2318eedd96667388928336722c34c71c16d27e42a821 "scripts/build-osx.ps1")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/scripts/build-osx.ps1)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,46 @@ |\
|  |  | #call me from the root of the repo |\
|  |  |  |\
|  |  | #if not exist "build" create the directory |\
|  |  | if (!(Test-Path"build")) { |\
|  |  | New-Item-ItemType Directory -Force -Path "build" |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildOsxX64() { |\
|  |  | Write-Host"Building OSX binaries for x86\_64" |\
|  |  |  |\
|  |  | if((Test-Path"build/osx-x64")) { |\
|  |  | Write-Host"Deleting old build files for osx x86\_64"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/osx-x64" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/osx-x64" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/osx-x64 |\
|  |  | cmake --build build/osx-x64 --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/osx-x64 |\
|  |  | cp build/osx-x64/whisper.cpp/libwhisper.dylib ./Whisper.net/runtimes/osx-x64/whisper.dylib |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildOsxArm64() { |\
|  |  | Write-Host"Building OSX binaries for arm64" |\
|  |  |  |\
|  |  | if((Test-Path"build/osx-arm64")) { |\
|  |  | Write-Host"Deleting old build files for osx arm64"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/osx-arm64" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/osx-arm64" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/osx-arm64 -DCMAKE\_OSX\_ARCHITECTURES=arm64 |\
|  |  |  |\
|  |  | cmake --build build/osx-arm64 --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/osx-arm64 |\
|  |  | cp build/osx-arm64/whisper.cpp/libwhisper.dylib ./Whisper.net/runtimes/osx-arm64/whisper.dylib |\
|  |  | } |\
|  |  |  |\
|  |  | BuildOsxArm64 |\
|  |  | BuildOsxX64 |\
\
83 changes: 83 additions & 0 deletions\
83 [scripts/build-windows.ps1](#diff-ea789ff10f7ec20e6f5861976c5603e5cd8410ab89e708e05ff227277ae9ae7d "scripts/build-windows.ps1")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e/scripts/build-windows.ps1)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,83 @@ |\
|  |  | #call me from the root of the repo |\
|  |  |  |\
|  |  | #if not exist "build" create the directory |\
|  |  | if (!(Test-Path"build")) { |\
|  |  | New-Item-ItemType Directory -Force -Path "build" |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildWindowsX64() { |\
|  |  | Write-Host"Building Windows binaries for x86\_64" |\
|  |  |  |\
|  |  | if((Test-Path"build/win-x64")) { |\
|  |  | Write-Host"Deleting old build files for windows x86\_64"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/win-x64" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/win-x64" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/win-x64 -A x64 |\
|  |  | cmake --build build/win-x64 --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/windows-x64 |\
|  |  | cp build/win-x64/bin/Release/whisper.dll ./Whisper.net/runtimes/win-x64/whisper.dll |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildWindowsX86() { |\
|  |  | Write-Host"Building Windows binaries for x86" |\
|  |  |  |\
|  |  | if((Test-Path"build/win-x86")) { |\
|  |  | Write-Host"Deleting old build files for windows x86"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/win-x86" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/win-x86" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/win-x86 -A Win32 |\
|  |  | cmake --build build/win-x86 --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/windows-x86 |\
|  |  | cp build/win-x86/bin/Release/whisper.dll ./Whisper.net/runtimes/win-x86/whisper.dll |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildWindowsArm64() { |\
|  |  | Write-Host"Building Windows binaries for arm64" |\
|  |  |  |\
|  |  | if((Test-Path"build/win-arm64")) { |\
|  |  | Write-Host"Deleting old build files for windows arm64"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/win-arm64" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/win-arm64" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/win-arm64 -A ARM64 |\
|  |  | cmake --build build/win-arm64 --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/windows-arm64 |\
|  |  | cp build/win-arm64/bin/Release/whisper.dll ./Whisper.net/runtimes/win-arm64/whisper.dll |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildWindowsArm() { |\
|  |  | Write-Host"Building Windows binaries for arm" |\
|  |  |  |\
|  |  | if((Test-Path"build/win-arm")) { |\
|  |  | Write-Host"Deleting old build files for windows arm"; |\
|  |  | Remove-Item-Force -Recurse -Path "build/win-arm" |\
|  |  | } |\
|  |  |  |\
|  |  | New-Item-ItemType Directory -Force -Path "build/windows-arm" |\
|  |  |  |\
|  |  | #call CMake to generate the makefiles |\
|  |  | cmake -S .-B build/win-arm -A ARM |\
|  |  | cmake --build build/win-arm --config Release |\
|  |  |  |\
|  |  | #copy the binaries to runtimes/windows-arm |\
|  |  | cp build/win-arm/bin/Release/whisper.dll ./Whisper.net/runtimes/win-arm/whisper.dll |\
|  |  | } |\
|  |  |  |\
|  |  | BuildWindowsX64 |\
|  |  | BuildWindowsX86 |\
|  |  | BuildWindowsArm |\
|  |  | BuildWindowsArm64 |\
\
2 changes: 1 addition & 1 deletion\
2 [whisper.cpp](#diff-7b638c730017b16cf40fc5b8d402c8729b9d4cce513b1d1f4d2e07c2e62ed9b4 "whisper.cpp")\
\
Show comments\
\
\
Submodule [whisper.cpp](https://github.com/ggerganov/whisper.cpp)\
\
updated\
\
[31 files](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648)\
\
|     |     |     |\
| --- | --- | --- |\
| +1<br> <br> −1 |  | [.github/workflows/bindings-go.yml](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-4062b9f19f90ffb4a14e100d068321cae8a2d5c085237dc299c9f08ec1afd6f3) |\
| +22<br> <br> −0 |  | [.github/workflows/bindings-ruby.yml](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-c65e5bba276c2c0bb62e3bf302804e4543cc1767e5596139c12ad74ffcb382b4) |\
| +11<br> <br> −8 |  | [Makefile](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) |\
| +4<br> <br> −0 |  | [README.md](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5) |\
| +2<br> <br> −2 |  | [bindings/go/whisper.go](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-a47addcbac59bfe15fb5cd8cbf7de3231f2aee39ec4805694863e298247c6f9e) |\
| +1<br> <br> −1 |  | [bindings/javascript/whisper.js](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-1d79ed19b4792922b2619e25562263e62ddd73234ea991b4342fc5e0024e45f5) |\
| +7<br> <br> −0 |  | [bindings/ruby/ext/.gitignore](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-a2d6a23d0cae124101f929409fdc21109f6baa8f4230047170aa98c68a2c4c04) |\
| +21<br> <br> −0 |  | [bindings/ruby/ext/extconf.rb](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-276e47f77a4af151268eae071683e3dec66891e162aeddb9a01a2f1e98580ee5) |\
| +426<br> <br> −0 |  | [bindings/ruby/ext/ruby\_whisper.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-521cda9d8024f6946a15527c5ce5adadf58e77bcdb7ad3594b0bcac78f03f4e5) |\
| +15<br> <br> −0 |  | [bindings/ruby/ext/ruby\_whisper.h](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-31daf9c8e9e5d3f9c212a479d6b18f43f47652fdb946fe1afb5ee335075bbe9c) |\
| +138<br> <br> −0 |  | [bindings/ruby/tests/test\_whisper.rb](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-19aee8dcaf376b4a6808e6b036b2a4177c415500946ab3f70294761cacb01b65) |\
| +31<br> <br> −0 |  | [examples/CMakeLists.txt](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-940e5356fa1137e646ea135a6f68cacbfad4fe7124c3a69163468f588acf9283) |\
| +1<br> <br> −1 |  | [examples/addon.node/CMakeLists.txt](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-97f24a3c2a5cd294f27b0ad7bec2377d95f9a41622499b0a29bf88c0b7509ed1) |\
| +13<br> <br> −93 |  | [examples/addon.node/addon.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-7be2e5bd01fc13af419539fc8362a2ef1d01bee7accd880fe08f08dfe19bb8b3) |\
| +1<br> <br> −0 |  | [examples/command.wasm/CMakeLists.txt](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-293ab6a453dbe3e2206952b29ce03bb699c7908275dd474e6d43f71f252bbfe6) |\
| +3<br> <br> −59 |  | [examples/command.wasm/emscripten.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-239edb3d024708508951c57ab0119b974fb909eb44c5cd58a7375e7122d70c9f) |\
| +1<br> <br> −2 |  | [examples/command/CMakeLists.txt](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-4e4c6ac47901b8ddd1bdeecabe007a6e8cb69ecca54daa3f751ca863b4d534c0) |\
| +9<br> <br> −330 |  | [examples/command/command.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-7a908a85e57c5d3b597a0cc164c42f8d9cb11405636a6953fb5f0b393f3e5243) |\
| +226<br> <br> −0 |  | [examples/common-sdl.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-83fdd40d02b0114074b606e5857b0bce91cf03980e98000a198cc676346936c5) |\
| +50<br> <br> −0 |  | [examples/common-sdl.h](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-8c74e2ea41b9adbf9997aa59f59a1f81c79d757db4b2be608fc4a8f0a48e3df1) |\
| +162<br> <br> −0 |  | [examples/common.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-81037668d1ec4be4b72740f4070add30efb0b021c28e93e41c2a0a2062ba10e8) |\
| +40<br> <br> −0 |  | [examples/common.h](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-9ee6fe1df475323e1bc2457aa555d36474236452b27af58909fc410c9a5fe642) |\
| +1<br> <br> −1 |  | [examples/main/CMakeLists.txt](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-034bd3f5616f3f135fa6e80782ae582659defda7afdede4acdd41acd80316fea) |\
| +22<br> <br> −98 |  | [examples/main/main.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-2d3599a9fad195f2c3c60bd06691bc1815325b3560b5feda41a91fa71194e805) |\
| +1<br> <br> −2 |  | [examples/stream/CMakeLists.txt](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-8c960b78a71cc7b9e06c767ad369391fdc66b66c829ce564940f3c10e86fe67b) |\
| +9<br> <br> −328 |  | [examples/stream/stream.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-f0e12bcd30e6e4f29cb1c0fd87d9406f26e2dd17196cb814afcef8482008e487) |\
| +1<br> <br> −1 |  | [examples/talk/CMakeLists.txt](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-65ac5f49819e80b10a138580828e5e1ac081218439d00b1411e75ce5d07c2e80) |\
| +6<br> <br> −334 |  | [examples/talk/talk.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-9994fa80722a8924aff804da43f0d5a01bd48dd8ea4d5ff3dd82f50522ab89b0) |\
| +128<br> <br> −74 |  | [examples/yt-wsp.sh](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-b1924402e15875c08c10fa806ef267a6ee1765ec7c6f61cfdd2b55a8ca871a96) |\
| +587<br> <br> −433 |  | [whisper.cpp](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-7b638c730017b16cf40fc5b8d402c8729b9d4cce513b1d1f4d2e07c2e62ed9b4) |\
| +166<br> <br> −29 |  | [whisper.h](/ggerganov/whisper.cpp/compare/113fcec51394df872636f24eb24912c51715c918...4608a7524ea3209d0550abf3f8b8c7910e5c1648#diff-46bc59b448d0e369ff4fbbc995a5c509db6caf1cee3a458f17482fae3086e457) |\
\
Toggle all file notesToggle all file annotations\
\
### 0 comments  on commit `e38ebcf`\
\
\
\
Please\
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2Fe38ebcf93efc5a8eb3d23ff39ae384a143aad38e) to comment.\
\
You can’t perform that action at this time.

---

# Windows UWP release execution errors · Issue #163 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Windows UWP release execution errors\#163

Open

[asata](/asata) opened this issue
Feb 2, 2024
· 2 comments

Open

# [Windows UWP release execution errors](\#top)\#163

[asata](/asata) opened this issue
Feb 2, 2024
· 2 comments

Labels

[configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes)

## Comments

[![@asata](https://avatars.githubusercontent.com/u/899614?s=80&u=7a314a85fd203363f1b4b771d7fd63fcc802e061&v=4)](/asata)


Copy link

### **[asata](/asata)**     commented   [Feb 2, 2024](\#issue-2113865292)

|     |
| --- |
| Added Whisper.net to the Windows UWP project.<br>When in debug mode, it runs fine.<br>When in release mode, it fails to run with the error below.<br>[![image](https://private-user-images.githubusercontent.com/899614/301700234-279d01c1-4672-4861-aee8-89d0a0e44526.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTM5MDEsIm5iZiI6MTczNTMxMzYwMSwicGF0aCI6Ii84OTk2MTQvMzAxNzAwMjM0LTI3OWQwMWMxLTQ2NzItNDg2MS1hZWU4LTg5ZDBhMGU0NDUyNi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQxMjI3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MTIyN1QxNTMzMjFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1jMTYzY2U4M2ViMmJjODI5YmE5YTQwMjExZDg1NGJlMTM1MDAzMDQ0NjdhZDYwNTY0YzdiMTQ0NjE5NjBhYzNjJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.CJ2qxAyz9Io1_TtX2pB4tIGz-rV2AIVPa8F32mTESns)](https://private-user-images.githubusercontent.com/899614/301700234-279d01c1-4672-4861-aee8-89d0a0e44526.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTM5MDEsIm5iZiI6MTczNTMxMzYwMSwicGF0aCI6Ii84OTk2MTQvMzAxNzAwMjM0LTI3OWQwMWMxLTQ2NzItNDg2MS1hZWU4LTg5ZDBhMGU0NDUyNi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQxMjI3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MTIyN1QxNTMzMjFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1jMTYzY2U4M2ViMmJjODI5YmE5YTQwMjExZDg1NGJlMTM1MDAzMDQ0NjdhZDYwNTY0YzdiMTQ0NjE5NjBhYzNjJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.CJ2qxAyz9Io1_TtX2pB4tIGz-rV2AIVPa8F32mTESns)<br>```notranslate<br>'App1.exe' (Win32): Loaded 'C:\Users\asata-win\Project\App1\App1\bin\x64\Release\AppX\App1.exe'. Module was built without symbols.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\ntdll.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\kernel32.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\KernelBase.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\crypt32.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\ucrtbase.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Program Files\WindowsApps\Microsoft.NET.Native.Runtime.2.2_2.2.28604.0_x64__8wekyb3d8bbwe\mrt100_app.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\combase.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\advapi32.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\ole32.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\rpcrt4.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\msvcrt.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\msvcp_win.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\sechost.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\gdi32.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\win32u.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Program Files\WindowsApps\Microsoft.VCLibs.140.00_14.0.33321.0_x64__8wekyb3d8bbwe\vcruntime140_app.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\gdi32full.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\ncrypt.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\WinTypes.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\user32.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\IPHLPAPI.DLL'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\oleaut32.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Users\asata-win\Project\App1\App1\bin\x64\Release\AppX\clrcompression.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\bcrypt.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>'App1.exe' (Win32): Loaded 'C:\Windows\System32\normaliz.dll'. Skipped loading symbols. Module is native, and native debugging is currently disabled.<br>The thread 0x557c has exited with code 3221225781 (0xc0000135).<br>The thread 0x45f0 has exited with code 3221225781 (0xc0000135).<br>The thread 0x6f44 has exited with code 3221225781 (0xc0000135).<br>The thread 0x7728 has exited with code 3221225781 (0xc0000135).<br>The program '[43996] App1.exe' has exited with code 3221225781 (0xc0000135) 'A dependent dll was not found'.<br>Activation of the Windows Store app 'b02c3742-d2a4-4f1f-bf7b-a564089df6b2_98md129wqmfb4!App' failed with error 'The target process aborted before activation completed. More information may be available in the Debug pane of the Output window (Debug->Windows->Output)'.<br>Activation of the Windows Store app 'b02c3742-d2a4-4f1f-bf7b-a564089df6b2_98md129wqmfb4!App' failed with error '앱이 시작되지 않았습니다'.<br>```<br>I installed Whisper.net with nuget and it was working fine before the installation.<br>Is there a solution to this problem? |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@asata](https://avatars.githubusercontent.com/u/899614?s=40&u=7a314a85fd203363f1b4b771d7fd63fcc802e061&v=4)](/asata)[asata](/asata)

changed the title
~~About Windows UWP release execution errors~~ Windows UWP release execution errors [Feb 2, 2024](#event-11678057373)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added
the
[configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes)
label

[Feb 3, 2024](#event-11692862491)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Feb 3, 2024](\#issuecomment-1925361160)

|     |
| --- |
| Hello [@asata](https://github.com/asata) ,<br>Probably the native dll is not copied by Windows UWP release build. if you navigate to bin/release, can you find the native dlls there? |

All reactions

Sorry, something went wrong.


[![@asata](https://avatars.githubusercontent.com/u/899614?s=80&u=7a314a85fd203363f1b4b771d7fd63fcc802e061&v=4)](/asata)


Copy link

Author

### **[asata](/asata)**     commented   [Feb 5, 2024](\#issuecomment-1926034134)•   edited      Loading

|     |
| --- |
| Thank you for your response. [@sandrohanea](https://github.com/sandrohanea)<br>Yes, there is a Whisper.net.dll inside the bin/release folder.<br>There is also whisper.dll in the runtimes folder.<br>The difference with bin/debug is that there is no Whisper.net.dll inside the bin/release/AppX folder.<br>If you add the Whisper.net.dll file to that folder and run it, you get the same error. |

All reactions

Sorry, something went wrong.


[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fissues%2F163)

Assignees


No one assigned

Labels


[configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes)

Projects


None yet

Milestone


No milestone

Development


No branches or pull requests

2 participants


[![@asata](https://avatars.githubusercontent.com/u/899614?s=52&v=4)](/asata)[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

You can’t perform that action at this time.

---

# Added initial files · sandrohanea/whisper.net@d65983b · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/d65983b8502997a5d45d45f98a96ebc44fa6b6dd)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Added initial files


[Browse files](/sandrohanea/whisper.net/tree/d65983b8502997a5d45d45f98a96ebc44fa6b6dd) Browse the repository at this point in the history

- [main](/sandrohanea/whisper.net)

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)
- …
- [1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)
- [1.7.3-preview2](/sandrohanea/whisper.net/releases/tag/1.7.3-preview2)
- [1.7.3-preview1](/sandrohanea/whisper.net/releases/tag/1.7.3-preview1)
- [1.7.2](/sandrohanea/whisper.net/releases/tag/1.7.2)
- [1.7.2-preview3](/sandrohanea/whisper.net/releases/tag/1.7.2-preview3)
- [1.7.2-preview2](/sandrohanea/whisper.net/releases/tag/1.7.2-preview2)
- [1.7.2-preview1](/sandrohanea/whisper.net/releases/tag/1.7.2-preview1)
- [1.7.1](/sandrohanea/whisper.net/releases/tag/1.7.1)
- [1.7.1-preview1](/sandrohanea/whisper.net/releases/tag/1.7.1-preview1)
- [1.7.0](/sandrohanea/whisper.net/releases/tag/1.7.0)
- [1.5.0](/sandrohanea/whisper.net/releases/tag/1.5.0)
- [1.4.7](/sandrohanea/whisper.net/releases/tag/1.4.7)
- [1.4.6](/sandrohanea/whisper.net/releases/tag/1.4.6)
- [1.4.5](/sandrohanea/whisper.net/releases/tag/1.4.5)
- [1.4.4](/sandrohanea/whisper.net/releases/tag/1.4.4)
- [1.4.3](/sandrohanea/whisper.net/releases/tag/1.4.3)
- [1.4.2](/sandrohanea/whisper.net/releases/tag/1.4.2)
- [1.4.0](/sandrohanea/whisper.net/releases/tag/1.4.0)
- [1.3.0](/sandrohanea/whisper.net/releases/tag/1.3.0)
- [1.2.2](/sandrohanea/whisper.net/releases/tag/1.2.2)
- [1.2.1](/sandrohanea/whisper.net/releases/tag/1.2.1)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

committed
Feb 4, 2023

0 parents
commit d65983b

Show file tree

Hide file tree

Showing
**36 changed files**
with
**2,226 additions**
and
**0 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

355 changes: 355 additions & 0 deletions
355 [.gitignore](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947 ".gitignore")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,355 @@ |
|  |  | #\# Ignore Visual Studio temporary files, build results, and |
|  |  | #\# files generated by popular Visual Studio add-ons. |
|  |  | ## |
|  |  | #\# Get latest from https://github.com/github/gitignore/blob/master/VisualStudio.gitignore |
|  |  |  |
|  |  | # User-specific files |
|  |  | \*.rsuser |
|  |  | \*.suo |
|  |  | \*.user |
|  |  | \*.userosscache |
|  |  | \*.sln.docstates |
|  |  |  |
|  |  | # User-specific files (MonoDevelop/Xamarin Studio) |
|  |  | \*.userprefs |
|  |  |  |
|  |  | # Mono auto generated files |
|  |  | mono\_crash.\* |
|  |  |  |
|  |  | # Build results |
|  |  | \[Dd\]ebug/ |
|  |  | \[Dd\]ebugPublic/ |
|  |  | \[Rr\]elease/ |
|  |  | \[Rr\]eleases/ |
|  |  | x64/ |
|  |  | x86/ |
|  |  | \[Aa\]\[Rr\]\[Mm\]/ |
|  |  | \[Aa\]\[Rr\]\[Mm\]64/ |
|  |  | bld/ |
|  |  | \[Bb\]in/ |
|  |  | \[Oo\]bj/ |
|  |  | \[Ll\]og/ |
|  |  | \[Ll\]ogs/ |
|  |  |  |
|  |  |  |
|  |  | # Visual Studio 2015/2017 cache/options directory |
|  |  | .vs/ |
|  |  | # Uncomment if you have tasks that create the project's static files in wwwroot |
|  |  | #wwwroot/ |
|  |  |  |
|  |  | # Visual Studio 2017 auto generated files |
|  |  | Generated\ Files/ |
|  |  |  |
|  |  | # MSTest test Results |
|  |  | \[Tt\]est\[Rr\]esult\*/ |
|  |  | \[Bb\]uild\[Ll\]og.\* |
|  |  |  |
|  |  | # NUnit |
|  |  | \*.VisualState.xml |
|  |  | TestResult.xml |
|  |  | nunit-\*.xml |
|  |  |  |
|  |  | # Build Results of an ATL Project |
|  |  | \[Dd\]ebugPS/ |
|  |  | \[Rr\]eleasePS/ |
|  |  | dlldata.c |
|  |  |  |
|  |  | # Benchmark Results |
|  |  | BenchmarkDotNet.Artifacts/ |
|  |  |  |
|  |  | # .NET Core |
|  |  | project.lock.json |
|  |  | project.fragment.lock.json |
|  |  | artifacts/ |
|  |  |  |
|  |  | # StyleCop |
|  |  | StyleCopReport.xml |
|  |  |  |
|  |  | # Files built by Visual Studio |
|  |  | \*\_i.c |
|  |  | \*\_p.c |
|  |  | \*\_h.h |
|  |  | \*.ilk |
|  |  | \*.meta |
|  |  | \*.obj |
|  |  | \*.iobj |
|  |  | \*.pch |
|  |  | \*.pdb |
|  |  | \*.ipdb |
|  |  | \*.pgc |
|  |  | \*.pgd |
|  |  | \*.rsp |
|  |  | \*.sbr |
|  |  | \*.tlb |
|  |  | \*.tli |
|  |  | \*.tlh |
|  |  | \*.tmp |
|  |  | \*.tmp\_proj |
|  |  | \*\_wpftmp.csproj |
|  |  | \*.log |
|  |  | \*.vspscc |
|  |  | \*.vssscc |
|  |  | .builds |
|  |  | \*.pidb |
|  |  | \*.svclog |
|  |  | \*.scc |
|  |  |  |
|  |  | # Chutzpah Test files |
|  |  | \_Chutzpah\* |
|  |  |  |
|  |  | # Visual C++ cache files |
|  |  | ipch/ |
|  |  | \*.aps |
|  |  | \*.ncb |
|  |  | \*.opendb |
|  |  | \*.opensdf |
|  |  | \*.sdf |
|  |  | \*.cachefile |
|  |  | \*.VC.db |
|  |  | \*.VC.VC.opendb |
|  |  |  |
|  |  | # Visual Studio profiler |
|  |  | \*.psess |
|  |  | \*.vsp |
|  |  | \*.vspx |
|  |  | \*.sap |
|  |  |  |
|  |  | # Visual Studio Trace Files |
|  |  | \*.e2e |
|  |  |  |
|  |  | # TFS 2012 Local Workspace |
|  |  | $tf/ |
|  |  |  |
|  |  | # Guidance Automation Toolkit |
|  |  | \*.gpState |
|  |  |  |
|  |  | # ReSharper is a .NET coding add-in |
|  |  | \_ReSharper\*/ |
|  |  | \*.\[Rr\]e\[Ss\]harper |
|  |  | \*.DotSettings.user |
|  |  |  |
|  |  | # TeamCity is a build add-in |
|  |  | \_TeamCity\* |
|  |  |  |
|  |  | # DotCover is a Code Coverage Tool |
|  |  | \*.dotCover |
|  |  |  |
|  |  | # AxoCover is a Code Coverage Tool |
|  |  | .axoCover/\* |
|  |  | !.axoCover/settings.json |
|  |  |  |
|  |  | # Visual Studio code coverage results |
|  |  | \*.coverage |
|  |  | \*.coveragexml |
|  |  |  |
|  |  | # NCrunch |
|  |  | \_NCrunch\_\* |
|  |  | .\*crunch\*.local.xml |
|  |  | nCrunchTemp\_\* |
|  |  |  |
|  |  | # MightyMoose |
|  |  | \*.mm.\* |
|  |  | AutoTest.Net/ |
|  |  |  |
|  |  | # Web workbench (sass) |
|  |  | .sass-cache/ |
|  |  |  |
|  |  | # Installshield output folder |
|  |  | \[Ee\]xpress/ |
|  |  |  |
|  |  | # DocProject is a documentation generator add-in |
|  |  | DocProject/buildhelp/ |
|  |  | DocProject/Help/\*.HxT |
|  |  | DocProject/Help/\*.HxC |
|  |  | DocProject/Help/\*.hhc |
|  |  | DocProject/Help/\*.hhk |
|  |  | DocProject/Help/\*.hhp |
|  |  | DocProject/Help/Html2 |
|  |  | DocProject/Help/html |
|  |  |  |
|  |  | # Click-Once directory |
|  |  | publish/ |
|  |  |  |
|  |  | # Publish Web Output |
|  |  | \*.\[Pp\]ublish.xml |
|  |  | \*.azurePubxml |
|  |  | # Note: Comment the next line if you want to checkin your web deploy settings, |
|  |  | # but database connection strings (with potential passwords) will be unencrypted |
|  |  | \*.pubxml |
|  |  | \*.publishproj |
|  |  |  |
|  |  | # Microsoft Azure Web App publish settings. Comment the next line if you want to |
|  |  | # checkin your Azure Web App publish settings, but sensitive information contained |
|  |  | # in these scripts will be unencrypted |
|  |  | PublishScripts/ |
|  |  |  |
|  |  | # NuGet Packages |
|  |  | \*.nupkg |
|  |  | # NuGet Symbol Packages |
|  |  | \*.snupkg |
|  |  | # The packages folder can be ignored because of Package Restore |
|  |  | \*\*/\[Pp\]ackages/\* |
|  |  | # except build/, which is used as an MSBuild target. |
|  |  | !\*\*/\[Pp\]ackages/build/ |
|  |  | # Uncomment if necessary however generally it will be regenerated when needed |
|  |  | #!\*\*/\[Pp\]ackages/repositories.config |
|  |  | # NuGet v3's project.json files produces more ignorable files |
|  |  | \*.nuget.props |
|  |  | \*.nuget.targets |
|  |  |  |
|  |  | # Microsoft Azure Build Output |
|  |  | csx/ |
|  |  | \*.build.csdef |
|  |  |  |
|  |  | # Microsoft Azure Emulator |
|  |  | ecf/ |
|  |  | rcf/ |
|  |  |  |
|  |  | # Windows Store app package directories and files |
|  |  | AppPackages/ |
|  |  | BundleArtifacts/ |
|  |  | Package.StoreAssociation.xml |
|  |  | \_pkginfo.txt |
|  |  | \*.appx |
|  |  | \*.appxbundle |
|  |  | \*.appxupload |
|  |  |  |
|  |  | # Visual Studio cache files |
|  |  | # files ending in .cache can be ignored |
|  |  | \*.\[Cc\]ache |
|  |  | # but keep track of directories ending in .cache |
|  |  | !?\*.\[Cc\]ache/ |
|  |  |  |
|  |  | # Others |
|  |  | ClientBin/ |
|  |  | ~$\* |
|  |  | \*~ |
|  |  | \*.dbmdl |
|  |  | \*.dbproj.schemaview |
|  |  | \*.jfm |
|  |  | \*.pfx |
|  |  | \*.publishsettings |
|  |  | orleans.codegen.cs |
|  |  |  |
|  |  | # Including strong name files can present a security risk |
|  |  | # (https://github.com/github/gitignore/pull/2483#issue-259490424) |
|  |  | #\*.snk |
|  |  |  |
|  |  | # Since there are multiple workflows, uncomment next line to ignore bower\_components |
|  |  | # (https://github.com/github/gitignore/pull/1529#issuecomment-104372622) |
|  |  | #bower\_components/ |
|  |  |  |
|  |  | # RIA/Silverlight projects |
|  |  | Generated\_Code/ |
|  |  |  |
|  |  | # Backup & report files from converting an old project file |
|  |  | # to a newer Visual Studio version. Backup files are not needed, |
|  |  | # because we have git ;-) |
|  |  | \_UpgradeReport\_Files/ |
|  |  | Backup\*/ |
|  |  | UpgradeLog\*.XML |
|  |  | UpgradeLog\*.htm |
|  |  | ServiceFabricBackup/ |
|  |  | \*.rptproj.bak |
|  |  |  |
|  |  | # SQL Server files |
|  |  | \*.mdf |
|  |  | \*.ldf |
|  |  | \*.ndf |
|  |  |  |
|  |  | # Business Intelligence projects |
|  |  | \*.rdl.data |
|  |  | \*.bim.layout |
|  |  | \*.bim\_\*.settings |
|  |  | \*.rptproj.rsuser |
|  |  | \*- \[Bb\]ackup.rdl |
|  |  | \*- \[Bb\]ackup(\[0-9\]).rdl |
|  |  | \*- \[Bb\]ackup(\[0-9\]\[0-9\]).rdl |
|  |  |  |
|  |  | # Microsoft Fakes |
|  |  | FakesAssemblies/ |
|  |  |  |
|  |  | # GhostDoc plugin setting file |
|  |  | \*.GhostDoc.xml |
|  |  |  |
|  |  | # Node.js Tools for Visual Studio |
|  |  | .ntvs\_analysis.dat |
|  |  | node\_modules/ |
|  |  |  |
|  |  | # Visual Studio 6 build log |
|  |  | \*.plg |
|  |  |  |
|  |  | # Visual Studio 6 workspace options file |
|  |  | \*.opt |
|  |  |  |
|  |  | # Visual Studio 6 auto-generated workspace file (contains which files were open etc.) |
|  |  | \*.vbw |
|  |  |  |
|  |  | # Visual Studio LightSwitch build output |
|  |  | \*\*/\*.HTMLClient/GeneratedArtifacts |
|  |  | \*\*/\*.DesktopClient/GeneratedArtifacts |
|  |  | \*\*/\*.DesktopClient/ModelManifest.xml |
|  |  | \*\*/\*.Server/GeneratedArtifacts |
|  |  | \*\*/\*.Server/ModelManifest.xml |
|  |  | \_Pvt\_Extensions |
|  |  |  |
|  |  | # Paket dependency manager |
|  |  | .paket/paket.exe |
|  |  | paket-files/ |
|  |  |  |
|  |  | # FAKE - F# Make |
|  |  | .fake/ |
|  |  |  |
|  |  | # CodeRush personal settings |
|  |  | .cr/personal |
|  |  |  |
|  |  | # Python Tools for Visual Studio (PTVS) |
|  |  | \_\_pycache\_\_/ |
|  |  | \*.pyc |
|  |  |  |
|  |  | # Cake - Uncomment if you are using it |
|  |  | # tools/\*\* |
|  |  | # !tools/packages.config |
|  |  |  |
|  |  | # Tabs Studio |
|  |  | \*.tss |
|  |  |  |
|  |  | # Telerik's JustMock configuration file |
|  |  | \*.jmconfig |
|  |  |  |
|  |  | # BizTalk build output |
|  |  | \*.btp.cs |
|  |  | \*.btm.cs |
|  |  | \*.odx.cs |
|  |  | \*.xsd.cs |
|  |  |  |
|  |  | # OpenCover UI analysis results |
|  |  | OpenCover/ |
|  |  |  |
|  |  | # Azure Stream Analytics local run output |
|  |  | ASALocalRun/ |
|  |  |  |
|  |  | # MSBuild Binary and Structured Log |
|  |  | \*.binlog |
|  |  |  |
|  |  | # NVidia Nsight GPU debugger configuration file |
|  |  | \*.nvuser |
|  |  |  |
|  |  | # MFractors (Xamarin productivity tool) working folder |
|  |  | .mfractor/ |
|  |  |  |
|  |  | # Local History for Visual Studio |
|  |  | .localhistory/ |
|  |  |  |
|  |  | # BeatPulse healthcheck temp database |
|  |  | healthchecksdb |
|  |  |  |
|  |  | # Backup folder for Package Reference Convert tool in Visual Studio 2017 |
|  |  | MigrationBackup/ |
|  |  |  |
|  |  | # Ionide (cross platform F# VS Code tools) working folder |
|  |  | .ionide/ |
|  |  |  |
|  |  | #build path for CMake |
|  |  | /src/build |
|  |  | /build |

3 changes: 3 additions & 0 deletions
3 [.gitmodules](#diff-fe7afb5c9c916e521401d3fcfb4277d5071798c3baf83baf11d6071742823584 ".gitmodules")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,3 @@ |
|  |  | \[submodule "whisper.cpp"\] |
|  |  | path=whisper.cpp |
|  |  | url=https://github.com/ggerganov/whisper.cpp.git |

15 changes: 15 additions & 0 deletions
15 [CMakeLists.txt](#diff-1e7de1ae2d059d21e1dd75d5812d5a34b0222cef273b7c3a2af62eb747f9d20a "CMakeLists.txt")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,15 @@ |
|  |  | \# CMakeList.txt : Top-level CMake project file, do global configuration |
|  |  | \# and include sub-projects here. |
|  |  | # |
|  |  | cmake\_minimum\_required (VERSION 3.8) |
|  |  |  |
|  |  | \# Enable Hot Reload for MSVC compilers if supported. |
|  |  | if (POLICY CMP0141) |
|  |  | cmake\_policy(SET CMP0141 NEW) |
|  |  | set(CMAKE\_MSVC\_DEBUG\_INFORMATION\_FORMAT "$<IF:$<AND:$<C\_COMPILER\_ID:MSVC>,$<CXX\_COMPILER\_ID:MSVC>>,$<$<CONFIG:Debug,RelWithDebInfo>:EditAndContinue>,$<$<CONFIG:Debug,RelWithDebInfo>:ProgramDatabase>>") |
|  |  | endif() |
|  |  |  |
|  |  | project ("Whisper.net") |
|  |  |  |
|  |  | \# Include sub-projects. |
|  |  | add\_subdirectory ("whisper.cpp") |

61 changes: 61 additions & 0 deletions
61 [CMakePresets.json](#diff-1712b235e02bd4a3ad866fe26447a6dc5c1b449faeea513f449d244d46d03cf5 "CMakePresets.json")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,61 @@ |
|  |  | { |
|  |  | "version": 3, |
|  |  | "configurePresets": \[ |\
|  |  | { |\
|  |  | "name": "windows-base", |\
|  |  | "hidden": true, |\
|  |  | "generator": "Ninja", |\
|  |  | "binaryDir": "${sourceDir}/out/build/${presetName}", |\
|  |  | "installDir": "${sourceDir}/out/install/${presetName}", |\
|  |  | "cacheVariables": { |\
|  |  | "CMAKE\_C\_COMPILER": "cl.exe", |\
|  |  | "CMAKE\_CXX\_COMPILER": "cl.exe" |\
|  |  | }, |\
|  |  | "condition": { |\
|  |  | "type": "equals", |\
|  |  | "lhs": "${hostSystemName}", |\
|  |  | "rhs": "Windows" |\
|  |  | } |\
|  |  | }, |\
|  |  | { |\
|  |  | "name": "x64-debug", |\
|  |  | "displayName": "x64 Debug", |\
|  |  | "inherits": "windows-base", |\
|  |  | "architecture": { |\
|  |  | "value": "x64", |\
|  |  | "strategy": "external" |\
|  |  | }, |\
|  |  | "cacheVariables": { |\
|  |  | "CMAKE\_BUILD\_TYPE": "Debug" |\
|  |  | } |\
|  |  | }, |\
|  |  | { |\
|  |  | "name": "x64-release", |\
|  |  | "displayName": "x64 Release", |\
|  |  | "inherits": "x64-debug", |\
|  |  | "cacheVariables": { |\
|  |  | "CMAKE\_BUILD\_TYPE": "Release" |\
|  |  | } |\
|  |  | }, |\
|  |  | { |\
|  |  | "name": "x86-debug", |\
|  |  | "displayName": "x86 Debug", |\
|  |  | "inherits": "windows-base", |\
|  |  | "architecture": { |\
|  |  | "value": "x86", |\
|  |  | "strategy": "external" |\
|  |  | }, |\
|  |  | "cacheVariables": { |\
|  |  | "CMAKE\_BUILD\_TYPE": "Debug" |\
|  |  | } |\
|  |  | }, |\
|  |  | { |\
|  |  | "name": "x86-release", |\
|  |  | "displayName": "x86 Release", |\
|  |  | "inherits": "x86-debug", |\
|  |  | "cacheVariables": { |\
|  |  | "CMAKE\_BUILD\_TYPE": "Release" |\
|  |  | } |\
|  |  | } |\
|  |  | \] |
|  |  | } |

21 changes: 21 additions & 0 deletions
21 [LICENSE](#diff-c693279643b8cd5d248172d9c22cb7cf4ed163a3c98c8a3f69c2717edd3eacb7 "LICENSE")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,21 @@ |
|  |  | MIT License |
|  |  |  |
|  |  | Copyright (c) 2023 sandrohanea |
|  |  |  |
|  |  | Permission is hereby granted, free of charge, to any person obtaining a copy |
|  |  | of this software and associated documentation files (the "Software"), to deal |
|  |  | in the Software without restriction, including without limitation the rights |
|  |  | to use, copy, modify, merge, publish, distribute, sublicense, and/or sell |
|  |  | copies of the Software, and to permit persons to whom the Software is |
|  |  | furnished to do so, subject to the following conditions: |
|  |  |  |
|  |  | The above copyright notice and this permission notice shall be included in all |
|  |  | copies or substantial portions of the Software. |
|  |  |  |
|  |  | THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR |
|  |  | IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, |
|  |  | FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE |
|  |  | AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER |
|  |  | LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, |
|  |  | OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE |
|  |  | SOFTWARE. |

Binary file added
BIN

+3.66 MB

[Whisper.net.Demo/1min.wav](#diff-9b62da4e2477327e8b7f3d57d3aa86efb8d56599fcf1aca9865f441964342c82 "Whisper.net.Demo/1min.wav")

Show comments


Edit file

Delete file


Binary file not shown.


28 changes: 28 additions & 0 deletions
28 [Whisper.net.Demo/Program.cs](#diff-9e0995f0a9f269984c7005a0339455280e18f047acf6267457e3bafbc31c81d3 "Whisper.net.Demo/Program.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,28 @@ |
|  |  | ﻿ |
|  |  | usingSystem; |
|  |  | usingSystem.IO; |
|  |  | usingWhisper.net; |
|  |  | usingWhisper.net.Ggml; |
|  |  |  |
|  |  | varmodelName="ggml-base.bin"; |
|  |  | if(!File.Exists(modelName)) |
|  |  | { |
|  |  | usingvarmodelStream=awaitWhisperGgmlDownloader.GetGgmlModelAsync(GgmlType.Base); |
|  |  | usingvarfileWriter=File.OpenWrite(modelName); |
|  |  | awaitmodelStream.CopyToAsync(fileWriter); |
|  |  | } |
|  |  |  |
|  |  | usingvarprocessor=WhisperProcessorBuilder.Create() |
|  |  | .WithSegmentEventHandler(OnNewSegment) |
|  |  | .WithFileModel("ggml-base.bin") |
|  |  | .WithTranslate() |
|  |  | .WithLanguage("auto") |
|  |  | .Build(); |
|  |  |  |
|  |  | voidOnNewSegment(objectsender,OnSegmentEventArgse) |
|  |  | { |
|  |  | Console.WriteLine($"CSSS {e.Start} ==\> {e.End} : {e.Segment}"); |
|  |  | } |
|  |  |  |
|  |  | usingvarfileStream=File.OpenRead("rom.wav"); |
|  |  | processor.Process(fileStream); |

22 changes: 22 additions & 0 deletions
22 [Whisper.net.Demo/Whisper.net.Demo.csproj](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a "Whisper.net.Demo/Whisper.net.Demo.csproj")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,22 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk"> |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net7.0;net472</TargetFrameworks> |
|  |  | <LangVersion>10</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <ProjectReferenceInclude="..\\Whisper.net\\Whisper.net.csproj" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <NoneUpdate="1min.wav"> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </None> |
|  |  | <NoneUpdate="rom.wav"> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | </Project> |

Binary file added
BIN

+496 KB

[Whisper.net.Demo/rom.wav](#diff-70e3df534c1008f54f0e4a2d24d255251d09259130cfe16143d6f0c63f021bfc "Whisper.net.Demo/rom.wav")

Show comments


Edit file

Delete file


Binary file not shown.


56 changes: 56 additions & 0 deletions
56 [Whisper.net.sln](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb "Whisper.net.sln")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,56 @@ |
|  |  |  |
|  |  | Microsoft Visual Studio Solution File, Format Version 12.00 |
|  |  | \# Visual Studio Version 17 |
|  |  | VisualStudioVersion =17.5.33318.248 |
|  |  | MinimumVisualStudioVersion =10.0.40219.1 |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Demo", "Whisper.net.Demo\\Whisper.net.Demo.csproj", "{C1C29732-1BC2-477D-A116-C5003E1D0C85}" |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Solution Items", "Solution Items", "{2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | ..\readme.md = ..\readme.md |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net", "Whisper.net\\Whisper.net.csproj", "{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}" |
|  |  | EndProject |
|  |  | Global |
|  |  | GlobalSection(SolutionConfigurationPlatforms) = preSolution |
|  |  | Debug\|Any CPU = Debug\|Any CPU |
|  |  | Debug\|x64 = Debug\|x64 |
|  |  | Debug\|x86 = Debug\|x86 |
|  |  | Release\|Any CPU = Release\|Any CPU |
|  |  | Release\|x64 = Release\|x64 |
|  |  | Release\|x86 = Release\|x86 |
|  |  | EndGlobalSection |
|  |  | GlobalSection(ProjectConfigurationPlatforms) = postSolution |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | EndGlobalSection |
|  |  | GlobalSection(SolutionProperties) = preSolution |
|  |  | HideSolutionNode =FALSE |
|  |  | EndGlobalSection |
|  |  | GlobalSection(ExtensibilityGlobals) = postSolution |
|  |  | SolutionGuid ={F5CAA926-1B7D-3A67-9130-E6EFE3E9DFD9} |
|  |  | EndGlobalSection |
|  |  | EndGlobal |

49 changes: 49 additions & 0 deletions
49 [Whisper.net/BeamSearchSamplingStrategyBuilder.cs](#diff-b9b068cf44a1575730efa14c575b0a91e1512b79b69d82e5cdb8f70972b03c93 "Whisper.net/BeamSearchSamplingStrategyBuilder.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,49 @@ |
|  |  | ﻿usingWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | namespaceWhisper.net; |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Builder for <seealso cref="BeamSearchSamplingStrategy"/> |
|  |  | /// </summary> |
|  |  | publicclassBeamSearchSamplingStrategyBuilder:IWhisperSamplingStrategyBuilder |
|  |  | { |
|  |  | privateBeamSearchSamplingStrategybeamSearchSamplingStrategy; |
|  |  |  |
|  |  | internalBeamSearchSamplingStrategyBuilder(WhisperProcessorBuilderwhisperProcessorBuilder,BeamSearchSamplingStrategybeamSearchSamplingStrategy) |
|  |  | { |
|  |  | ParentBuilder=whisperProcessorBuilder; |
|  |  | this.beamSearchSamplingStrategy=beamSearchSamplingStrategy; |
|  |  | } |
|  |  |  |
|  |  | /// <inheritdoc/> |
|  |  | publicWhisperProcessorBuilderParentBuilder{get;} |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Configures the Beam Search Sampling Strategy with the specified <paramref name="beamSize"/>. |
|  |  | /// </summary> |
|  |  | /// <param name="beamSize">The beam size to be used</param> |
|  |  | /// <returns>An instance to the same builder.</returns> |
|  |  | /// <remarks> |
|  |  | /// If not configured, 5 beam sizes are used. |
|  |  | /// </remarks> |
|  |  | publicBeamSearchSamplingStrategyBuilderWithBeamSize(intbeamSize) |
|  |  | { |
|  |  | beamSearchSamplingStrategy.BeamSize=beamSize; |
|  |  | returnthis; |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Configures the Beam Search Sampling Strategy with the specified <paramref name="patience"/>. |
|  |  | /// </summary> |
|  |  | /// <param name="patience">The patience to be used</param> |
|  |  | /// <returns>An instance to the same builder.</returns> |
|  |  | /// <remarks> |
|  |  | /// If not configured, -1.0f patience is used. |
|  |  | /// Note: This is not implmented yet in the native code. |
|  |  | /// </remarks> |
|  |  | publicBeamSearchSamplingStrategyBuilderWithPatience(floatpatience) |
|  |  | { |
|  |  | beamSearchSamplingStrategy.Patience=patience; |
|  |  | returnthis; |
|  |  | } |
|  |  | } |

16 changes: 16 additions & 0 deletions
16 [Whisper.net/Ggml/GgmlType.cs](#diff-eeaecf73c44b591e6db2f74c6f76ec27e4cdfc3ad21ef38f3ebb58875657278e "Whisper.net/Ggml/GgmlType.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,16 @@ |
|  |  | ﻿namespaceWhisper.net.Ggml |
|  |  | { |
|  |  | publicenumGgmlType |
|  |  | { |
|  |  | Tiny, |
|  |  | TinyEn, |
|  |  | Base, |
|  |  | BaseEn, |
|  |  | Small, |
|  |  | SmallEn, |
|  |  | Medium, |
|  |  | MediumEn, |
|  |  | LargeV1, |
|  |  | Large |
|  |  | } |
|  |  | } |

31 changes: 31 additions & 0 deletions
31 [Whisper.net/Ggml/WhisperGgmlDownloader.cs](#diff-96001bb9b01addeb5ad08fd507798f665f57c4d19e2d8d1ec127ca36fd0c63b8 "Whisper.net/Ggml/WhisperGgmlDownloader.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,31 @@ |
|  |  | ﻿namespaceWhisper.net.Ggml |
|  |  | { |
|  |  | publicstaticclassWhisperGgmlDownloader |
|  |  | { |
|  |  | privatestaticreadonlyLazy<HttpClient>httpClient=newLazy<HttpClient>(()=>newHttpClient()); |
|  |  |  |
|  |  | publicstaticasyncTask<Stream>GetGgmlModelAsync(GgmlTypetype) |
|  |  | { |
|  |  | varurl=typeswitch |
|  |  | { |
|  |  | GgmlType.Tiny=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-tiny.bin", |
|  |  | GgmlType.TinyEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-tiny.en.bin", |
|  |  | GgmlType.Base=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-base.bin", |
|  |  | GgmlType.BaseEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-base.en.bin", |
|  |  | GgmlType.Small=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-small.bin", |
|  |  | GgmlType.SmallEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-small.en.bin", |
|  |  | GgmlType.Medium=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-medium.bin", |
|  |  | GgmlType.MediumEn=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-medium.en.bin", |
|  |  | GgmlType.LargeV1=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-large-v1.bin", |
|  |  | GgmlType.Large=>"https://huggingface.co/datasets/ggerganov/whisper.cpp/resolve/main/ggml-large.bin", |
|  |  | \_ =>thrownewArgumentOutOfRangeException(nameof(type),type,null) |
|  |  | }; |
|  |  |  |
|  |  | varrequest=newHttpRequestMessage(HttpMethod.Get,url); |
|  |  | varresponse=awaithttpClient.Value.SendAsync(request); |
|  |  | response.EnsureSuccessStatusCode(); |
|  |  |  |
|  |  | returnawaitresponse.Content.ReadAsStreamAsync(); |
|  |  | } |
|  |  | } |
|  |  | } |

34 changes: 34 additions & 0 deletions
34 [Whisper.net/GreedySamplingStrategyBuilder.cs](#diff-11de7456690a734f4809f178c80df2889a7cb5c849e6affda4b00cd6a8d2382c "Whisper.net/GreedySamplingStrategyBuilder.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,34 @@ |
|  |  | ﻿usingWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | namespaceWhisper.net; |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Builder for <seealso cref="GreedySamplingStrategyBuilder"/> |
|  |  | /// </summary> |
|  |  | publicclassGreedySamplingStrategyBuilder:IWhisperSamplingStrategyBuilder |
|  |  | { |
|  |  | privatereadonlyGreedySamplingStrategygreedySamplingStrategy; |
|  |  |  |
|  |  | internalGreedySamplingStrategyBuilder(WhisperProcessorBuilderparentBuilder,GreedySamplingStrategygreedySamplingStrategy) |
|  |  | { |
|  |  | ParentBuilder=parentBuilder; |
|  |  | this.greedySamplingStrategy=greedySamplingStrategy; |
|  |  | } |
|  |  |  |
|  |  | /// <inheritdoc/> |
|  |  | publicWhisperProcessorBuilderParentBuilder{get;} |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Configures the Greedy Sampling Strategy with the specified <paramref name="bestOf"/>. |
|  |  | /// </summary> |
|  |  | /// <param name="bestOf">The best of to be used</param> |
|  |  | /// <returns>An instance to the same builder.</returns> |
|  |  | /// <remarks> |
|  |  | /// If not configured, 1 decoder is used. |
|  |  | /// </remarks> |
|  |  | publicGreedySamplingStrategyBuilderWithBestOf(intbestOf) |
|  |  | { |
|  |  | greedySamplingStrategy.BestOf=bestOf; |
|  |  | returnthis; |
|  |  | } |
|  |  | } |

15 changes: 15 additions & 0 deletions
15 [Whisper.net/IWhisperSamplingStrategyBuilder.cs](#diff-7f4e6788c15c60527839919402bb79537308e47f0b93c58f16753c147ee0a249 "Whisper.net/IWhisperSamplingStrategyBuilder.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,15 @@ |
|  |  | ﻿usingSystem; |
|  |  | usingSystem.Collections.Generic; |
|  |  | usingSystem.Linq; |
|  |  | usingSystem.Text; |
|  |  | usingSystem.Threading.Tasks; |
|  |  |  |
|  |  | namespaceWhisper.net; |
|  |  |  |
|  |  | publicinterfaceIWhisperSamplingStrategyBuilder |
|  |  | { |
|  |  | /// <summary> |
|  |  | /// Returns the parent <seealso cref="WhisperProcessorBuilder"/>. |
|  |  | /// </summary> |
|  |  | WhisperProcessorBuilderParentBuilder{get;} |
|  |  | } |

6 changes: 6 additions & 0 deletions
6 [Whisper.net/ModelLoader/IWhisperProcessorModelLoader.cs](#diff-5252ad3d7393f583c6ba43e1dad2f1149fa2ddec7deddd59daa1a12ffd04507e "Whisper.net/ModelLoader/IWhisperProcessorModelLoader.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,6 @@ |
|  |  | ﻿namespaceWhisper.net.ModelLoader; |
|  |  |  |
|  |  | internalinterfaceIWhisperProcessorModelLoader:IDisposable |
|  |  | { |
|  |  | publicIntPtrLoadNativeContext(); |
|  |  | } |

31 changes: 31 additions & 0 deletions
31 [Whisper.net/ModelLoader/WhisperProcessorModelBufferLoader.cs](#diff-c964fd40a014d0a8fb95c8bdeef1bbb186a9f73cdbc7ff9f73f5d228357715d4 "Whisper.net/ModelLoader/WhisperProcessorModelBufferLoader.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,31 @@ |
|  |  | ﻿usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.ModelLoader; |
|  |  |  |
|  |  | internalclassWhisperProcessorModelBufferLoader:IWhisperProcessorModelLoader |
|  |  | { |
|  |  | privatereadonlybyte\[\]buffer; |
|  |  | privatereadonlyGCHandlepinnedBuffer; |
|  |  |  |
|  |  | publicWhisperProcessorModelBufferLoader(byte\[\]buffer) |
|  |  | { |
|  |  | this.buffer=buffer; |
|  |  | pinnedBuffer=GCHandle.Alloc(buffer,GCHandleType.Pinned); |
|  |  | } |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  | pinnedBuffer.Free(); |
|  |  | } |
|  |  |  |
|  |  | publicIntPtrLoadNativeContext() |
|  |  | { |
|  |  | if(Environment.Is64BitProcess) |
|  |  | { |
|  |  | returnNativeMethods.whisper\_init\_from\_buffer\_x64(pinnedBuffer.AddrOfPinnedObject(),buffer.Length); |
|  |  | } |
|  |  |  |
|  |  | returnNativeMethods.whisper\_init\_from\_buffer\_x32(pinnedBuffer.AddrOfPinnedObject(),buffer.Length); |
|  |  | } |
|  |  | } |

23 changes: 23 additions & 0 deletions
23 [Whisper.net/ModelLoader/WhisperProcessorModelFileLoader.cs](#diff-391ba2e3b814aec97ffe67f8e1e5aa8cc92a7a9cb75479351e30cfdfac532899 "Whisper.net/ModelLoader/WhisperProcessorModelFileLoader.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,23 @@ |
|  |  | ﻿usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.ModelLoader; |
|  |  |  |
|  |  | internalsealedclassWhisperProcessorModelFileLoader:IWhisperProcessorModelLoader |
|  |  | { |
|  |  | privatestringpathModel; |
|  |  |  |
|  |  | publicWhisperProcessorModelFileLoader(stringpathModel) |
|  |  | { |
|  |  | this.pathModel=pathModel; |
|  |  | } |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | publicIntPtrLoadNativeContext() |
|  |  | { |
|  |  | returnNativeMethods.whisper\_init\_from\_file(pathModel); |
|  |  | } |
|  |  | } |

144 changes: 144 additions & 0 deletions
144 [Whisper.net/Native/Data.cs](#diff-1cf9c5a5e16673235d3b5319b50959b9f8f5123d117176628c9f6f60e21bafd1 "Whisper.net/Native/Data.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,144 @@ |
|  |  | ﻿usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.Native; |
|  |  |  |
|  |  | internalenumWhisperSamplingStrategy |
|  |  | { |
|  |  | StrategyGreedy,// GreefyDecoder |
|  |  | StrategyBeamSearch,// BeamSearchDecoder |
|  |  | } |
|  |  |  |
|  |  | \[StructLayout(LayoutKind.Sequential)\] |
|  |  | internalstructWhisperParamGreedy |
|  |  | { |
|  |  | // ref: https://github.com/openai/whisper/blob/f82bc59f5ea234d4b97fb2860842ed38519f7e65/whisper/transcribe.py#L264 |
|  |  | publicintBestOf; |
|  |  | } |
|  |  |  |
|  |  | \[StructLayout(LayoutKind.Sequential)\] |
|  |  | internalstructWhisperParamBeamSearch |
|  |  | { |
|  |  | publicintBeamSize; |
|  |  |  |
|  |  | // Note: not implemented, ref: https://arxiv.org/pdf/2204.05424.pdf |
|  |  | publicfloatPatience; |
|  |  | } |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl)\] |
|  |  | internaldelegatevoidWhisperNewSegmentCallback(IntPtrctx,intn\_new,IntPtruser\_data); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl)\] |
|  |  | internaldelegateboolWhisperEncoderBeginCallback(IntPtrctx,IntPtruser\_data); |
|  |  |  |
|  |  |  |
|  |  | \[StructLayout(LayoutKind.Sequential)\] |
|  |  | internalstructWhisperFullParams |
|  |  | { |
|  |  | publicWhisperSamplingStrategyStrategy; |
|  |  |  |
|  |  | publicintThreads; |
|  |  |  |
|  |  | // max tokens to use from past text as prompt for the decoder |
|  |  | publicintMaxLastTextTokens; |
|  |  |  |
|  |  | // start offset in ms |
|  |  | publicintOffsetMs; |
|  |  |  |
|  |  | // audio duration to process in ms |
|  |  | publicintDurationMs; |
|  |  |  |
|  |  | publicbyteTranslate; |
|  |  |  |
|  |  | // Do not use past transcription (if any) as prompt for the decoder |
|  |  | publicbyteNoContext; |
|  |  |  |
|  |  | //force single segment output (useful for streaming) |
|  |  | publicbyteSingleSegment; |
|  |  |  |
|  |  | // print special tokens (e.g. <SOT>, <EOT>, <BEG>, etc.) |
|  |  | publicbytePrintSpecialTokens; |
|  |  |  |
|  |  | //print progress information |
|  |  | publicbytePrintProgress; |
|  |  |  |
|  |  | // print results from within whisper.cpp (avoid it, use callback instead) |
|  |  | publicbytePrintResults; |
|  |  |  |
|  |  | // print timestamps for each text segment when printing real-time |
|  |  | publicbytePrintTimestamps; |
|  |  |  |
|  |  |  |
|  |  | // \[EXPERIMENTAL\] token-level timestamps |
|  |  | // enable token-level timestamps |
|  |  | publicbyteUseTokenTimestamps; |
|  |  |  |
|  |  | // timestamp token probability threshold (~0.01) |
|  |  | publicfloatTokenTimestampsThreshold; |
|  |  |  |
|  |  | // timestamp token sum probability threshold (~0.01) |
|  |  | publicfloatTokenTimestampsSumThreshold; |
|  |  |  |
|  |  | // max segment length in characters |
|  |  | publicintMaxSegmentLength; |
|  |  |  |
|  |  | // max tokens per segment (0 = no limit) |
|  |  | publicintMaxTokensPerSegment; |
|  |  |  |
|  |  | // \[EXPERIMENTAL\] speed-up techniques |
|  |  | // note: these can significantly reduce the quality of the output |
|  |  | // speed-up the audio by 2x using Phase Vocoder |
|  |  | publicbyteSpeedUp2x; |
|  |  |  |
|  |  | // overwrite the audio context size (0 = use default) |
|  |  | publicintAudioContextSize; |
|  |  |  |
|  |  | // tokens to provide to the whisper decoder as initial prompt |
|  |  | // these are prepended to any existing text context from a previous call |
|  |  | publicIntPtrPromptTokens; |
|  |  |  |
|  |  | publicintPromptNTokens; |
|  |  |  |
|  |  | // for auto-detection, set to nullptr, "" or "auto" |
|  |  | publicIntPtrLanguage; |
|  |  |  |
|  |  | // common decoding parameters: |
|  |  | publicbyteSuppressBlank; |
|  |  |  |
|  |  | // common decoding parameters: |
|  |  | // ref: https://github.com/openai/whisper/blob/f82bc59f5ea234d4b97fb2860842ed38519f7e65/whisper/decoding.py#L89 |
|  |  | publicfloatTemperature; |
|  |  |  |
|  |  | // ref: https://github.com/openai/whisper/blob/f82bc59f5ea234d4b97fb2860842ed38519f7e65/whisper/decoding.py#L97 |
|  |  | publicfloatMaxInitialTs; |
|  |  |  |
|  |  | // ref: https://github.com/openai/whisper/blob/f82bc59f5ea234d4b97fb2860842ed38519f7e65/whisper/transcribe.py#L267 |
|  |  | publicfloatLengthPenalty; |
|  |  |  |
|  |  | // fallback parameters |
|  |  | // ref: https://github.com/openai/whisper/blob/f82bc59f5ea234d4b97fb2860842ed38519f7e65/whisper/transcribe.py#L274-L278 |
|  |  | publicfloatTemperatureInc; |
|  |  |  |
|  |  | publicfloatEntropyThreshhold; |
|  |  |  |
|  |  | publicfloatLogProbThreshhold; |
|  |  |  |
|  |  | // Note: not implemented yet. |
|  |  | publicfloatNoSpeechThreshhold; |
|  |  |  |
|  |  | publicWhisperParamGreedyWhisperParamGreedy; |
|  |  |  |
|  |  | publicWhisperParamBeamSearchWhisperParamBeamSearch; |
|  |  |  |
|  |  | publicIntPtrOnNewSegment; |
|  |  |  |
|  |  | publicIntPtrOnNewSegmentUserData; |
|  |  |  |
|  |  | publicIntPtrOnEncoderBegin; |
|  |  |  |
|  |  | publicIntPtrOnEncoderBeginUserData; |
|  |  | } |
|  |  |  |
|  |  | \[StructLayout(LayoutKind.Sequential)\] |
|  |  | internalstructWhisperContext |
|  |  | { |
|  |  | } |

50 changes: 50 additions & 0 deletions
50 [Whisper.net/Native/NativeLibraryLoader.cs](#diff-299cf02945870f933c386aafa29a7d8f9ea2be54e7cfbf010d181113ac954831 "Whisper.net/Native/NativeLibraryLoader.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,50 @@ |
|  |  | ﻿usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.Native |
|  |  | { |
|  |  | internalstaticclassNativeLibraryLoader |
|  |  | { |
|  |  | internalstaticboolLoadNativeLibrary() |
|  |  | { |
|  |  | vararchitecture=Environment.Is64BitProcess?"x64":"x86"; |
|  |  | var(platform,extension)=Environment.OSVersion.Platformswitch |
|  |  | { |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.Windows)=>("win","dll"), |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.Linux)=>("linux","so"), |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.OSX)=>("osx","dylib"), |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Unsupported OS platform, architecture: {RuntimeInformation.OSArchitecture}") |
|  |  | }; |
|  |  |  |
|  |  | Console.WriteLine(platform); |
|  |  |  |
|  |  | varassemblySearchPath=string.IsNullOrEmpty(AppDomain.CurrentDomain.RelativeSearchPath) |
|  |  | ?Path.GetDirectoryName(typeof(NativeMethods).Assembly.Location)! |
|  |  | :AppDomain.CurrentDomain.RelativeSearchPath; |
|  |  |  |
|  |  | varpath=Path.Combine(assemblySearchPath,"runtimes",$"{platform}-{architecture}",$"whisper.{extension}"); |
|  |  | if(!File.Exists(path)) |
|  |  | { |
|  |  | returnfalse; |
|  |  | } |
|  |  |  |
|  |  | if(platform=="win") |
|  |  | { |
|  |  | returnLoadLibrary(path)!=IntPtr.Zero; |
|  |  | } |
|  |  | if(platform=="linux"\|\|platform=="osx") |
|  |  | { |
|  |  | // open with rtls lazy flag |
|  |  | varresult=dlopen(path,0x00001); |
|  |  | returnresult!=IntPtr.Zero; |
|  |  | } |
|  |  |  |
|  |  | thrownewPlatformNotSupportedException("Currently the platform is not supported"); |
|  |  | } |
|  |  |  |
|  |  | \[DllImport("kernel32",SetLastError=true,CharSet=CharSet.Auto)\] |
|  |  | privatestaticexternIntPtrLoadLibrary(\[MarshalAs(UnmanagedType.LPTStr)\]stringlpFileName); |
|  |  |  |
|  |  | \[DllImport("libdl",ExactSpelling=true,CharSet=CharSet.Auto)\] |
|  |  | publicstaticexternIntPtrdlopen(stringfilename,intflags); |
|  |  | } |
|  |  | } |

40 changes: 40 additions & 0 deletions
40 [Whisper.net/Native/NativeMethods.cs](#diff-e9c9166c05959ed2714592bd8709b71e077afe80751ca5be9f76bf4582aba4fe "Whisper.net/Native/NativeMethods.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,40 @@ |
|  |  | ﻿usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.Native |
|  |  | { |
|  |  | internalstaticclassNativeMethods |
|  |  | { |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_file(stringpath); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,EntryPoint="whisper\_init\_from\_buffer",CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_x64(IntPtrbuffer,longbuffer\_size); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,EntryPoint="whisper\_init\_from\_buffer",CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_x32(IntPtrbuffer,intbuffer\_size); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternWhisperFullParamswhisper\_full\_default\_params(WhisperSamplingStrategystrategy); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full(IntPtrcontext,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_segments(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t0(IntPtrcontext,intindex); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t1(IntPtrcontext,intindex); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_get\_segment\_text(IntPtrcontext,intindex); |
|  |  |  |
|  |  | \[DllImport("whisper",CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_tokenize(IntPtrcontext,IntPtrtext,IntPtrtokens,intnMaxTokens); |
|  |  | } |
|  |  | } |

15 changes: 15 additions & 0 deletions
15 [Whisper.net/SamplingStrategy/BeamSearchSamplingStrategy.cs](#diff-cc09e1f074b36df96e9d16d8967dd6058762dad95f9af9fce9b2026216821a58 "Whisper.net/SamplingStrategy/BeamSearchSamplingStrategy.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,15 @@ |
|  |  | ﻿usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | internalclassBeamSearchSamplingStrategy:IWhisperSamplingStrategy |
|  |  | { |
|  |  | publicWhisperSamplingStrategyGetNativeStrategy() |
|  |  | { |
|  |  | returnWhisperSamplingStrategy.StrategyBeamSearch; |
|  |  | } |
|  |  |  |
|  |  | publicint?BeamSize{get;set;} |
|  |  |  |
|  |  | publicfloat?Patience{get;set;} |
|  |  | } |

13 changes: 13 additions & 0 deletions
13 [Whisper.net/SamplingStrategy/GreedySamplingStrategy.cs](#diff-f26bf9ff05d83ebfe80767b90e1388ce70ec37674737f14b260e71b87f50ee98 "Whisper.net/SamplingStrategy/GreedySamplingStrategy.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,13 @@ |
|  |  | ﻿usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | internalclassGreedySamplingStrategy:IWhisperSamplingStrategy |
|  |  | { |
|  |  | publicWhisperSamplingStrategyGetNativeStrategy() |
|  |  | { |
|  |  | returnWhisperSamplingStrategy.StrategyGreedy; |
|  |  | } |
|  |  |  |
|  |  | publicint?BestOf{get;set;} |
|  |  | } |

8 changes: 8 additions & 0 deletions
8 [Whisper.net/SamplingStrategy/IWhisperSamplingStrategy.cs](#diff-33a6f1c5112ade9bc04be3ed94320627578a0c25dd0444ef3055171d509a7c69 "Whisper.net/SamplingStrategy/IWhisperSamplingStrategy.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,8 @@ |
|  |  | ﻿usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | internalinterfaceIWhisperSamplingStrategy |
|  |  | { |
|  |  | publicWhisperSamplingStrategyGetNativeStrategy(); |
|  |  | } |

15 changes: 15 additions & 0 deletions
15 [Whisper.net/Wave/WaveExceptions.cs](#diff-246504253bac98d6cc1e9e0a275633efd5eec427dabb9cada86265aebacdf5ec "Whisper.net/Wave/WaveExceptions.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,15 @@ |
|  |  | ﻿namespaceWhisper.net.Wave; |
|  |  |  |
|  |  | publicclassCorruptedWaveException:Exception |
|  |  | { |
|  |  | publicCorruptedWaveException(string?message):base(message) |
|  |  | { |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | publicclassNotSupportedWaveException:Exception |
|  |  | { |
|  |  | publicNotSupportedWaveException(string?message):base(message) |
|  |  | { |
|  |  | } |
|  |  | } |

167 changes: 167 additions & 0 deletions
167 [Whisper.net/Wave/WaveParser.cs](#diff-7d672ed0d352a5333188c670a7ad98b9721a951fdf5fe73dee5ed922830ad5de "Whisper.net/Wave/WaveParser.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,167 @@ |
|  |  | ﻿namespaceWhisper.net.Wave; |
|  |  |  |
|  |  | internalclassWaveParser |
|  |  | { |
|  |  | privatereadonlyStreamwaveStream; |
|  |  | privatereadonlyushortchannels; |
|  |  | privatereadonlyuintsampleRate; |
|  |  | privatereadonlyushortbitsPerSample; |
|  |  | privatereadonlyuintdataChunkSize; |
|  |  | privatereadonlylongdataChunkPosition; |
|  |  | privatereadonlylongstreamLength; |
|  |  |  |
|  |  | publicWaveParser(StreamwaveStream) |
|  |  | { |
|  |  | this.waveStream=waveStream; |
|  |  | //Read RIFF Header |
|  |  | varreader=newBinaryReader(waveStream); |
|  |  | varriff=reader.ReadChars(4); |
|  |  | if(riff\[0\]!='R'\|\|riff\[1\]!='I'\|\|riff\[2\]!='F'\|\|riff\[3\]!='F') |
|  |  | { |
|  |  | thrownewCorruptedWaveException("Invalid wave file RIFF header."); |
|  |  | } |
|  |  |  |
|  |  | // Read FileSize |
|  |  | varfileSize=reader.ReadInt32(); |
|  |  |  |
|  |  | if(fileSize>0) |
|  |  | { |
|  |  | streamLength=fileSize; |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | streamLength=waveStream.Length; |
|  |  | } |
|  |  |  |
|  |  | // Read Wave and Fmt tags |
|  |  | varwave=reader.ReadChars(8); |
|  |  | if(wave\[0\]!='W'\|\|wave\[1\]!='A'\|\|wave\[2\]!='V'\|\|wave\[3\]!='E'\|\|wave\[4\]!='f'\|\|wave\[5\]!='m'\|\|wave\[6\]!='t'\|\|wave\[7\]!=' ') |
|  |  | { |
|  |  | thrownewCorruptedWaveException("Invalid wave file header."); |
|  |  | } |
|  |  |  |
|  |  | // Read Format Chunk Size |
|  |  | varformatChunkSize=reader.ReadInt32(); |
|  |  | if(formatChunkSize<0) |
|  |  | { |
|  |  | thrownewCorruptedWaveException("Invalid wave format size."); |
|  |  | } |
|  |  | // Read Format |
|  |  | varformat=reader.ReadUInt16(); |
|  |  | if(format!=1) |
|  |  | { |
|  |  | thrownewCorruptedWaveException("Unsupported wave file"); |
|  |  | } |
|  |  |  |
|  |  | channels=reader.ReadUInt16(); |
|  |  | sampleRate=reader.ReadUInt32(); |
|  |  | if(sampleRate!=16000) |
|  |  | { |
|  |  | thrownewNotSupportedWaveException("Only 16KHz sample rate is supported."); |
|  |  | } |
|  |  | varaverageBytesRate=reader.ReadUInt32(); |
|  |  | varblockAllign=reader.ReadUInt16(); |
|  |  |  |
|  |  | bitsPerSample=reader.ReadUInt16(); |
|  |  | if(bitsPerSample!=16) |
|  |  | { |
|  |  | thrownewNotSupportedWaveException("Only 16 bits per sample is supported."); |
|  |  | } |
|  |  | // Until now we have read 16 bytes in format, the rest is cbSize, averageBytesRate, and is ignored for now. |
|  |  | if(formatChunkSize>16) |
|  |  | { |
|  |  | if(waveStream.CanSeek) |
|  |  | { |
|  |  | waveStream.Seek(formatChunkSize-16,SeekOrigin.Current); |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | \_=reader.ReadBytes((int)(formatChunkSize-16)); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | // Seek Data Chunk |
|  |  | varnextChunk=reader.ReadChars(4); |
|  |  | while(nextChunk\[0\]!='d'\|\|nextChunk\[1\]!='a'\|\|nextChunk\[2\]!='t'\|\|nextChunk\[3\]!='a') |
|  |  | { |
|  |  | varchunkSize=reader.ReadInt32(); |
|  |  | if(chunkSize<0) |
|  |  | { |
|  |  | thrownewCorruptedWaveException("Invalid wave chunk size."); |
|  |  | } |
|  |  | if(waveStream.CanSeek) |
|  |  | { |
|  |  | waveStream.Seek(chunkSize,SeekOrigin.Current); |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | \_=reader.ReadBytes(chunkSize); |
|  |  | } |
|  |  | nextChunk=reader.ReadChars(4); |
|  |  | } |
|  |  |  |
|  |  | dataChunkSize=reader.ReadUInt32(); |
|  |  | dataChunkPosition=waveStream.Position; |
|  |  | } |
|  |  |  |
|  |  | publicintGetSamplesCount() |
|  |  | { |
|  |  | return(int)(dataChunkSize/2/channels); |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Returns the average samples from all channels. |
|  |  | /// </summary> |
|  |  | /// <returns></returns> |
|  |  | publicfloat\[\]GetAvgSamples() |
|  |  | { |
|  |  | varreader=GetDataReader(); |
|  |  | varsamplesCount=GetSamplesCount(); |
|  |  | varsamples=newfloat\[samplesCount\]; |
|  |  | longsampleSum; |
|  |  |  |
|  |  | for(inti=0;i<samplesCount;i++) |
|  |  | { |
|  |  | sampleSum=0; |
|  |  | for(varcurrentChannel=0;currentChannel<channels;currentChannel++) |
|  |  | { |
|  |  | sampleSum+=reader.ReadInt16(); |
|  |  | } |
|  |  | samples\[i\]=(sampleSum/4)/32768.0f; |
|  |  | } |
|  |  | returnsamples; |
|  |  | } |
|  |  |  |
|  |  | publicfloat\[\]GetChannelSamples(intchannelIndex=0) |
|  |  | { |
|  |  | varreader=GetDataReader(); |
|  |  | varsamplesCount=GetSamplesCount(); |
|  |  | varsamples=newfloat\[samplesCount\]; |
|  |  |  |
|  |  | for(inti=0;i<samplesCount;i++) |
|  |  | { |
|  |  | for(varcurrentChannel=0;currentChannel<channels;currentChannel++) |
|  |  | { |
|  |  | if(channelIndex==currentChannel) |
|  |  | { |
|  |  | samples\[i\]=reader.ReadInt16()/32768.0f; |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | \_=reader.ReadInt16(); |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | returnsamples; |
|  |  | } |
|  |  |  |
|  |  | privateBinaryReaderGetDataReader() |
|  |  | { |
|  |  | varreader=newBinaryReader(waveStream); |
|  |  | if(waveStream.Position!=dataChunkPosition) |
|  |  | { |
|  |  | waveStream.Seek(dataChunkPosition,SeekOrigin.Begin); |
|  |  | } |
|  |  | returnreader; |
|  |  | } |
|  |  | } |

42 changes: 42 additions & 0 deletions
42 [Whisper.net/Whisper.net.csproj](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8 "Whisper.net/Whisper.net.csproj")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,42 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk"> |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <TargetFrameworks>netstandard2.0</TargetFrameworks> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <LangVersion>10</LangVersion> |
|  |  | <Version>1.2.0</Version> |
|  |  | <Authors>Sandro Hanea</Authors> |
|  |  | <Description>Cross-platform dotnet bindings for Whisper.</Description> |
|  |  | <PackageProjectUrl>https://github.com/sandrohanea/whisper.net</PackageProjectUrl> |
|  |  | <RepositoryUrl>https://github.com/sandrohanea/whisper.net</RepositoryUrl> |
|  |  | <RepositoryType>GIT</RepositoryType> |
|  |  | <AllowUnsafeBlocks>true</AllowUnsafeBlocks> |
|  |  | <PackageLicenseFile>LICENSE</PackageLicenseFile> |
|  |  | <PackageReadmeFile>readme.md</PackageReadmeFile> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <NoneInclude="..\\LICENSE"Pack="true"PackagePath=""/> |
|  |  | <NoneInclude="..\\readme.md"Pack="true"PackagePath=""/> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <ContentInclude="runtimes\\linux-x64\\whisper.so"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | <ContentInclude="runtimes\\osx-x64\\whisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | <ContentInclude="runtimes\\win-x64\\whisper.dll"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | </Content> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | </Project> |

284 changes: 284 additions & 0 deletions
284 [Whisper.net/WhisperProcessor.cs](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050 "Whisper.net/WhisperProcessor.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,284 @@ |
|  |  | ﻿usingSystem.Runtime.InteropServices; |
|  |  | usingSystem.Text; |
|  |  | usingWhisper.net.Native; |
|  |  | usingWhisper.net.SamplingStrategy; |
|  |  | usingWhisper.net.Wave; |
|  |  | usingstaticSystem.Net.Mime.MediaTypeNames; |
|  |  |  |
|  |  | namespaceWhisper.net |
|  |  | { |
|  |  | publicsealedclassWhisperProcessor:IDisposable |
|  |  | { |
|  |  | privateconstbytetrueByte=1; |
|  |  | privateconstbytefalseByte=0; |
|  |  |  |
|  |  | privatestaticreadonlyLazy<bool>libraryLoaded=new(()=> |
|  |  | { |
|  |  | returnNativeLibraryLoader.LoadNativeLibrary(); |
|  |  | },true); |
|  |  |  |
|  |  | privatereadonlyIntPtrcurrentWhisperContext; |
|  |  | privatereadonlyWhisperProcessorOptionsoptions; |
|  |  |  |
|  |  | internalWhisperProcessor(WhisperProcessorOptionsoptions) |
|  |  | { |
|  |  | if(!libraryLoaded.Value) |
|  |  | { |
|  |  | thrownewException("Failed to load native whisper library."); |
|  |  | } |
|  |  |  |
|  |  | currentWhisperContext=options.ModelLoader!.LoadNativeContext(); |
|  |  | this.options=options; |
|  |  | } |
|  |  |  |
|  |  | publicvoidProcess(StreamwaveStream) |
|  |  | { |
|  |  | varwaveParser=newWaveParser(waveStream); |
|  |  |  |
|  |  | varsamples=waveParser.GetAvgSamples(); |
|  |  |  |
|  |  | var(whisperParams,unmanagedHGlobals)=GetWhisperFullParams(); |
|  |  |  |
|  |  | try |
|  |  | { |
|  |  | unsafe |
|  |  | { |
|  |  | fixed (float\*pData=samples) |
|  |  | { |
|  |  | NativeMethods.whisper\_full(currentWhisperContext,whisperParams,(IntPtr)pData,samples.Length); |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | finally |
|  |  | { |
|  |  | foreach(varunmanagedHGlobalinunmanagedHGlobals) |
|  |  | { |
|  |  | Marshal.FreeHGlobal(unmanagedHGlobal); |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | private(WhisperFullParams,List<IntPtr>)GetWhisperFullParams() |
|  |  | { |
|  |  | varunmanagedHGlobals=newList<IntPtr>(); |
|  |  |  |
|  |  | varstrategy=options.SamplingStrategy.GetNativeStrategy(); |
|  |  | varwhisperParams=NativeMethods.whisper\_full\_default\_params(strategy); |
|  |  |  |
|  |  | whisperParams.Strategy=strategy; |
|  |  |  |
|  |  | if(options.Threads.HasValue) |
|  |  | { |
|  |  | whisperParams.Threads=options.Threads.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.MaxLastTextTokens.HasValue) |
|  |  | { |
|  |  | whisperParams.MaxLastTextTokens=options.MaxLastTextTokens.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.Offset.HasValue) |
|  |  | { |
|  |  | whisperParams.OffsetMs=(int)options.Offset.Value.TotalMilliseconds; |
|  |  | } |
|  |  |  |
|  |  | if(options.Duration.HasValue) |
|  |  | { |
|  |  | whisperParams.DurationMs=(int)options.Duration.Value.TotalMilliseconds; |
|  |  | } |
|  |  |  |
|  |  | if(options.Translate.HasValue) |
|  |  | { |
|  |  | whisperParams.Translate=options.Translate.Value?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | if(options.NoContext.HasValue) |
|  |  | { |
|  |  | whisperParams.NoContext=options.NoContext.Value?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | if(options.SingleSegment.HasValue) |
|  |  | { |
|  |  | whisperParams.SingleSegment=options.SingleSegment.Value?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | if(options.PrintSpecialTokens.HasValue) |
|  |  | { |
|  |  | whisperParams.PrintSpecialTokens=options.PrintSpecialTokens.Value?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | if(options.PrintProgress.HasValue) |
|  |  | { |
|  |  | whisperParams.PrintProgress=options.PrintProgress.Value?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | if(options.PrintResults.HasValue) |
|  |  | { |
|  |  | whisperParams.PrintResults=options.PrintResults.Value?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | if(options.UseTokenTimestamps.HasValue) |
|  |  | { |
|  |  | whisperParams.UseTokenTimestamps=options.UseTokenTimestamps.Value?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | if(options.TokenTimestampsThreshold.HasValue) |
|  |  | { |
|  |  | whisperParams.TokenTimestampsThreshold=options.TokenTimestampsThreshold.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.TokenTimestampsSumThreshold.HasValue) |
|  |  | { |
|  |  | whisperParams.TokenTimestampsSumThreshold=options.TokenTimestampsSumThreshold.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.MaxSegmentLength.HasValue) |
|  |  | { |
|  |  | whisperParams.MaxSegmentLength=options.MaxSegmentLength.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.MaxTokensPerSegment.HasValue) |
|  |  | { |
|  |  | whisperParams.MaxTokensPerSegment=options.MaxTokensPerSegment.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.SpeedUp2x.HasValue) |
|  |  | { |
|  |  | whisperParams.SpeedUp2x=options.SpeedUp2x.Value?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | if(options.AudioContextSize.HasValue) |
|  |  | { |
|  |  | whisperParams.AudioContextSize=options.AudioContextSize.Value; |
|  |  | } |
|  |  |  |
|  |  | if(!string.IsNullOrEmpty(options.Prompt)) |
|  |  | { |
|  |  | vartokenMaxLength=options.Prompt!.Length+1; |
|  |  |  |
|  |  | varpromptTextPtr=Marshal.StringToHGlobalAnsi(options.Prompt); |
|  |  | unmanagedHGlobals.Add(promptTextPtr); |
|  |  |  |
|  |  | varpromptTokens=Marshal.AllocHGlobal(tokenMaxLength); |
|  |  | unmanagedHGlobals.Add(promptTokens); |
|  |  |  |
|  |  | vartokens=NativeMethods.whisper\_tokenize(currentWhisperContext,promptTextPtr,promptTokens,tokenMaxLength); |
|  |  |  |
|  |  | if(tokens==-1) |
|  |  | { |
|  |  | thrownewApplicationException("Cannot tokenize prompt text."); |
|  |  | } |
|  |  |  |
|  |  | whisperParams.PromptTokens=promptTokens; |
|  |  | whisperParams.PromptNTokens=tokens; |
|  |  | } |
|  |  | //TODO: Fix prompt |
|  |  |  |
|  |  | if(options.Language!=null) |
|  |  | { |
|  |  | varlanguagePtr=Marshal.StringToHGlobalAnsi(options.Language); |
|  |  | unmanagedHGlobals.Add(languagePtr); |
|  |  | whisperParams.Language=languagePtr; |
|  |  | } |
|  |  |  |
|  |  | if(options.SuppressBlank.HasValue) |
|  |  | { |
|  |  | whisperParams.SuppressBlank=options.SuppressBlank.Value?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | if(options.Temperature.HasValue) |
|  |  | { |
|  |  | whisperParams.Temperature=options.Temperature.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.MaxInitialTs.HasValue) |
|  |  | { |
|  |  | whisperParams.MaxInitialTs=options.MaxInitialTs.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.LengthPenalty.HasValue) |
|  |  | { |
|  |  | whisperParams.LengthPenalty=options.LengthPenalty.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.TemperatureInc.HasValue) |
|  |  | { |
|  |  | whisperParams.TemperatureInc=options.TemperatureInc.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.EntropyThreshhold.HasValue) |
|  |  | { |
|  |  | whisperParams.EntropyThreshhold=options.EntropyThreshhold.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.LogProbThreshhold.HasValue) |
|  |  | { |
|  |  | whisperParams.LogProbThreshhold=options.LogProbThreshhold.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.NoSpeechThreshhold.HasValue) |
|  |  | { |
|  |  | whisperParams.NoSpeechThreshhold=options.NoSpeechThreshhold.Value; |
|  |  | } |
|  |  |  |
|  |  | if(options.SamplingStrategyisGreedySamplingStrategygreedySamplingStrategy) |
|  |  | { |
|  |  | if(greedySamplingStrategy.BestOf.HasValue) |
|  |  | { |
|  |  | whisperParams.WhisperParamGreedy.BestOf=greedySamplingStrategy.BestOf.Value; |
|  |  | } |
|  |  | } |
|  |  | if(options.SamplingStrategyisBeamSearchSamplingStrategybeamSamplingStrategy) |
|  |  | { |
|  |  | if(beamSamplingStrategy.BeamSize.HasValue) |
|  |  | { |
|  |  | whisperParams.WhisperParamBeamSearch.BeamSize=beamSamplingStrategy.BeamSize.Value; |
|  |  | } |
|  |  |  |
|  |  | if(beamSamplingStrategy.Patience.HasValue) |
|  |  | { |
|  |  | whisperParams.WhisperParamBeamSearch.Patience=beamSamplingStrategy.Patience.Value; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | whisperParams.OnNewSegment=Marshal.GetFunctionPointerForDelegate(newWhisperNewSegmentCallback(OnNewSegment)); |
|  |  | whisperParams.OnEncoderBegin=Marshal.GetFunctionPointerForDelegate(newWhisperEncoderBeginCallback(OnEncoderBegin)); |
|  |  |  |
|  |  | return(whisperParams,unmanagedHGlobals); |
|  |  | } |
|  |  |  |
|  |  | privateboolOnEncoderBegin(IntPtrctx,IntPtruser\_data) |
|  |  | { |
|  |  | varencoderBeginArgs=newOnEncoderBeginEventArgs(); |
|  |  | for(varhandlerIndex=0;handlerIndex<options.OnEncoderBeginEventHandlers.Count;handlerIndex++) |
|  |  | { |
|  |  | options.OnEncoderBeginEventHandlers\[handlerIndex\]?.Invoke(this,encoderBeginArgs); |
|  |  | } |
|  |  | returntrue; |
|  |  | } |
|  |  |  |
|  |  | privatevoidOnNewSegment(IntPtrctx,intn\_new,IntPtruser\_data) |
|  |  | { |
|  |  | varsegments=NativeMethods.whisper\_full\_n\_segments(ctx); |
|  |  |  |
|  |  | for(vari=0;i<segments;i++) |
|  |  | { |
|  |  | vart1=TimeSpan.FromMilliseconds(NativeMethods.whisper\_full\_get\_segment\_t1(ctx,i)\*10); |
|  |  | vart0=TimeSpan.FromMilliseconds(NativeMethods.whisper\_full\_get\_segment\_t0(ctx,i)\*10); |
|  |  | vartextAnsi=Marshal.PtrToStringAnsi(NativeMethods.whisper\_full\_get\_segment\_text(ctx,i)); |
|  |  | vareventHandlerArgs=newOnSegmentEventArgs(textAnsi,t0,t1); |
|  |  |  |
|  |  | for(varhandlerIndex=0;handlerIndex<options.OnSegmentEventHandlers.Count;handlerIndex++) |
|  |  | { |
|  |  | options.OnSegmentEventHandlers\[handlerIndex\]?.Invoke(this,eventHandlerArgs); |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  | NativeMethods.whisper\_free(currentWhisperContext); |
|  |  | options.ModelLoader!.Dispose(); |
|  |  | } |
|  |  | } |
|  |  | } |

514 changes: 514 additions & 0 deletions
514 [Whisper.net/WhisperProcessorBuilder.cs](#diff-a0a232715f7053af60990efeed3b1a9e106ca91754c45b922ec12e1e6aa551ab "Whisper.net/WhisperProcessorBuilder.cs")

Show comments


Edit file

Delete file


Load diff

Large diffs are not rendered by default.


Oops, something went wrong.
Retry

26 changes: 26 additions & 0 deletions
26 [Whisper.net/WhisperProcessorEvents.cs](#diff-8d962f571b86e84685aea84f551bac0da3cc9b3d25c1636af3f750e2961ed72a "Whisper.net/WhisperProcessorEvents.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,26 @@ |
|  |  | ﻿namespaceWhisper.net; |
|  |  |  |
|  |  | publicdelegatevoidOnSegmentEventHandler(objectsender,OnSegmentEventArgse); |
|  |  |  |
|  |  | publicdelegatevoidOnEncoderBeginEventHandler(objectsender,OnEncoderBeginEventArgse); |
|  |  |  |
|  |  | publicclassOnEncoderBeginEventArgs:EventArgs |
|  |  | { |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | publicclassOnSegmentEventArgs:EventArgs |
|  |  | { |
|  |  | publicOnSegmentEventArgs(string?segment,TimeSpanstart,TimeSpanend) |
|  |  | { |
|  |  | Segment=segment; |
|  |  | Start=start; |
|  |  | End=end; |
|  |  | } |
|  |  |  |
|  |  | publicstring?Segment{get;} |
|  |  |  |
|  |  | publicTimeSpanStart{get;} |
|  |  |  |
|  |  | publicTimeSpanEnd{get;} |
|  |  | } |

69 changes: 69 additions & 0 deletions
69 [Whisper.net/WhisperProcessorOptions.cs](#diff-5caafefd7f3259443d330cd7cf75203c696a3d4c0c794619770b6c56f720d3ac "Whisper.net/WhisperProcessorOptions.cs")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,69 @@ |
|  |  | ﻿usingWhisper.net.ModelLoader; |
|  |  | usingWhisper.net.SamplingStrategy; |
|  |  |  |
|  |  | namespaceWhisper.net; |
|  |  |  |
|  |  | internalsealedclassWhisperProcessorOptions |
|  |  | { |
|  |  | publicIWhisperSamplingStrategySamplingStrategy{get;set;}=newGreedySamplingStrategy(); |
|  |  | publicIWhisperProcessorModelLoader?ModelLoader{get;set;} |
|  |  |  |
|  |  | publicint?Threads{get;set;} |
|  |  |  |
|  |  | publicint?MaxLastTextTokens{get;set;} |
|  |  |  |
|  |  | publicTimeSpan?Offset{get;set;} |
|  |  |  |
|  |  | publicTimeSpan?Duration{get;set;} |
|  |  |  |
|  |  | publicbool?Translate{get;set;} |
|  |  |  |
|  |  | publicbool?NoContext{get;set;} |
|  |  |  |
|  |  | publicbool?SingleSegment{get;set;} |
|  |  |  |
|  |  | publicbool?PrintSpecialTokens{get;set;} |
|  |  |  |
|  |  | publicbool?PrintProgress{get;set;}=false; |
|  |  |  |
|  |  | publicbool?PrintResults{get;set;} |
|  |  |  |
|  |  | publicbool?PrintTimestamps{get;set;} |
|  |  |  |
|  |  | publicbool?UseTokenTimestamps{get;set;} |
|  |  |  |
|  |  | publicfloat?TokenTimestampsThreshold{get;set;} |
|  |  |  |
|  |  | publicfloat?TokenTimestampsSumThreshold{get;set;} |
|  |  |  |
|  |  | publicint?MaxSegmentLength{get;set;} |
|  |  |  |
|  |  | publicint?MaxTokensPerSegment{get;set;} |
|  |  |  |
|  |  | publicbool?SpeedUp2x{get;set;} |
|  |  | publicint?AudioContextSize{get;set;} |
|  |  |  |
|  |  | publicstring?Prompt{get;set;} |
|  |  |  |
|  |  | publicstring?Language{get;set;} |
|  |  |  |
|  |  | publicbool?SuppressBlank{get;set;} |
|  |  |  |
|  |  | publicfloat?Temperature{get;set;} |
|  |  |  |
|  |  | publicfloat?MaxInitialTs{get;set;} |
|  |  |  |
|  |  | publicfloat?LengthPenalty{get;set;} |
|  |  |  |
|  |  | publicfloat?TemperatureInc{get;set;} |
|  |  |  |
|  |  | publicfloat?EntropyThreshhold{get;set;} |
|  |  |  |
|  |  | publicfloat?LogProbThreshhold{get;set;} |
|  |  |  |
|  |  | publicfloat?NoSpeechThreshhold{get;set;} |
|  |  |  |
|  |  | publicList<OnSegmentEventHandler>OnSegmentEventHandlers{get;set;}=new(); |
|  |  |  |
|  |  | publicList<OnEncoderBeginEventHandler>OnEncoderBeginEventHandlers{get;set;}=new(); |
|  |  | } |

Binary file added
BIN

+564 KB

[Whisper.net/runtimes/linux-x64/whisper.so](#diff-803bf18fac37c2bc6f68209ddf47bdac80ddb43bfac75715927ac80951df5e68 "Whisper.net/runtimes/linux-x64/whisper.so")

Show comments


Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+468 KB

[Whisper.net/runtimes/osx-x64/whisper.dylib](#diff-7b6d26989b65246741714c212574f68c1f272482112d53dec0b06061d90b745a "Whisper.net/runtimes/osx-x64/whisper.dylib")

Show comments


Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+294 KB

[Whisper.net/runtimes/win-x64/whisper.dll](#diff-ddfe979d066198249ee8052deb2c13f568802a12011600636775110e3c9c2487 "Whisper.net/runtimes/win-x64/whisper.dll")

Show comments


Edit file

Delete file


Binary file not shown.


72 changes: 72 additions & 0 deletions
72 [readme.md](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15 "readme.md")

Show comments


Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,72 @@ |
|  |  | \# Whisper.net |
|  |  | Open-Source Whisper.net |
|  |  |  |
|  |  | Dotnet bindings for OpenAI Whisper made possible by \[whisper.cpp\] (https://github.com/ggerganov/whisper.cpp) |
|  |  |  |
|  |  |  |
|  |  | \## Getting started |
|  |  |  |
|  |  | To install Whisper.net, run the following command in the \[Package Manager Console\](http://docs.nuget.org/docs/start-here/using-the-package-manager-console): |
|  |  |  |
|  |  | PM> Install-Package Whisper.net |
|  |  |  |
|  |  | or simply add a package reference in your csproj: |
|  |  |  |
|  |  | \`\`\` |
|  |  | <PackageReference Include="Whisper.net" Version="1.2.0" /> |
|  |  | \`\`\` |
|  |  |  |
|  |  | \## Versioning |
|  |  |  |
|  |  | Each version of Whisper.net is tied to a specific version of Whisper.cpp. The version of Whisper.net is the same as the version of Whisper it is based on. For example, Whisper.net 1.2.0 is based on Whisper 1.2.0. |
|  |  |  |
|  |  | However, there can be cases where Whisper.net patch version is incremented without a corresponding Whisper.cpp version change. This is the case when the changes in Whisper.net are not related to the changes in Whisper.cpp. |
|  |  |  |
|  |  | \## Ggml Models |
|  |  |  |
|  |  | Whisper.net uses Ggml models to perform speech recognition and translation. |
|  |  |  |
|  |  | You can find more about Ggml models \[here\](https://github.com/ggerganov/whisper.cpp/tree/master/models) |
|  |  |  |
|  |  | Also, for easier integration Whisper.net provides a Downloader which is using https://huggingface.co. |
|  |  |  |
|  |  | \`\`\`csharp |
|  |  |  |
|  |  | varmodelName="ggml-base.bin"; |
|  |  | if (!File.Exists(modelName)) |
|  |  | { |
|  |  | usingvarmodelStream=awaitWhisperGgmlDownloader.GetGgmlModelAsync(GgmlType.Base); |
|  |  | usingvarfileWriter=File.OpenWrite(modelName); |
|  |  | awaitmodelStream.CopyToAsync(fileWriter); |
|  |  | } |
|  |  |  |
|  |  | \`\`\` |
|  |  |  |
|  |  | \## Usage |
|  |  |  |
|  |  | \`\`\`csharp |
|  |  |  |
|  |  | usingvarprocessor=WhisperProcessorBuilder.Create() |
|  |  | .WithSegmentEventHandler(OnNewSegment) |
|  |  | .WithFileModel("ggml-base.bin") |
|  |  | .WithTranslate() |
|  |  | .WithLanguage("auto") |
|  |  | .Build(); |
|  |  |  |
|  |  | voidOnNewSegment(objectsender, OnSegmentEventArgse) |
|  |  | { |
|  |  | Console.WriteLine($"CSSS {e.Start} ==\> {e.End} : {e.Segment}"); |
|  |  | } |
|  |  |  |
|  |  | usingvarfileStream=File.OpenRead("yourAudio.wav"); |
|  |  | processor.Process() |
|  |  | \`\`\` |
|  |  |  |
|  |  | \## Documentation |
|  |  |  |
|  |  | You can find the documentation and code samples here: \[https://github.com/sandrohanea/whisper.net\](https://github.com/sandrohanea/whisper.net) |
|  |  |  |
|  |  | \## License |
|  |  |  |
|  |  | MIT Licence |
|  |  | \[https://github.com/sandrohanea/whisper.net/blob/main/LICENSE\](https://github.com/sandrohanea/whisper.net/blob/main/LICENSE) |

1 change: 1 addition & 0 deletions
1 [whisper.cpp](#diff-7b638c730017b16cf40fc5b8d402c8729b9d4cce513b1d1f4d2e07c2e62ed9b4 "whisper.cpp")

Show comments


Submodule [whisper.cpp](https://github.com/ggerganov/whisper.cpp)

added at
[b2083c](/ggerganov/whisper.cpp/tree/b2083c5d02db9a1e6dbb3d58254fd65ebfff4b5d)

Toggle all file notesToggle all file annotations

### 0 comments  on commit `d65983b`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2Fd65983b8502997a5d45d45f98a96ebc44fa6b6dd) to comment.

You can’t perform that action at this time.

---

# Bumping version 1.7.4 in examples · sandrohanea/whisper.net@7b61402  · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumping version 1.7.4 in examples  \#305

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12517787748%2Fworkflow)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12517787748%2Fworkflow)

## Workflow file

# Bumping version 1.7.4 in examples

## Bumping version 1.7.4 in examples \#305

[Usage](/sandrohanea/whisper.net/actions/runs/12517787748/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12517787748/workflow)

#### Workflow file for this run

[.github/workflows/build-all.yml](/sandrohanea/whisper.net/blob/7b61402d6f2cf5b024529fd9b8f2cb10cdbc42a5/.github/workflows/build-all.yml) at
[7b61402](/sandrohanea/whisper.net/commit/7b61402d6f2cf5b024529fd9b8f2cb10cdbc42a5)

[Edit workflow file](/sandrohanea/whisper.net/edit/bump/174/.github/workflows/build-all.yml)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

|     |     |
| --- | --- |
|  | # This workflow will build a .NET project |
|  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |
|  | name: CI (Native + dotnet) |
|  |  |
|  | on: |
|  | push: |
|  | branches: \["main"\] |
|  | pull\_request: |
|  | branches: \["main"\] |
|  | workflow\_dispatch: |
|  | inputs: |
|  | BuildGpuLibs: |
|  | description: 'Enable GPU libraries build and publish' |
|  | required: true |
|  | default: 'false' |
|  | permissions: |
|  | contents: read |
|  | checks: write |
|  |  |
|  | jobs: |
|  | android: |
|  | uses: ./.github/workflows/android-native-build.yml |
|  |  |
|  | macos: |
|  | uses: ./.github/workflows/macos-native-build.yml |
|  |  |
|  | windows: |
|  | uses: ./.github/workflows/windows-native-build.yml |
|  |  |
|  | windows-no-avx: |
|  | uses: ./.github/workflows/windows-noavx-native-build.yml |
|  |  |
|  | wasm: |
|  | uses: ./.github/workflows/wasm-native-build.yml |
|  |  |
|  | linux: |
|  | uses: ./.github/workflows/linux-native-build.yml |
|  |  |
|  | linux-no-avx: |
|  | uses: ./.github/workflows/linux-noavx-native-build.yml |
|  |  |
|  | linux-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-vulkan-native-build.yml |
|  |  |
|  | windows-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-cuda-native-build.yml |
|  |  |
|  | windows-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-vulkan-native-build.yml |
|  |  |
|  | windows-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-openvino-native-build.yml |
|  |  |
|  | linux-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-cuda-native-build.yml |
|  |  |
|  | linux-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-openvino-native-build.yml |
|  |  |
|  | macos-coreml: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/macos-coreml-native-build.yml |
|  |  |
|  | dotnet-build: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet.yml |
|  |  |
|  | dotnet-maui-build-and-test: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet-maui.yml |

You can’t perform that action at this time.

---

# Removed continuous recognition example and replaced it with a link the echosharp (#309) · sandrohanea/whisper.net@a3ec2f8  · GitHub



---

# whisper.net/Makefile at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Makefile

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251) [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)

Dec 26, 2024

[ffc0cdb](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251) · Dec 26, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/Makefile)

343 lines (305 loc) · 27.6 KB

/

# Makefile

Top

## File metadata and controls

- Code

- Blame


343 lines (305 loc) · 27.6 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/Makefile)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

62

63

64

65

66

67

68

69

70

71

72

73

74

75

76

77

78

79

80

81

82

83

84

85

86

87

88

89

90

91

92

93

94

95

96

97

98

99

100

101

102

103

104

105

106

107

108

109

110

111

112

113

114

115

116

117

118

119

120

121

122

123

124

125

126

127

128

129

130

131

132

133

134

135

136

137

138

139

140

141

142

143

144

145

146

147

148

149

150

151

152

153

154

155

156

157

158

159

160

161

162

163

164

165

166

167

168

169

170

171

172

173

174

175

176

177

178

179

180

181

182

183

184

185

186

187

188

189

190

191

192

193

194

195

196

197

198

199

200

201

202

203

204

205

206

207

208

209

210

211

212

213

214

215

216

217

218

219

220

221

222

223

224

225

226

227

228

229

230

231

232

233

234

235

236

237

238

239

240

241

242

243

244

245

246

247

248

249

250

251

252

253

254

255

256

257

258

259

260

261

262

263

264

265

266

267

268

269

270

271

272

273

274

275

276

277

278

279

280

281

282

283

284

285

286

287

288

289

290

291

292

293

294

295

296

297

298

299

300

301

302

303

304

305

306

307

308

309

310

311

312

313

314

315

316

317

318

319

320

321

322

323

324

325

326

327

328

329

330

331

332

333

334

335

336

337

338

339

340

341

342

343

BUILD\_TYPE=Release

CMAKE\_PARAMETERS=-DCMAKE\_BUILD\_TYPE=$(BUILD\_TYPE)

COREML\_SUPPORT=$(CMAKE\_PARAMETERS) -DWHISPER\_COREML=ON -DWHISPER\_COREML\_ALLOW\_FALLBACK=ON

AVX\_SUPPORT=-DGGML\_AVX=ON -DGGML\_AVX2=ON -DGGML\_FMA=ON -DGGML\_F16C=ON

NOAVX\_SUPPORT=-DGGML\_AVX=OFF -DGGML\_AVX2=OFF -DGGML\_FMA=OFF -DGGML\_F16C=OFF

NDK := $(if$(strip$(NDK\_PATH)),$(NDK\_PATH),$(shell test -d $(HOME)/Library/Developer/Xamarin/android-sdk-macosx/ndk-bundle && echo $(HOME)/Library/Developer/Xamarin/android-sdk-macosx/ndk-bundle \|\| echo ""))

nuget:

mkdir -p nupkgs

nuget pack runtimes/Whisper.net.Runtime.nuspec -Version $(VERSION) -OutputDirectory ./nupkgs

dotnet pack Whisper.net/Whisper.net.csproj -p:Version=$(VERSION) -o ./nupkgs -c $(BUILD\_TYPE)

nuget pack runtimes/Whisper.net.Runtime.CoreML.nuspec -Version $(VERSION) -OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.Cuda.Linux.nuspec -Version $(VERSION) -OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.Cuda.Windows.nuspec -Version $(VERSION) -OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.Cuda.nuspec -Version $(VERSION) -OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.Vulkan.nuspec -Version $(VERSION) -OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.OpenVino.nuspec -Version $(VERSION) -OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.NoAvx.nuspec -Version $(VERSION) -OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.AllRuntimes.nuspec -Version $(VERSION) -OutputDirectory ./nupkgs

clean:

rm -rf nupkgs

rm -rf build

rm -rf runtimes

android: android\_x64 android\_x86 android\_arm64-v8a

apple\_x64: copy\_metal macos\_x64

apple\_arm: macos\_arm64 ios maccatalyst\_arm64 ios\_simulator\_arm64 tvos\_simulator\_arm64 tvos

apple\_coreml\_x64: copy\_metal\_coreml macos\_x64\_coreml

apple\_coreml\_arm: macos\_arm64\_coreml ios\_coreml maccatalyst\_arm64\_coreml ios\_simulator\_coreml tvos\_simulator\_coreml tvos\_coreml

linux: linux\_x64 linux\_arm64 linux\_arm

linux\_noavx: linux\_x64\_noavx

linux\_cuda: linux\_x64\_cuda

linux\_vulkan: linux\_x64\_vulkan

copy\_metal:

cp whisper.cpp/ggml/src/ggml-metal/ggml-metal.metal runtimes/Whisper.net.Runtime/ggml-metal.metal

copy\_metal\_coreml:

cp whisper.cpp/ggml/src/ggml-metal/ggml-metal.metal runtimes/Whisper.net.Runtime.CoreML/ggml-metal.metal

wasm:

rm -rf build/wasm

emcmake cmake -S . -B build/wasm -DCMAKE\_BUILD\_TYPE=$(BUILD\_TYPE)

cmake --build build/wasm --config $(BUILD\_TYPE)

mkdir -p runtimes/Whisper.net.Runtime/browser-wasm

cp build/wasm/whisper.cpp/src/libwhisper.a ./runtimes/Whisper.net.Runtime/browser-wasm/libwhisper.a

cp build/wasm/whisper.cpp/ggml/src/libggml-whisper.a ./runtimes/Whisper.net.Runtime/browser-wasm/libggml-whisper.a

cp build/wasm/whisper.cpp/ggml/src/libggml-base-whisper.a ./runtimes/Whisper.net.Runtime/browser-wasm/libggml-base-whisper.a

cp build/wasm/whisper.cpp/ggml/src/libggml-cpu-whisper.a ./runtimes/Whisper.net.Runtime/browser-wasm/libggml-cpu-whisper.a

linux\_x64:

rm -rf build/linux-x64

cmake -S . -B build/linux-x64 -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 $(AVX\_SUPPORT)

cmake --build build/linux-x64 --config $(BUILD\_TYPE)

mkdir -p runtimes/Whisper.net.Runtime/linux-x64

echo'LDD VERSION'

ldd --version

cp build/linux-x64/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime/linux-x64/libwhisper.so

cp build/linux-x64/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime/linux-x64/libggml-whisper.so

cp build/linux-x64/whisper.cpp/ggml/src/libggml-base-whisper.so ./runtimes/Whisper.net.Runtime/linux-x64/libggml-base-whisper.so

cp build/linux-x64/whisper.cpp/ggml/src/libggml-cpu-whisper.so ./runtimes/Whisper.net.Runtime/linux-x64/libggml-cpu-whisper.so

linux\_arm64:

rm -rf build/linux-arm64

cmake -S . -B build/linux-arm64 -DCMAKE\_C\_COMPILER=aarch64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=aarch64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=aarch64

cmake --build build/linux-arm64 --config $(BUILD\_TYPE)

mkdir -p runtimes/Whisper.net.Runtime/linux-arm64

echo'LDD VERSION'

ldd --version

cp build/linux-arm64/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime/linux-arm64/libwhisper.so

cp build/linux-arm64/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime/linux-arm64/libggml-whisper.so

cp build/linux-arm64/whisper.cpp/ggml/src/libggml-base-whisper.so ./runtimes/Whisper.net.Runtime/linux-arm64/libggml-base-whisper.so

cp build/linux-arm64/whisper.cpp/ggml/src/libggml-cpu-whisper.so ./runtimes/Whisper.net.Runtime/linux-arm64/libggml-cpu-whisper.so

linux\_arm:

rm -rf build/linux-arm

cmake -S . -B build/linux-arm -DCMAKE\_C\_COMPILER=arm-linux-gnueabihf-gcc -DCMAKE\_CXX\_COMPILER=arm-linux-gnueabihf-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=arm

cmake --build build/linux-arm --config $(BUILD\_TYPE)

mkdir -p runtimes/Whisper.net.Runtime/linux-arm

echo'LDD VERSION'

ldd --version

cp build/linux-arm/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime/linux-arm/libwhisper.so

cp build/linux-arm/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime/linux-arm/libggml-whisper.so

cp build/linux-arm/whisper.cpp/ggml/src/libggml-base-whisper.so ./runtimes/Whisper.net.Runtime/linux-arm/libggml-base-whisper.so

cp build/linux-arm/whisper.cpp/ggml/src/libggml-cpu-whisper.so ./runtimes/Whisper.net.Runtime/linux-arm/libggml-cpu-whisper.so

linux\_x64\_cuda:

rm -rf build/linux-x64-cuda

cmake -S . -B build/linux-x64-cuda -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 -DGGML\_CUDA=ON $(AVX\_SUPPORT)

cmake --build build/linux-x64-cuda --config $(BUILD\_TYPE)

mkdir -p runtimes/Whisper.net.Runtime.Cuda.Linux/linux-x64

echo'LDD VERSION'

ldd --version

cp build/linux-x64-cuda/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime.Cuda.Linux/linux-x64/libwhisper.so

cp build/linux-x64-cuda/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime.Cuda.Linux/linux-x64/libggml-whisper.so

cp build/linux-x64-cuda/whisper.cpp/ggml/src/libggml-base-whisper.so ./runtimes/Whisper.net.Runtime.Cuda.Linux/linux-x64/libggml-base-whisper.so

cp build/linux-x64-cuda/whisper.cpp/ggml/src/libggml-cpu-whisper.so ./runtimes/Whisper.net.Runtime.Cuda.Linux/linux-x64/libggml-cpu-whisper.so

cp build/linux-x64-cuda/whisper.cpp/ggml/src/ggml-cuda/libggml-cuda-whisper.so ./runtimes/Whisper.net.Runtime.Cuda.Linux/linux-x64/libggml-cuda-whisper.so

linux\_x64\_noavx:

rm -rf build/linux-x64-noavx

cmake -S . -B build/linux-x64-noavx -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 $(NOAVX\_SUPPORT)

cmake --build build/linux-x64-noavx --config $(BUILD\_TYPE)

mkdir -p runtimes/Whisper.net.Runtime.NoAvx/linux-x64

echo'LDD VERSION'

ldd --version

cp build/linux-x64-noavx/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime.NoAvx/linux-x64/libwhisper.so

cp build/linux-x64-noavx/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime.NoAvx/linux-x64/libggml-whisper.so

cp build/linux-x64-noavx/whisper.cpp/ggml/src/libggml-base-whisper.so ./runtimes/Whisper.net.Runtime.NoAvx/linux-x64/libggml-base-whisper.so

cp build/linux-x64-noavx/whisper.cpp/ggml/src/libggml-cpu-whisper.so ./runtimes/Whisper.net.Runtime.NoAvx/linux-x64/libggml-cpu-whisper.so

linux\_x64\_openvino:

rm -rf build/linux-x64-openvino

cmake -S . -B build/linux-x64-openvino -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 -DWHISPER\_OPENVINO=ON $(AVX\_SUPPORT)

cmake --build build/linux-x64-openvino --config $(BUILD\_TYPE)

mkdir -p runtimes/Whisper.net.Runtime.OpenVino/linux-x64

echo'LDD VERSION'

ldd --version

cp build/linux-x64-openvino/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime.OpenVino/linux-x64/libwhisper.so

cp build/linux-x64-openvino/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime.OpenVino/linux-x64/libggml-whisper.so

cp build/linux-x64-openvino/whisper.cpp/ggml/src/libggml-base-whisper.so ./runtimes/Whisper.net.Runtime.OpenVino/linux-x64/libggml-base-whisper.so

cp build/linux-x64-openvino/whisper.cpp/ggml/src/libggml-cpu-whisper.so ./runtimes/Whisper.net.Runtime.OpenVino/linux-x64/libggml-cpu-whisper.so

linux\_x64\_vulkan:

rm -rf build/linux-x64-vulkan

echo"Path is: \`$(PATH)\`"

cmake -S . -B build/linux-x64-vulkan -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 -DGGML\_VULKAN=ON -DVulkan\_INCLUDE\_DIR="$(VULKAN\_SDK)/x86\_64/include" -DVulkan\_LIBRARY="$(VULKAN\_SDK)/x86\_64/lib/libvulkan.so"$(AVX\_SUPPORT)

cmake --build build/linux-x64-vulkan --config $(BUILD\_TYPE)

mkdir -p runtimes/Whisper.net.Runtime.Vulkan/linux-x64

echo'LDD VERSION'

ldd --version

cp build/linux-x64-vulkan/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime.Vulkan/linux-x64/libwhisper.so

cp build/linux-x64-vulkan/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime.Vulkan/linux-x64/libggml-whisper.so

cp build/linux-x64-vulkan/whisper.cpp/ggml/src/libggml-base-whisper.so ./runtimes/Whisper.net.Runtime.Vulkan/linux-x64/libggml-base-whisper.so

cp build/linux-x64-vulkan/whisper.cpp/ggml/src/libggml-cpu-whisper.so ./runtimes/Whisper.net.Runtime.Vulkan/linux-x64/libggml-cpu-whisper.so

cp build/linux-x64-vulkan/whisper.cpp/ggml/src/ggml-vulkan/libggml-vulkan-whisper.so ./runtimes/Whisper.net.Runtime.Vulkan/linux-x64/libggml-vulkan-whisper.so

macos\_x64:

rm -rf build/macos-x64

cmake -S . -DCMAKE\_OSX\_ARCHITECTURES="x86\_64" -DGGML\_METAL=OFF -B build/macos-x64

cmake --build build/macos-x64

mkdir -p runtimes/Whisper.net.Runtime/macos-x64

cp build/macos-x64/whisper.cpp/src/libwhisper.dylib ./runtimes/Whisper.net.Runtime/macos-x64/libwhisper.dylib

cp build/macos-x64/whisper.cpp/ggml/src/libggml-whisper.dylib ./runtimes/Whisper.net.Runtime/macos-x64/libggml-whisper.dylib

cp build/macos-x64/whisper.cpp/ggml/src/libggml-base-whisper.dylib ./runtimes/Whisper.net.Runtime/macos-x64/libggml-base-whisper.dylib

cp build/macos-x64/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib ./runtimes/Whisper.net.Runtime/macos-x64/libggml-cpu-whisper.dylib

cp build/macos-x64/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib ./runtimes/Whisper.net.Runtime/macos-x64/libggml-blas-whisper.dylib

macos\_arm64:

rm -rf build/macos-arm64

cmake -DCMAKE\_OSX\_ARCHITECTURES="arm64" -S . -B build/macos-arm64

cmake --build build/macos-arm64

mkdir -p runtimes/Whisper.net.Runtime/macos-arm64

cp build/macos-arm64/whisper.cpp/src/libwhisper.dylib ./runtimes/Whisper.net.Runtime/macos-arm64/libwhisper.dylib

cp build/macos-arm64/whisper.cpp/ggml/src/libggml-whisper.dylib ./runtimes/Whisper.net.Runtime/macos-arm64/libggml-whisper.dylib

cp build/macos-arm64/whisper.cpp/ggml/src/libggml-base-whisper.dylib ./runtimes/Whisper.net.Runtime/macos-arm64/libggml-base-whisper.dylib

cp build/macos-arm64/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib ./runtimes/Whisper.net.Runtime/macos-arm64/libggml-cpu-whisper.dylib

cp build/macos-arm64/whisper.cpp/ggml/src/ggml-metal/libggml-metal-whisper.dylib ./runtimes/Whisper.net.Runtime/macos-arm64/libggml-metal-whisper.dylib

cp build/macos-arm64/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib ./runtimes/Whisper.net.Runtime/macos-arm64/libggml-blas-whisper.dylib

macos\_x64\_coreml:

rm -rf build/macos-x64-coreml

cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_ARCHITECTURES="x86\_64" -DGGML\_METAL=OFF -S . -B build/macos-x64-coreml

cmake --build build/macos-x64-coreml

mkdir -p runtimes/Whisper.net.Runtime.CoreML/macos-x64

cp build/macos-x64-coreml/whisper.cpp/src/libwhisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-x64/libwhisper.dylib

cp build/macos-x64-coreml/whisper.cpp/ggml/src/libggml-whisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-x64/libggml-whisper.dylib

cp build/macos-x64-coreml/whisper.cpp/src/libwhisper.coreml.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-x64/libwhisper.coreml.dylib

cp build/macos-x64-coreml/whisper.cpp/ggml/src/libggml-base-whisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-x64/libggml-base-whisper.dylib

cp build/macos-x64-coreml/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-x64/libggml-cpu-whisper.dylib

cp build/macos-x64-coreml/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-x64/libggml-blas-whisper.dylib

macos\_arm64\_coreml:

rm -rf build/macos-arm64-coreml

cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_ARCHITECTURES="arm64" -S . -B build/macos-arm64-coreml

cmake --build build/macos-arm64-coreml

mkdir -p runtimes/Whisper.net.Runtime.CoreML/macos-arm64

cp build/macos-arm64-coreml/whisper.cpp/src/libwhisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.dylib

cp build/macos-arm64-coreml/whisper.cpp/src/libwhisper.coreml.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.coreml.dylib

cp build/macos-arm64-coreml/whisper.cpp/ggml/src/libggml-whisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-arm64/libggml-whisper.dylib

cp build/macos-arm64-coreml/whisper.cpp/ggml/src/libggml-base-whisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-arm64/libggml-base-whisper.dylib

cp build/macos-arm64-coreml/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-arm64/libggml-cpu-whisper.dylib

cp build/macos-arm64-coreml/whisper.cpp/ggml/src/ggml-metal/libggml-metal-whisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-arm64/libggml-metal-whisper.dylib

cp build/macos-arm64-coreml/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib ./runtimes/Whisper.net.Runtime.CoreML/macos-arm64/libggml-blas-whisper.dylib

ios:

rm -rf build/ios

cmake $(CMAKE\_PARAMETERS) -DCMAKE\_OSX\_SYSROOT="iphoneos" -S . -B build/ios

cmake --build build/ios

mkdir -p runtimes/Whisper.net.Runtime/ios-device

cp build/ios/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime/ios-device/libwhisper.dylib

cp build/ios/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime/ios-device/libggml-whisper.dylib

cp build/ios/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime/ios-device/libggml-base-whisper.dylib

cp build/ios/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime/ios-device/libggml-cpu-whisper.dylib

cp build/ios/whisper.cpp/ggml/src/ggml-metal/libggml-metal-whisper.dylib runtimes/Whisper.net.Runtime/ios-device/libggml-metal-whisper.dylib

cp build/ios/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime/ios-device/libggml-blas-whisper.dylib

ios\_coreml:

rm -rf build/ios-coreml

cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_ARCHITECTURES="arm64" -DGGML\_METAL=OFF -DCMAKE\_OSX\_SYSROOT="iphoneos" -S . -B build/ios-coreml

cmake --build build/ios-coreml

mkdir -p runtimes/Whisper.net.Runtime.CoreML/ios-device

cp build/ios-coreml/whisper.cpp/src/libwhisper.coreml.dylib runtimes/Whisper.net.Runtime.CoreML/ios-device/libwhisper.coreml.dylib

cp build/ios-coreml/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-device/libwhisper.dylib

cp build/ios-coreml/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-device/libggml-whisper.dylib

cp build/ios-coreml/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-device/libggml-base-whisper.dylib

cp build/ios-coreml/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-device/libggml-cpu-whisper.dylib

cp build/ios-coreml/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-device/libggml-blas-whisper.dylib

maccatalyst\_arm64:

rm -rf build/maccatalyst\_arm64

cmake $(CMAKE\_PARAMETERS) -S . -B build/maccatalyst\_arm64 -DCMAKE\_SYSTEM\_PROCESSOR=arm -DCMAKE\_HOST\_SYSTEM\_PROCESSOR=arm64 -DGGML\_METAL=OFF -DCMAKE\_SYSTEM\_NAME=Darwin -DCMAKE\_OSX\_ARCHITECTURES="arm64" -DCMAKE\_CXX\_FLAGS="-target arm64-apple-ios13.1-macabi" -DCMAKE\_C\_FLAGS="-target arm64-apple-ios13.1-macabi"

cmake --build build/maccatalyst\_arm64

mkdir -p runtimes/Whisper.net.Runtime/maccatalyst

cp build/maccatalyst\_arm64/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime/maccatalyst/libwhisper.dylib

cp build/maccatalyst\_arm64/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime/maccatalyst/libggml-whisper.dylib

cp build/maccatalyst\_arm64/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime/maccatalyst/libggml-base-whisper.dylib

cp build/maccatalyst\_arm64/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime/maccatalyst/libggml-cpu-whisper.dylib

cp build/maccatalyst\_arm64/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime/maccatalyst/libggml-blas-whisper.dylib

maccatalyst\_arm64\_coreml:

rm -rf build/maccatalyst-arm64-coreml

cmake $(COREML\_SUPPORT) -S . -B build/maccatalyst-arm64-coreml -DCMAKE\_SYSTEM\_PROCESSOR=arm -DCMAKE\_HOST\_SYSTEM\_PROCESSOR=arm64 -DGGML\_METAL=OFF -DCMAKE\_SYSTEM\_NAME=Darwin -DCMAKE\_OSX\_ARCHITECTURES="arm64" -DCMAKE\_CXX\_FLAGS="-target arm64-apple-ios13.1-macabi" -DCMAKE\_C\_FLAGS="-target arm64-apple-ios13.1-macabi"

cmake --build build/maccatalyst-arm64-coreml

mkdir -p runtimes/Whisper.net.Runtime.CoreML/maccatalyst

cp build/maccatalyst-arm64-coreml/whisper.cpp/src/libwhisper.coreml.dylib runtimes/Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.coreml.dylib

cp build/maccatalyst-arm64-coreml/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.dylib

cp build/maccatalyst-arm64-coreml/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/maccatalyst/libggml-whisper.dylib

cp build/maccatalyst-arm64-coreml/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/maccatalyst/libggml-base-whisper.dylib

cp build/maccatalyst-arm64-coreml/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/maccatalyst/libggml-cpu-whisper.dylib

cp build/maccatalyst-arm64-coreml/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/maccatalyst/libggml-blas-whisper.dylib

ios\_simulator\_coreml:

rm -rf build/ios-simulator-coreml

cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_SYSROOT="iphonesimulator" -DGGML\_METAL=OFF -DCMAKE\_OSX\_ARCHITECTURES="arm64;x86\_64" -S . -B build/ios-simulator-coreml

cmake --build build/ios-simulator-coreml

mkdir -p runtimes/Whisper.net.Runtime.CoreML/ios-simulator

cp build/ios-simulator-coreml/whisper.cpp/src/libwhisper.coreml.dylib runtimes/Whisper.net.Runtime.CoreML/ios-simulator/libwhisper.coreml.dylib

cp build/ios-simulator-coreml/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-simulator/libwhisper.dylib

cp build/ios-simulator-coreml/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-simulator/libggml-whisper.dylib

cp build/ios-simulator-coreml/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-simulator/libggml-base-whisper.dylib

cp build/ios-simulator-coreml/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-simulator/libggml-cpu-whisper.dylib

cp build/ios-simulator-coreml/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/ios-simulator/libggml-blas-whisper.dylib

ios\_simulator\_arm64:

rm -rf build/ios\_simulator\_arm64

cmake $(CMAKE\_PARAMETERS) -DCMAKE\_OSX\_SYSROOT="iphonesimulator" -DGGML\_METAL=OFF -DCMAKE\_OSX\_ARCHITECTURES="arm64;x86\_64" -S . -B build/ios\_simulator\_arm64

cmake --build build/ios\_simulator\_arm64

mkdir -p runtimes/Whisper.net.Runtime/ios-simulator

cp build/ios\_simulator\_arm64/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime/ios-simulator/libwhisper.dylib

cp build/ios\_simulator\_arm64/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime/ios-simulator/libggml-whisper.dylib

cp build/ios\_simulator\_arm64/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime/ios-simulator/libggml-base-whisper.dylib

cp build/ios\_simulator\_arm64/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime/ios-simulator/libggml-cpu-whisper.dylib

cp build/ios\_simulator\_arm64/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime/ios-simulator/libggml-blas-whisper.dylib

tvos\_simulator\_arm64:

rm -rf build/tvos\_simulator\_arm64

cmake $(CMAKE\_PARAMETERS) -DCMAKE\_OSX\_SYSROOT="appletvsimulator" -DGGML\_METAL=OFF -DCMAKE\_OSX\_ARCHITECTURES="arm64;x86\_64" -S . -B build/tvos\_simulator\_arm64

cmake --build build/tvos\_simulator\_arm64

mkdir -p runtimes/Whisper.net.Runtime/tvos-simulator

cp build/tvos\_simulator\_arm64/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime/tvos-simulator/libwhisper.dylib

cp build/tvos\_simulator\_arm64/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime/tvos-simulator/libggml-whisper.dylib

cp build/tvos\_simulator\_arm64/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime/tvos-simulator/libggml-base-whisper.dylib

cp build/tvos\_simulator\_arm64/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime/tvos-simulator/libggml-cpu-whisper.dylib

cp build/tvos\_simulator\_arm64/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime/tvos-simulator/libggml-blas-whisper.dylib

tvos:

rm -rf build/tvos

cmake $(CMAKE\_PARAMETERS) -DCMAKE\_OSX\_SYSROOT="appletvos" -DCMAKE\_OSX\_ARCHITECTURES="arm64" -S . -B build/tvos

cmake --build build/tvos

mkdir -p runtimes/Whisper.net.Runtime/tvos-device

cp build/tvos/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime/tvos-device/libwhisper.dylib

cp build/tvos/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime/tvos-device/libggml-whisper.dylib

cp build/tvos/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime/tvos-device/libggml-base-whisper.dylib

cp build/tvos/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime/tvos-device/libggml-cpu-whisper.dylib

cp build/tvos/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime/tvos-device/libggml-blas-whisper.dylib

cp build/tvos/whisper.cpp/ggml/src/ggml-metal/libggml-metal-whisper.dylib runtimes/Whisper.net.Runtime/tvos-device/libggml-metal-whisper.dylib

tvos\_coreml:

rm -rf build/tvos-coreml

cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_SYSROOT="appletvos" -DGGML\_METAL=OFF -DCMAKE\_OSX\_ARCHITECTURES="arm64" -S . -B build/tvos-coreml

cmake --build build/tvos-coreml

mkdir -p runtimes/Whisper.net.Runtime.CoreML/tvos-device

cp build/tvos-coreml/whisper.cpp/src/libwhisper.coreml.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-device/libwhisper.coreml.dylib

cp build/tvos-coreml/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-device/libwhisper.dylib

cp build/tvos-coreml/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-device/libggml-whisper.dylib

cp build/tvos-coreml/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-device/libggml-base-whisper.dylib

cp build/tvos-coreml/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-device/libggml-cpu-whisper.dylib

cp build/tvos-coreml/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-device/libggml-blas-whisper.dylib

tvos\_simulator\_coreml:

rm -rf build/tvos-simulator-coreml

cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_SYSROOT="appletvsimulator" -DGGML\_METAL=OFF -DCMAKE\_OSX\_ARCHITECTURES="arm64;x86\_64" -S . -B build/tvos-simulator-coreml

cmake --build build/tvos-simulator-coreml

mkdir -p runtimes/Whisper.net.Runtime.CoreML/tvos-simulator

cp build/tvos-simulator-coreml/whisper.cpp/src/libwhisper.coreml.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-simulator/libwhisper.coreml.dylib

cp build/tvos-simulator-coreml/whisper.cpp/src/libwhisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-simulator/libwhisper.dylib

cp build/tvos-simulator-coreml/whisper.cpp/ggml/src/libggml-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-simulator/libggml-whisper.dylib

cp build/tvos-simulator-coreml/whisper.cpp/ggml/src/libggml-base-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-simulator/libggml-base-whisper.dylib

cp build/tvos-simulator-coreml/whisper.cpp/ggml/src/libggml-cpu-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-simulator/libggml-cpu-whisper.dylib

cp build/tvos-simulator-coreml/whisper.cpp/ggml/src/ggml-blas/libggml-blas-whisper.dylib runtimes/Whisper.net.Runtime.CoreML/tvos-simulator/libggml-blas-whisper.dylib

android\_arm64-v8a:

rm -rf build/android-arm64-v8a

cmake $(CMAKE\_PARAMETERS) -DCMAKE\_ANDROID\_ARCH\_ABI=arm64-v8a -DCMAKE\_SYSTEM\_NAME=Android -DCMAKE\_ANDROID\_API=21 -DCMAKE\_ANDROID\_NDK=$(NDK) -DGGML\_OPENMP=OFF -S . -B build/android-arm64-v8a

cmake --build build/android-arm64-v8a

mkdir -p runtimes/Whisper.net.Runtime/android-arm64-v8a

cp build/android-arm64-v8a/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime/android-arm64-v8a/libwhisper.so

cp build/android-arm64-v8a/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime/android-arm64-v8a/libggml-whisper.so

cp build/android-arm64-v8a/whisper.cpp/ggml/src/libggml-base-whisper.so runtimes/Whisper.net.Runtime/android-arm64-v8a/libggml-base-whisper.so

cp build/android-arm64-v8a/whisper.cpp/ggml/src/libggml-cpu-whisper.so runtimes/Whisper.net.Runtime/android-arm64-v8a/libggml-cpu-whisper.so

android\_x86:

rm -rf build/android-x86

cmake $(CMAKE\_PARAMETERS) -DCMAKE\_ANDROID\_ARCH\_ABI=x86 -DCMAKE\_SYSTEM\_NAME=Android -DCMAKE\_ANDROID\_API=21 -DCMAKE\_ANDROID\_NDK=$(NDK) -DGGML\_OPENMP=OFF -S . -B build/android-x86

cmake --build build/android-x86

mkdir -p runtimes/Whisper.net.Runtime/android-x86

cp build/android-x86/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime/android-x86/libwhisper.so

cp build/android-x86/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime/android-x86/libggml-whisper.so

cp build/android-x86/whisper.cpp/ggml/src/libggml-base-whisper.so runtimes/Whisper.net.Runtime/android-x86/libggml-base-whisper.so

cp build/android-x86/whisper.cpp/ggml/src/libggml-cpu-whisper.so runtimes/Whisper.net.Runtime/android-x86/libggml-cpu-whisper.so

android\_x64:

rm -rf build/android-x86\_64

cmake $(CMAKE\_PARAMETERS) -DCMAKE\_ANDROID\_ARCH\_ABI=x86\_64 -DCMAKE\_SYSTEM\_NAME=Android -DCMAKE\_ANDROID\_API=21 -DCMAKE\_ANDROID\_NDK=$(NDK) -DGGML\_OPENMP=OFF -S . -B build/android-x86\_64

cmake --build build/android-x86\_64

mkdir -p runtimes/Whisper.net.Runtime/android-x86\_64

cp build/android-x86\_64/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime/android-x86\_64/libwhisper.so

cp build/android-x86\_64/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime/android-x86\_64/libggml-whisper.so

cp build/android-x86\_64/whisper.cpp/ggml/src/libggml-base-whisper.so runtimes/Whisper.net.Runtime/android-x86\_64/libggml-base-whisper.so

cp build/android-x86\_64/whisper.cpp/ggml/src/libggml-cpu-whisper.so runtimes/Whisper.net.Runtime/android-x86\_64/libggml-cpu-whisper.so

xcframework:

mkdir -p output/lib

xcrun xcodebuild -create-xcframework -library runtimes/Whisper.net.Runtime/ios-device/libwhisper.dylib -library runtimes/Whisper.net.Runtime/ios-simulator/libwhisper.dylib -library runtimes/Whisper.net.Runtime/tvos-device/libwhisper.dylib -library runtimes/Whisper.net.Runtime/tvos-simulator/libwhisper.dylib -library runtimes/Whisper.net.Runtime/macos/libwhisper.dylib -library runtimes/Whisper.net.Runtime/maccatalyst/libwhisper.dylib -output output/lib/whisper.xcframework

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# whisper.net/Directory.Packages.props at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Directory.Packages.props

Blame

Blame

## Latest commit

[![dependabot[bot]](https://avatars.githubusercontent.com/in/29110?v=4&size=40)](/apps/dependabot)[dependabot\[bot\]](/sandrohanea/whisper.net/commits?author=dependabot%5Bbot%5D)

[Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0 (](/sandrohanea/whisper.net/commit/0b9bb5d664fcb449d093155f0d52317bde3e8dca) [#306](https://github.com/sandrohanea/whisper.net/pull/306) [)](/sandrohanea/whisper.net/commit/0b9bb5d664fcb449d093155f0d52317bde3e8dca)

Dec 23, 2024

[0b9bb5d](/sandrohanea/whisper.net/commit/0b9bb5d664fcb449d093155f0d52317bde3e8dca) · Dec 23, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/Directory.Packages.props)

22 lines (22 loc) · 1.34 KB

/

# Directory.Packages.props

Top

## File metadata and controls

- Code

- Blame


22 lines (22 loc) · 1.34 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/Directory.Packages.props)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

<Project>

<!-- Directory.Packages.props gets included automatically during the build. Read more here:

https://learn.microsoft.com/en-us/nuget/consume-packages/Central-Package-Management-->

<ItemGroup>

<PackageVersionInclude="Microsoft.Bcl.AsyncInterfaces"Version="9.0.0" />

<PackageVersionInclude="System.Memory"Version="4.6.0" />

<PackageVersionInclude="System.IO.Compression"Version="4.3.0" />

<PackageVersionInclude="System.Net.Http"Version="4.3.4" />

<PackageVersionInclude="FluentAssertions"Version="7.0.0" />

<PackageVersionInclude="CommandLineParser"Version="2.9.1" />

<!-- Tests -->

<PackageVersionInclude="coverlet.collector"Version="6.0.2" />

<PackageVersionInclude="Microsoft.NET.Test.Sdk"Version="17.12.0" />

<PackageVersionInclude="xunit"Version="2.9.2" />

<PackageVersionInclude="xunit.runner.visualstudio"Version="3.0.0" />

<PackageVersionInclude="Microsoft.DotNet.XHarness.TestRunners.Xunit"Version="10.0.0-prerelease.24610.1" />

<PackageVersionInclude="xunit.assert"Version="2.9.2" />

<PackageVersionInclude="Microsoft.Extensions.Logging.Debug"Version="9.0.0" />

<PackageVersionInclude="Microsoft.Maui.Controls"Version="$(MauiVersion)" />

<PackageVersionInclude="Microsoft.Maui.Controls.Compatibility"Version="$(MauiVersion)" />

</ItemGroup>

</Project>

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305) · sandrohanea/whisper.net@ffc0cdb  · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (\#305)  \#302

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506804829%2Fworkflow)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506804829%2Fworkflow)

## Workflow file

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (\#305)

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (\#305) \#302

[Usage](/sandrohanea/whisper.net/actions/runs/12506804829/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506804829/workflow)

#### Workflow file for this run

[.github/workflows/build-all.yml](/sandrohanea/whisper.net/blob/ffc0cdb6376deab76cb79ff6dbdf649049214251/.github/workflows/build-all.yml) at
[ffc0cdb](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)

[Edit workflow file](/sandrohanea/whisper.net/edit/main/.github/workflows/build-all.yml)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

|     |     |
| --- | --- |
|  | # This workflow will build a .NET project |
|  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |
|  | name: CI (Native + dotnet) |
|  |  |
|  | on: |
|  | push: |
|  | branches: \["main"\] |
|  | pull\_request: |
|  | branches: \["main"\] |
|  | workflow\_dispatch: |
|  | inputs: |
|  | BuildGpuLibs: |
|  | description: 'Enable GPU libraries build and publish' |
|  | required: true |
|  | default: 'false' |
|  | permissions: |
|  | contents: read |
|  | checks: write |
|  |  |
|  | jobs: |
|  | android: |
|  | uses: ./.github/workflows/android-native-build.yml |
|  |  |
|  | macos: |
|  | uses: ./.github/workflows/macos-native-build.yml |
|  |  |
|  | windows: |
|  | uses: ./.github/workflows/windows-native-build.yml |
|  |  |
|  | windows-no-avx: |
|  | uses: ./.github/workflows/windows-noavx-native-build.yml |
|  |  |
|  | wasm: |
|  | uses: ./.github/workflows/wasm-native-build.yml |
|  |  |
|  | linux: |
|  | uses: ./.github/workflows/linux-native-build.yml |
|  |  |
|  | linux-no-avx: |
|  | uses: ./.github/workflows/linux-noavx-native-build.yml |
|  |  |
|  | linux-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-vulkan-native-build.yml |
|  |  |
|  | windows-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-cuda-native-build.yml |
|  |  |
|  | windows-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-vulkan-native-build.yml |
|  |  |
|  | windows-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-openvino-native-build.yml |
|  |  |
|  | linux-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-cuda-native-build.yml |
|  |  |
|  | linux-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-openvino-native-build.yml |
|  |  |
|  | macos-coreml: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/macos-coreml-native-build.yml |
|  |  |
|  | dotnet-build: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet.yml |
|  |  |
|  | dotnet-maui-build-and-test: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet-maui.yml |

You can’t perform that action at this time.

---

# Caches · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## Caches     \#\#\# Caches         \#\# Actions

will be ignored since log searching is not yet available


Showing caches from all workflows. [Learn more about managing caches.](https://docs.github.com/actions/advanced-guides/caching-dependencies-to-speed-up-workflows#managing-caches)

will be ignored since log searching is not yet available


Approaching total cache storage limit(7.63 GB of 10 GB Used)(7.63 GB of 10 GB Used)

Least recently used caches will be automatically evicted to limit the total cache storage to 10 GB. [Learn more about cache usage.](https://docs.github.com/actions/using-workflows/caching-dependencies-to-speed-up-workflows#usage-limits-and-eviction-policy)

**4 caches**

**4 caches**

Branch


Loading

Sort


[Recently used](/sandrohanea/whisper.net/actions/caches?query=sort%3Aaccessed-desc) [Least recently used](/sandrohanea/whisper.net/actions/caches?query=sort%3Aaccessed-asc) [Newest](/sandrohanea/whisper.net/actions/caches?query=sort%3Acreated-desc) [Oldest](/sandrohanea/whisper.net/actions/caches?query=sort%3Acreated-asc) [Largest size](/sandrohanea/whisper.net/actions/caches?query=sort%3Asize-desc) [Smallest size](/sandrohanea/whisper.net/actions/caches?query=sort%3Asize-asc)

cuda\_installer-windows-10.0.17763-12.1.0

cuda\_installer-windows-10.0.17763-12.1.0

3.1 GB cached December 26, 2024 10:16[main](/sandrohanea/whisper.net "main")
Last used December 26, 2024 10:49

[main](/sandrohanea/whisper.net "main")

Last usedDecember 26, 2024 10:49

cuda\_installer-linux-5.15.0-1074-azure-12.1.0

cuda\_installer-linux-5.15.0-1074-azure-12.1.0

3.9 GB cached December 26, 2024 10:15[main](/sandrohanea/whisper.net "main")
Last used December 26, 2024 10:48

[main](/sandrohanea/whisper.net "main")

Last usedDecember 26, 2024 10:48

cache-linux-x64-vulkan-sdk-1.3.290.0

cache-linux-x64-vulkan-sdk-1.3.290.0

390 MB cached December 26, 2024 10:15[main](/sandrohanea/whisper.net "main")
Last used December 26, 2024 10:15

[main](/sandrohanea/whisper.net "main")

Last usedDecember 26, 2024 10:15

cache-windows-x64-vulkan-sdk-1.3.290.0

cache-windows-x64-vulkan-sdk-1.3.290.0

190 MB cached December 26, 2024 10:15[main](/sandrohanea/whisper.net "main")
Last used December 26, 2024 10:15

[main](/sandrohanea/whisper.net "main")

Last usedDecember 26, 2024 10:15

You can’t perform that action at this time.

---

# Release v1.7.4 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# v1.7.4

[Latest](/sandrohanea/whisper.net/releases/latest)

[Latest](/sandrohanea/whisper.net/releases/latest)

Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.7.4)

Loading

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

released this


26 Dec 20:57


[1.7.4](/sandrohanea/whisper.net/tree/1.7.4)

[`a3ec2f8`](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).


We're thrilled to announce the release of whisper.net 1.7.4, featuring a host of improvements and new functionalities.

## Key Features and Changes

- Custom Alignment Heads for DTW: Now, you can define custom alignment heads for Dynamic Time Warping (DTW), enhancing the accuracy of speech-to-text alignment in various scenarios.
- Upgrade to `Whisper.cpp 1.7.3` which included multiple updates and fixes:

  - `WithNoSpeechThreshold` Support: This allows for better handling of silent segments in audio, improving transcription accuracy.
  - Performance Enhancements: Significant improvements, especially on the Metal runtime for macOS, ensuring faster processing times.
  - Library Split: The native libraries are now split into multiple files ( `libggml-whisper`, `libggml-base-whisper`, etc.), allowing for more modular use and easier updates.
- MAUI App Testing for iOS: Added tests for MAUI applications on iOS, ensuring better support for cross-platform development. 🚀
- Whisper Factory Options: Introduced new options at the WhisperFactory level for more granular control over configurations, previously managed through a singleton at the library level (RuntimeOptions). This improves flexibility and maintainability. Note: RuntimeOptions are still available but only to configure the way how the native runtime is being loaded.
- The continuous recognition example has been deprecated in favor of [EchoSharp](https://github.com/sandrohanea/echosharp), which provides a more robust and up-to-date demonstration of continuous speech recognition capabilities.
- FIxed an issue where the native library couldn't be auto-loaded on systems that are not providing any command line arguments (like godot)

## What's Changed

- Bumped version 1.7.3 by [@sandrohanea](https://github.com/sandrohanea) in [#292](https://github.com/sandrohanea/whisper.net/pull/292)
- Bump FluentAssertions from 6.12.2 to 7.0.0 by [@dependabot](https://github.com/dependabot) in [#291](https://github.com/sandrohanea/whisper.net/pull/291)
- Bump Microsoft.DotNet.XHarness.TestRunners.Xunit from 10.0.0-prerelease.24575.1 to 10.0.0-prerelease.24604.1 by [@dependabot](https://github.com/dependabot) in [#294](https://github.com/sandrohanea/whisper.net/pull/294)
- Bump Microsoft.DotNet.XHarness.TestRunners.Xunit from 10.0.0-prerelease.24604.1 to 10.0.0-prerelease.24610.1 by [@dependabot](https://github.com/dependabot) in [#298](https://github.com/sandrohanea/whisper.net/pull/298)
- Support setting custom alignment heads for dtw by [@jettoblack](https://github.com/jettoblack) in [#301](https://github.com/sandrohanea/whisper.net/pull/301)
- Added Whisper Factory Options by [@sandrohanea](https://github.com/sandrohanea) in [#302](https://github.com/sandrohanea/whisper.net/pull/302)
- Added test reporter by [@sandrohanea](https://github.com/sandrohanea) in [#303](https://github.com/sandrohanea/whisper.net/pull/303)
- Removed unnecessary instances and simplified LogProviders + RuntimeOptions by [@sandrohanea](https://github.com/sandrohanea) in [#304](https://github.com/sandrohanea/whisper.net/pull/304)
- Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0 by [@dependabot](https://github.com/dependabot) in [#306](https://github.com/sandrohanea/whisper.net/pull/306)
- Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold by [@sandrohanea](https://github.com/sandrohanea) in [#305](https://github.com/sandrohanea/whisper.net/pull/305)
- Removed continuous recognition example and replaced it with a link the echosharp by [@sandrohanea](https://github.com/sandrohanea) in [#309](https://github.com/sandrohanea/whisper.net/pull/309)

**Full Changelog**: [`1.7.3...1.7.4`](https://github.com/sandrohanea/whisper.net/compare/1.7.3...1.7.4)

### Contributors

- [![@jettoblack](https://avatars.githubusercontent.com/u/1063468?s=64&v=4)](https://github.com/jettoblack)
- [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)
- [![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=64&v=4)](https://github.com/sandrohanea)

jettoblack, dependabot, and sandrohanea


Assets2

- [Source code(zip)](/sandrohanea/whisper.net/archive/refs/tags/1.7.4.zip)

2024-12-26T20:21:05Z

- [Source code(tar.gz)](/sandrohanea/whisper.net/archive/refs/tags/1.7.4.tar.gz)

2024-12-26T20:21:05Z


![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)1houstonhaynes reacted with hooray emoji![rocket](https://github.githubassets.com/assets/1f680-d0ef47fdb515.png)3sandrohanea, umlx5h, and LSXAxeller reacted with rocket emoji

All reactions

- ![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)1 reaction
- ![rocket](https://github.githubassets.com/assets/1f680-d0ef47fdb515.png)3 reactions

4 people reacted

0
[Join discussion](/sandrohanea/whisper.net/discussions/310)

You can’t perform that action at this time.

---

# Issue search results · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

# issues Search Results · repo:sandrohanea/whisper.net language:Makefile

## Filter by

- [Code... (...)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AMakefile&type=code)
- [Issues0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AMakefile&type=issues)
- [Pull requests0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AMakefile&type=pullrequests)
- [Discussions4 (4)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AMakefile&type=discussions)
- [Commits0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AMakefile&type=commits)
- [Packages0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AMakefile&type=registrypackages)
- [Wikis0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AMakefile&type=wikis)
- [Advanced search](https://github.com/search/advanced)

Issues0 (0)

0 results
(47 ms)

## 0 results

in[sandrohanea/whisper.net (press backspace or delete to remove)](/sandrohanea/whisper.net)

Sort by:  Best match

Filter

![Mona looking through a globe hologram for code](/images/modules/search/light.png)

### Your search did not match any issues

However we found [4 discussions](/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AMakefile&type=discussions) that matched your search query. Alternatively try one of the tips below.

Search across repositories

Within a repository:

repo:github/linguist

Across several:

repo:github/linguist ORrepo:github/fetch

Note that we don't currently support regular expressions in the repo or org qualifiers. For more information on search syntax, see our [syntax guide](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Search across an organizationSaved searches

You could try an [advanced search](/search/advanced?q=repo%3Asandrohanea%2Fwhisper.net++language%3AMakefile).

You can’t perform that action at this time.


Issue search results · GitHub

---

# whisper.net/.gitmodules at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# .gitmodules

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Added initial files](/sandrohanea/whisper.net/commit/d65983b8502997a5d45d45f98a96ebc44fa6b6dd)

Feb 4, 2023

[d65983b](/sandrohanea/whisper.net/commit/d65983b8502997a5d45d45f98a96ebc44fa6b6dd) · Feb 4, 2023

## History

[History](/sandrohanea/whisper.net/commits/main/.gitmodules)

3 lines (3 loc) · 98 Bytes

/

# .gitmodules

Top

## File metadata and controls

- Code

- Blame


3 lines (3 loc) · 98 Bytes

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/.gitmodules)

1

2

3

\[submodule "whisper.cpp"\]

path=whisper.cpp

url=https://github.com/ggerganov/whisper.cpp.git

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# whisper.net/nuget.config at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# nuget.config

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Fixed Android build + improved CI/CI with xharness + added AllRuntime…](/sandrohanea/whisper.net/commit/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d)

Oct 13, 2024

[b5eca43](/sandrohanea/whisper.net/commit/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d) · Oct 13, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/nuget.config)

21 lines (19 loc) · 842 Bytes

/

# nuget.config

Top

## File metadata and controls

- Code

- Blame


21 lines (19 loc) · 842 Bytes

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/nuget.config)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

<?xml version="1.0" encoding="utf-8"?>

<configuration>

<packageSources>

<clear />

<addkey="public\_nugget"value="https://api.nuget.org/v3/index.json" />

<addkey="dotnet-eng"value="https://pkgs.dev.azure.com/dnceng/public/\_packaging/dotnet-eng/nuget/v3/index.json"protocolVersion="3" />

<!--<add key="Local Whisper" value="C:\\Projects\\sandrohanea\\whisper.net\\nupkgs" />-->

</packageSources>

<packageSourceMapping>

<!-- key value for <packageSource> should match key values from <packageSources> element -->

<packageSourcekey="public\_nugget">

<packagepattern="\*" />

</packageSource>

<packageSourcekey="dotnet-eng">

<packagepattern="Microsoft.DotNet.XHarness" />

<packagepattern="Microsoft.DotNet.XHarness.\*" />

</packageSource>

</packageSourceMapping>

</configuration>

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold · sandrohanea/whisper.net@bde50f6 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  \#300

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506514905)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506514905)

## Summary

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold \#300

[Usage](/sandrohanea/whisper.net/actions/runs/12506514905/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506514905/workflow)

Triggered via pull request
December 26, 2024 17:17

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=32&v=4)sandrohanea](/sandrohanea)

synchronize [#305](/sandrohanea/whisper.net/pull/305)

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

StatusFailure

Total duration [14m 9s](/sandrohanea/whisper.net/actions/runs/12506514905/usage)

Artifacts [15](#artifacts)

## [build-all.yml](/sandrohanea/whisper.net/actions/runs/12506514905/workflow)

on: pull\_request

[android / native-build\\
\\
1m 55s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891580854) android / native-build[macos / intel-native-build\\
\\
1m 8s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891581373) macos / intel-native-build[macos / arm-native-build\\
\\
2m 32s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891581191) macos / arm-native-build[windows / intel-native-build\\
\\
2m 14s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891581679) windows / intel-native-build[windows / arm-native-build\\
\\
1m 44s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891581937) windows / arm-native-build[wasm / native-build\\
\\
1m 1s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891581535) wasm / native-build[linux / native-build\\
\\
2m 50s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891580681) linux / native-build

[windows-no-avx / native-build\\
\\
2m 20s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891581804) windows-no-avx / native-build[linux-no-avx / native-build\\
\\
1m 11s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891581019) linux-no-avx / native-build

linux-cuda / native-build

linux-cuda / native-build

linux-openvino / native-build

linux-openvino / native-build

linux-vulkan / native-build

linux-vulkan / native-build

macos-coreml / arm-native-build

macos-coreml / arm-native-build

macos-coreml / intel-native-build

macos-coreml / intel-native-build

windows-cuda / native-build

windows-cuda / native-build

windows-openvino / native-build

windows-openvino / native-build

windows-vulkan / native-build

windows-vulkan / native-build

[dotnet-maui-build-and-test / dotnet-maui-build\\
\\
5m 16s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891649967) dotnet-maui-build-and-test / dotnet-maui-build

[dotnet-build / dotnet-macos\\
\\
3m 0s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891650153) dotnet-build / dotnet-macos[dotnet-build / dotnet-windows\\
\\
3m 8s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891649568) dotnet-build / dotnet-windows[dotnet-build / dotnet-linux\\
\\
1m 13s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891649768) dotnet-build / dotnet-linux

[dotnet-maui-build-and-test / dotnet-maui-test-android\\
\\
4m 19s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891772764) dotnet-maui-build-and-test / dotnet-maui-test-android[dotnet-maui-build-and-test / dotnet-maui-test-ios\\
\\
5m 35s](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891772910) dotnet-maui-build-and-test / dotnet-maui-test-ios

Oh hello! Nice to see you.

Made with ❤️ by [humans.txt](https://actions.github.io/humans.txt)

Fit to window

Zoom out

Zoom in

## Annotations

1 error and 2 warnings

|     |
| --- |
| [**dotnet-maui-build-and-test / dotnet-maui-test-ios**](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891772910#step:7:23)<br>Process completed with exit code 1.<br>Show moreShow less |
| [**dotnet-build / dotnet-linux**](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891649768)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |
| [**dotnet-maui-build-and-test / dotnet-maui-test-android**](/sandrohanea/whisper.net/actions/runs/12506514905/job/34891772764)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |

## Artifacts

Produced during runtime

| Name | Size |  |
| --- | --- | --- |
| android-build | 3.09 MB |  |
| linux-build | 1.67 MB |  |
| linux-noavx-build | 597 KB |  |
| mac-arm-build | 4.5 MB |  |
| mac-intel-build | 611 KB |  |
| maui-build-artifacts | 170 MB |  |
| test-results-linux | 9.13 KB |  |
| test-results-macos | 13.3 KB |  |
| test-results-windows | 15 KB |  |
| wasm-build | 431 KB |  |
| windows-arm-build | 462 KB |  |
| windows-build | 948 KB |  |
| windows-noavx-build | 948 KB |  |
| xharness-android-test-results | 37.3 KB |  |
| xharness-ios-test-results | 212 KB |  |

You can’t perform that action at this time.

---

# Issue search results · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

# issues Search Results · repo:sandrohanea/whisper.net language:PowerShell

## Filter by

- [Code... (...)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3APowerShell&type=code)
- [Issues0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3APowerShell&type=issues)
- [Pull requests0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3APowerShell&type=pullrequests)
- [Discussions4 (4)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3APowerShell&type=discussions)
- [Commits0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3APowerShell&type=commits)
- [Packages0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3APowerShell&type=registrypackages)
- [Wikis0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3APowerShell&type=wikis)
- [Advanced search](https://github.com/search/advanced)

Issues0 (0)

0 results
(26 ms)

## 0 results

in[sandrohanea/whisper.net (press backspace or delete to remove)](/sandrohanea/whisper.net)

Sort by:  Best match

Filter

![Mona looking through a globe hologram for code](/images/modules/search/light.png)

### Your search did not match any issues

However we found [4 discussions](/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3APowerShell&type=discussions) that matched your search query. Alternatively try one of the tips below.

Search across repositories

Within a repository:

repo:github/linguist

Across several:

repo:github/linguist ORrepo:github/fetch

Note that we don't currently support regular expressions in the repo or org qualifiers. For more information on search syntax, see our [syntax guide](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Search across an organizationSaved searches

You could try an [advanced search](/search/advanced?q=repo%3Asandrohanea%2Fwhisper.net++language%3APowerShell).

You can’t perform that action at this time.


Issue search results · GitHub

---

# Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0 (#306) · sandrohanea/whisper.net@0b9bb5d · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/0b9bb5d664fcb449d093155f0d52317bde3e8dca)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0 ( [#306](https://github.com/sandrohanea/whisper.net/pull/306))


[Browse files](/sandrohanea/whisper.net/tree/0b9bb5d664fcb449d093155f0d52317bde3e8dca) Browse the repository at this point in the history

```
Bumps [xunit.runner.visualstudio](https://github.com/xunit/visualstudio.xunit) from 2.8.2 to 3.0.0.
- [Release notes](https://github.com/xunit/visualstudio.xunit/releases)
- [Commits](xunit/visualstudio.xunit@2.8.2...3.0.0)

---
updated-dependencies:
- dependency-name: xunit.runner.visualstudio
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
```

- [main](/sandrohanea/whisper.net)
- ( [#306](/sandrohanea/whisper.net/pull/306 "Merged Pull Request: Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)

[![@dependabot](https://avatars.githubusercontent.com/in/29110?s=40&v=4)](/apps/dependabot)

[dependabot\[bot\]](/sandrohanea/whisper.net/commits?author=dependabot%5Bbot%5D "View all commits by dependabot[bot]")

authored
Dec 23, 2024

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[db4a246](/sandrohanea/whisper.net/commit/db4a2469e73d8b62e6d535f0b093296742b13799)commit 0b9bb5d

Showing
**1 changed file**
with
**1 addition**
and
**1 deletion**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion
2 [Directory.Packages.props](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156 "Directory.Packages.props")

Show comments


[View file](/sandrohanea/whisper.net/blob/0b9bb5d664fcb449d093155f0d52317bde3e8dca/Directory.Packages.props)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156) Expand Up | @@ -12,7 +12,7 @@ |
|  |  | <PackageVersionInclude="coverlet.collector"Version="6.0.2" /> |
|  |  | <PackageVersionInclude="Microsoft.NET.Test.Sdk"Version="17.12.0" /> |
|  |  | <PackageVersionInclude="xunit"Version="2.9.2" /> |
|  |  | <PackageVersionInclude="xunit.runner.visualstudio"Version="2.8.2" /> |
|  |  | <PackageVersionInclude="xunit.runner.visualstudio"Version="3.0.0" /> |
|  |  | <PackageVersionInclude="Microsoft.DotNet.XHarness.TestRunners.Xunit"Version="10.0.0-prerelease.24610.1" /> |
|  |  | <PackageVersionInclude="xunit.assert"Version="2.9.2" /> |
|  |  | <PackageVersionInclude="Microsoft.Extensions.Logging.Debug"Version="9.0.0" /> |
| [Expand Down](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156) Expand Down |  |

Toggle all file notesToggle all file annotations

### 0 comments  on commit `0b9bb5d`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2F0b9bb5d664fcb449d093155f0d52317bde3e8dca) to comment.

You can’t perform that action at this time.

---

# Removed continuous recognition example and replaced it with a link th… · sandrohanea/whisper.net@a3ec2f8 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Removed continuous recognition example and replaced it with a link th…  \#304

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506857126)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506857126)

## Summary

# Removed continuous recognition example and replaced it with a link th…

## Removed continuous recognition example and replaced it with a link th… \#304

[Usage](/sandrohanea/whisper.net/actions/runs/12506857126/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506857126/workflow)

Triggered via push
December 26, 2024 17:59

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=32&v=4)sandrohanea](/sandrohanea)

pushed [a3ec2f8](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

StatusSuccess

Total duration [14m 30s](/sandrohanea/whisper.net/actions/runs/12506857126/usage)

Artifacts [15](#artifacts)

## [build-all.yml](/sandrohanea/whisper.net/actions/runs/12506857126/workflow)

on: push

[android / native-build\\
\\
2m 2s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892456684) android / native-build[macos / intel-native-build\\
\\
1m 6s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892457096) macos / intel-native-build[macos / arm-native-build\\
\\
2m 46s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892457005) macos / arm-native-build[windows / intel-native-build\\
\\
1m 25s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892457340) windows / intel-native-build[windows / arm-native-build\\
\\
1m 44s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892457257) windows / arm-native-build[wasm / native-build\\
\\
1m 2s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892457189) wasm / native-build[linux / native-build\\
\\
2m 8s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892456920) linux / native-build

[windows-no-avx / native-build\\
\\
1m 51s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892457433) windows-no-avx / native-build[linux-no-avx / native-build\\
\\
1m 11s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892456796) linux-no-avx / native-build

linux-cuda / native-build

linux-cuda / native-build

linux-openvino / native-build

linux-openvino / native-build

linux-vulkan / native-build

linux-vulkan / native-build

macos-coreml / arm-native-build

macos-coreml / arm-native-build

macos-coreml / intel-native-build

macos-coreml / intel-native-build

windows-cuda / native-build

windows-cuda / native-build

windows-openvino / native-build

windows-openvino / native-build

windows-vulkan / native-build

windows-vulkan / native-build

[dotnet-maui-build-and-test / dotnet-maui-build\\
\\
6m 48s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892529897) dotnet-maui-build-and-test / dotnet-maui-build

[dotnet-build / dotnet-macos\\
\\
3m 21s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892530196) dotnet-build / dotnet-macos[dotnet-build / dotnet-windows\\
\\
3m 19s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892530346) dotnet-build / dotnet-windows[dotnet-build / dotnet-linux\\
\\
1m 14s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892530090) dotnet-build / dotnet-linux

[dotnet-maui-build-and-test / dotnet-maui-test-android\\
\\
4m 20s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892714383) dotnet-maui-build-and-test / dotnet-maui-test-android[dotnet-maui-build-and-test / dotnet-maui-test-ios\\
\\
4m 29s](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892714179) dotnet-maui-build-and-test / dotnet-maui-test-ios

Oh hello! Nice to see you.

Made with ❤️ by [humans.txt](https://actions.github.io/humans.txt)

Fit to window

Zoom out

Zoom in

## Annotations

2 warnings

|     |
| --- |
| [**dotnet-build / dotnet-linux**](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892530090)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |
| [**dotnet-maui-build-and-test / dotnet-maui-test-android**](/sandrohanea/whisper.net/actions/runs/12506857126/job/34892714383)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |

## Artifacts

Produced during runtime

| Name | Size |  |
| --- | --- | --- |
| android-build | 3.09 MB |  |
| linux-build | 1.67 MB |  |
| linux-noavx-build | 597 KB |  |
| mac-arm-build | 4.5 MB |  |
| mac-intel-build | 611 KB |  |
| maui-build-artifacts | 170 MB |  |
| test-results-linux | 9.64 KB |  |
| test-results-macos | 9.61 KB |  |
| test-results-windows | 16.1 KB |  |
| wasm-build | 431 KB |  |
| windows-arm-build | 462 KB |  |
| windows-build | 948 KB |  |
| windows-noavx-build | 948 KB |  |
| xharness-android-test-results | 21.5 KB |  |
| xharness-ios-test-results | 224 KB |  |

You can’t perform that action at this time.

---

# Version 1.7.4 Fails to build Whisper.net.Demo · Issue #311 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Version 1.7.4 Fails to build Whisper.net.Demo\#311

Open

1 task done

[steve3p0](/steve3p0) opened this issue
Dec 27, 2024
· 1 comment

Open

1 task done

# [Version 1.7.4 Fails to build Whisper.net.Demo](\#top)\#311

[steve3p0](/steve3p0) opened this issue
Dec 27, 2024
· 1 comment

## Comments

[![@steve3p0](https://avatars.githubusercontent.com/u/33675736?s=80&u=514fc0f92265671ff15cb152316b1620b4aac45c&v=4)](/steve3p0)


Copy link

### **[steve3p0](/steve3p0)**     commented   [Dec 27, 2024](\#issue-2760961959)•   edited      Loading

|     |
| --- |
| **ChatGPT discussion**<br>- [x]  I asked [Whisper.net Helper](https://chat.openai.com/g/g-GQU8iEnAa-whisper-net-helper) and it couldn't help me, here is the discussion link:<br>  <br>  [https://chatgpt.com/share/676eb704-9cd0-800b-b1fe-28cf70f543d1](https://chatgpt.com/share/676eb704-9cd0-800b-b1fe-28cf70f543d1)<br>**Describe the bug**<br>Cloned latest Whisper.net (1.7.4) and Whisper.net.Demo gives me 36 errors:<br>[![image](https://private-user-images.githubusercontent.com/33675736/398956803-5954836d-84af-44a2-8d67-3f4957dc3f77.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTM5NDMsIm5iZiI6MTczNTMxMzY0MywicGF0aCI6Ii8zMzY3NTczNi8zOTg5NTY4MDMtNTk1NDgzNmQtODRhZi00NGEyLThkNjctM2Y0OTU3ZGMzZjc3LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEyMjclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMjI3VDE1MzQwM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWZlNjczOWVjMDBlMWRiMGU1YjBiYjljYTNlMzcwODM4M2Y0ZjM3NTFlOGQ4Y2YwNGVmYWQ2OWIxMjZkZDcyZjYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.P4I_jvVL6p-_FwFeJV1B9CiscPc9EEn_M6__4meSwt0)](https://private-user-images.githubusercontent.com/33675736/398956803-5954836d-84af-44a2-8d67-3f4957dc3f77.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTM5NDMsIm5iZiI6MTczNTMxMzY0MywicGF0aCI6Ii8zMzY3NTczNi8zOTg5NTY4MDMtNTk1NDgzNmQtODRhZi00NGEyLThkNjctM2Y0OTU3ZGMzZjc3LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEyMjclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMjI3VDE1MzQwM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWZlNjczOWVjMDBlMWRiMGU1YjBiYjljYTNlMzcwODM4M2Y0ZjM3NTFlOGQ4Y2YwNGVmYWQ2OWIxMjZkZDcyZjYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.P4I_jvVL6p-_FwFeJV1B9CiscPc9EEn_M6__4meSwt0)<br>```notranslate<br>Severity	Code	Description	Project	File	Line	Suppression State	Details<br>Message (active)	CA1050	Types are declared in namespaces to prevent name collisions and as a way to organize related types in an object hierarchy.	Whisper.net.Demo (net9.0)	C:\workspace\___skunks\whisper.net\Whisper.net.Demo\Program.cs	85		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-x86\whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-x86\ggml-whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-x86\ggml-cpu-whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-x86\ggml-base-whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-x64\whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-x64\ggml-whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-x64\ggml-cpu-whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-x64\ggml-base-whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-arm64\whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-arm64\ggml-whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-arm64\ggml-cpu-whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\win-arm64\ggml-base-whisper.dll" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-x64\libwhisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-x64\libggml-whisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-x64\libggml-cpu-whisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-x64\libggml-blas-whisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-x64\libggml-base-whisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-arm64\libwhisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-arm64\libggml-whisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-arm64\libggml-metal-whisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-arm64\libggml-cpu-whisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-arm64\libggml-blas-whisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\macos-arm64\libggml-base-whisper.dylib" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-x64\libwhisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-x64\libggml-whisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-x64\libggml-cpu-whisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-x64\libggml-base-whisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-arm\libwhisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-arm\libggml-whisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-arm\libggml-cpu-whisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-arm\libggml-base-whisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-arm64\libwhisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-arm64\libggml-whisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-arm64\libggml-cpu-whisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\linux-arm64\libggml-base-whisper.so" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322		<br>Error (active)	MSB3030	Could not copy the file "C:\workspace\___skunks\whisper.net\runtimes\Whisper.net.Runtime\ggml-metal.metal" because it was not found.	Whisper.net.Demo (net9.0)	C:\Program Files\Microsoft Visual Studio\2022\Community\MSBuild\Current\Bin\amd64\Microsoft.Common.CurrentVersion.targets	5322	<br>```<br>I added the Whisper.net.Runtime version 1.7.4 from Nuget. I also added all Runtimes as described in the readme. |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@steve3p0](https://avatars.githubusercontent.com/u/33675736?s=40&u=514fc0f92265671ff15cb152316b1620b4aac45c&v=4)](/steve3p0)[steve3p0](/steve3p0)

changed the title
~~.NET 9.0 Fails to build Whisper.net.Demo~~ Version 1.7.4 Fails to build Whisper.net.Demo [Dec 27, 2024](#event-15773474877)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Dec 27, 2024](\#issuecomment-2563795726)

|     |     |
| --- | --- |
| Hello [@steve3p0](https://github.com/steve3p0) ,

It seems that you're trying to build the demo without having the runtimes in the local path.

You can do one of the following:

- Remove the local reference to the runtimes from here:





[whisper.net/Whisper.net.Demo/Whisper.net.Demo.csproj](https://github.com/sandrohanea/whisper.net/blob/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd/Whisper.net.Demo/Whisper.net.Demo.csproj#L2)




Line 2
in
[a3ec2f8](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)







|     |     |
| --- | --- |
|  | <ImportCondition="'$(EnableCoreML)' != 'true'"Project="../runtimes/Whisper.net.Runtime/Whisper.net.Runtime.targets" /\> |







(just delete or comment out that `Import`)


If you remove that, ensure that you install Whisper.net.Runtime 1.7.4 from Nuget as you said above.

- Second option if you want to use the local runtimes, you can build all the dylibs using make (or just fork this repo, run the github action for CI and download the artifacts with the built runtimes). In this case, Whisper.net.Runtime nuget reference won't be needed.


Demo is designed to show and run the app locally, but examples are recommended for low-effort running of Whisper scenarios using the nuget version. |

All reactions

Sorry, something went wrong.


[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fissues%2F311)

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


No branches or pull requests

2 participants


[![@steve3p0](https://avatars.githubusercontent.com/u/33675736?s=52&v=4)](/steve3p0)[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

You can’t perform that action at this time.

---

# Release/1.5.0 by sandrohanea · Pull Request #132 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Release/1.5.0\#132

Merged

[sandrohanea](/sandrohanea)
merged 9 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[release/1.5.0](/sandrohanea/whisper.net/tree/release/1.5.0 "sandrohanea/whisper.net:release/1.5.0")

Nov 25, 2023

Merged

# [Release/1.5.0](\#top)\#132

[sandrohanea](/sandrohanea)
merged 9 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[release/1.5.0](/sandrohanea/whisper.net/tree/release/1.5.0 "sandrohanea/whisper.net:release/1.5.0")

Nov 25, 2023

+7,150

−1,508


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Nov 18, 2023](\#issue-2000460347)•   edited      Loading

- Upgraded to Whisper.cpp 1.5.1

- Improved cancellation using CancellationToken provided => it's using the onabort handler in native library to cancel the processing faster


=\> addressing concerns from [AccessViolation when try to cancel ProcessAsync() #23](https://github.com/sandrohanea/whisper.net/issues/23)

- Logging improvements: not logging to stderr by default anymore, but events can be registered (see [LogProvider](https://github.com/sandrohanea/whisper.net/tree/main/Whisper.net/Logger/LogProvider))


=\> Added optional logging in simple samples + CoreML sample


=\> Logging is now suppressed by default: [Is there a way to suppress Console logging? #129](https://github.com/sandrohanea/whisper.net/issues/129)

- Added `useGpu` on WhisperFactory creation so that GPU usage can be disabled on specific runtimes (e.g. Cublas, CoreML, etc)

- Upgraded dotnet targets to dotnet 8

- Added support for whisper large v3 (including downloader + coreml model)


=\> Old model Large in downloader should be renamed to LargeV2 see [GgmlType](https://github.com/sandrohanea/whisper.net/blob/main/Whisper.net/Ggml/GgmlType.cs)

- Added linux-x64 support for Whisper.net.Runtime.Cublas

- Added support for distil-whisper [Adding Distil-Whisper - distilled version of Whisper that is 6 times faster, 49% smaller  #126](https://github.com/sandrohanea/whisper.net/issues/126)


=\> No downloader added, you'll need to load the model yourself


=\> How to build the model: [https://github.com/ggerganov/whisper.cpp/tree/master/models#distilled-models](https://github.com/ggerganov/whisper.cpp/tree/master/models#distilled-models)

- **Added automated builds for all runtimes using Github Actions**

- Unified runtime builds with make for linux, macos, ios, tvos, wasm and powershell scripts for windows

- Added Blazor with InteractivityAuto, InteractivityServer and InteractivityWebAssemly support


=\> sample with new dotnet 8 Blazor template added.

- Unified Whisper.net.Runtime.Wasm with Whisper.net.Runtime


=\> If previously you were using Whisper.net.Runtime.Wasm, just replace it with Whisper.net.Runtime

- Added metal support for arm-based apple platforms (both Whisper.net.Runtime + Whisper.net.Runtime.CoreML)


Sorry, something went wrong.


All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

OwnerAuthor

### **[sandrohanea](/sandrohanea)**     commented   [Nov 18, 2023](\#issuecomment-1817535514)

|     |
| --- |
| Blocked by: [ggerganov/whisper.cpp#1519](https://github.com/ggerganov/whisper.cpp/pull/1519) |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added
the
[blocked](/sandrohanea/whisper.net/labels/blocked)
label

[Nov 18, 2023](#event-11001943637)

[![@Alumniminium](https://avatars.githubusercontent.com/u/23240553?s=80&u=bdd42a374bd16224eb5fce202ffa56910c4598b6&v=4)](/Alumniminium)


Copy link

### **[Alumniminium](/Alumniminium)**     commented   [Nov 19, 2023](\#issuecomment-1817837266)

|     |
| --- |
| Concerningly, no mention of [#128](https://github.com/sandrohanea/whisper.net/issues/128) |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea) [force-pushed](/sandrohanea/whisper.net/compare/b56fe561d77920a385af3460f02310e7a94701b1..493d7b1e44fb63f86696e105f9c7261a920200a6)
the
release/1.5.0
branch
from
[`b56fe56`](/sandrohanea/whisper.net/commit/b56fe561d77920a385af3460f02310e7a94701b1) to
[`493d7b1`](/sandrohanea/whisper.net/commit/493d7b1e44fb63f86696e105f9c7261a920200a6) [Compare](/sandrohanea/whisper.net/compare/b56fe561d77920a385af3460f02310e7a94701b1..493d7b1e44fb63f86696e105f9c7261a920200a6) [November 21, 2023 18:37](#event-11027979057)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added

[in progress](/sandrohanea/whisper.net/labels/in%20progress)

and removed

[blocked](/sandrohanea/whisper.net/labels/blocked)

labels

[Nov 22, 2023](#event-11041369540)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

OwnerAuthor

### **[sandrohanea](/sandrohanea)**     commented   [Nov 22, 2023](\#issuecomment-1823532673)

|     |
| --- |
| > Concerningly, no mention of [#128](https://github.com/sandrohanea/whisper.net/issues/128)<br>Will be addressed in this release as well (at least for Whisper.net.Runtime.Cublas) |

![heart](https://github.githubassets.com/assets/2764-982dc91ea48a.png)1Alumniminium reacted with heart emoji

All reactions

- ![heart](https://github.githubassets.com/assets/2764-982dc91ea48a.png)1 reaction

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
           - Upgraded to Whisper.cpp 1.5.1
        ` …

Loading

Loading status checks…

`
          b4f16d3
        `

```
 - Improved cancellation using CancellationToken provided => it's using the onabort handler in native library to cancel the processing faster
    => addressing concerns from #23

  - Logging improvements: not logging to stderr by default anymore, but events can be registered (see [LogProvider](https://github.com/sandrohanea/whisper.net/tree/main/Whisper.net/Logger/LogProvider))
     => Added optional logging in simple samples + CoreML sample
     => Logging is now suppressed by default: #129

   - Added `useGpu` on WhisperFactory creation so that GPU usage can be disabled on specific runtimes (e.g. Cublas, CoreML, etc)

   - Upgraded dotnet targets to dotnet 8

   - Added support for whisper large v3 (including downloader + coreml model)
       => Old model Large in downloader should be renamed to LargeV2 see [GgmlType](https://github.com/sandrohanea/whisper.net/blob/main/Whisper.net/Ggml/GgmlType.cs)

   - Added linux-x64 support for Whisper.net.Runtime.Cublas

   - Added support for distil-whisper #126
       => No downloader added, you'll need to load the model yourself
       => How to build the model: https://github.com/ggerganov/whisper.cpp/tree/master/models#distilled-models

   - **Added automated builds for all runtimes using Github Actions**

   - Unified runtime builds with make for linux, macos, ios, tvos, wasm and powershell scripts for windows

   - Added Blazor with InteractivityAuto, InteractivityServer and InteractivityWebAssemly sample with Blazor updated in dotnet 8.

   - Unified Whisper.net.Runtime.Wasm with Whisper.net.Runtime
       => If previously you were using Whisper.net.Runtime.Wasm, just replace it with Whisper.net.Runtime

   - Added metal support for arm-based apple platforms (both Whisper.net.Runtime + Whisper.net.Runtime.CoreML)
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea) [force-pushed](/sandrohanea/whisper.net/compare/00c3f4c4ad637d73e3ea6f1eb32bf44f068c0e81..b4f16d37e9940729583272c16555c67fec07fbcd)
the
release/1.5.0
branch
from
[`00c3f4c`](/sandrohanea/whisper.net/commit/00c3f4c4ad637d73e3ea6f1eb32bf44f068c0e81) to
[`b4f16d3`](/sandrohanea/whisper.net/commit/b4f16d37e9940729583272c16555c67fec07fbcd) [Compare](/sandrohanea/whisper.net/compare/00c3f4c4ad637d73e3ea6f1eb32bf44f068c0e81..b4f16d37e9940729583272c16555c67fec07fbcd) [November 25, 2023 14:34](#event-11060927648)

[sandrohanea](/sandrohanea) and others
added 8 commits
[November 25, 2023 15:38](#commits-pushed-83d462d)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Commented local_whisper nuget source + reset github actions to execut…
        ` …

Loading

Loading status checks…

`
          83d462d
        `

```
…e against PRs
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed linux build + changed native github actions to work with PRs as…
        ` …

Loading

Loading status checks…

`
          71400c9
        `

```
… well, not only branches
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes wasm
        `

`
          1647ed1
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes android
        `

`
          c28de12
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes windows
        `

`
          e7ce1a0
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes macos
        `

`
          fad54a9
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Updated readme
        `

Loading

Loading status checks…

`
          c063d44
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)

`
          Add native changes linux
        `

`
          e35883f
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`8711b1b`](/sandrohanea/whisper.net/commit/8711b1bf6b68cf1323864513d65d532c5469e733)
into

main[Nov 25, 2023](https://github.com/sandrohanea/whisper.net/pull/132#event-11061089631)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

release/1.5.0

branch

[November 25, 2023 16:18](#event-11061089714)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F132)

Reviewers


No reviews

Assignees


No one assigned

Labels


[in progress](/sandrohanea/whisper.net/labels/in%20progress)

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

2 participants


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)[![@Alumniminium](https://avatars.githubusercontent.com/u/23240553?s=52&v=4)](/Alumniminium)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# whisper.net/.gitignore at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# .gitignore

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Fixed vulkan and coreml targets (](/sandrohanea/whisper.net/commit/5f8c302a699db8b04fe89f6064ed423b82d9219a) [#218](https://github.com/sandrohanea/whisper.net/pull/218) [)](/sandrohanea/whisper.net/commit/5f8c302a699db8b04fe89f6064ed423b82d9219a)

Oct 14, 2024

[5f8c302](/sandrohanea/whisper.net/commit/5f8c302a699db8b04fe89f6064ed423b82d9219a) · Oct 14, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/.gitignore)

375 lines (300 loc) · 6.57 KB

/

# .gitignore

Top

## File metadata and controls

- Code

- Blame


375 lines (300 loc) · 6.57 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/.gitignore)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

62

63

64

65

66

67

68

69

70

71

72

73

74

75

76

77

78

79

80

81

82

83

84

85

86

87

88

89

90

91

92

93

94

95

96

97

98

99

100

101

102

103

104

105

106

107

108

109

110

111

112

113

114

115

116

117

118

119

120

121

122

123

124

125

126

127

128

129

130

131

132

133

134

135

136

137

138

139

140

141

142

143

144

145

146

147

148

149

150

151

152

153

154

155

156

157

158

159

160

161

162

163

164

165

166

167

168

169

170

171

172

173

174

175

176

177

178

179

180

181

182

183

184

185

186

187

188

189

190

191

192

193

194

195

196

197

198

199

200

201

202

203

204

205

206

207

208

209

210

211

212

213

214

215

216

217

218

219

220

221

222

223

224

225

226

227

228

229

230

231

232

233

234

235

236

237

238

239

240

241

242

243

244

245

246

247

248

249

250

251

252

253

254

255

256

257

258

259

260

261

262

263

264

265

266

267

268

269

270

271

272

273

274

275

276

277

278

279

280

281

282

283

284

285

286

287

288

289

290

291

292

293

294

295

296

297

298

299

300

301

302

303

304

305

306

307

308

309

310

311

312

313

314

315

316

317

318

319

320

321

322

323

324

325

326

327

328

329

330

331

332

333

334

335

336

337

338

339

340

341

342

343

344

345

346

347

348

349

350

351

352

353

354

355

356

357

358

359

360

361

362

363

364

365

366

367

368

369

370

371

372

373

374

375

#\# Ignore Visual Studio temporary files, build results, and

#\# files generated by popular Visual Studio add-ons.

##

#\# Get latest from https://github.com/github/gitignore/blob/master/VisualStudio.gitignore

# User-specific files

\*.rsuser

\*.suo

\*.user

\*.userosscache

\*.sln.docstates

.DS\_Store

# User-specific files (MonoDevelop/Xamarin Studio)

\*.userprefs

# Mono auto generated files

mono\_crash.\*

# Build results

\[Dd\]ebug/

\[Dd\]ebugPublic/

\[Rr\]elease/

\[Rr\]eleases/

x64/

x86/

\[Aa\]\[Rr\]\[Mm\]/

\[Aa\]\[Rr\]\[Mm\]64/

bld/

\[Bb\]in/

\[Oo\]bj/

\[Ll\]og/

\[Ll\]ogs/

# Visual Studio 2015/2017 cache/options directory

.vs/

.idea/

# Uncomment if you have tasks that create the project's static files in wwwroot

#wwwroot/

# Visual Studio 2017 auto generated files

Generated\ Files/

# MSTest test Results

\[Tt\]est\[Rr\]esult\*/

\[Bb\]uild\[Ll\]og.\*

# NUnit

\*.VisualState.xml

TestResult.xml

nunit-\*.xml

# Build Results of an ATL Project

\[Dd\]ebugPS/

\[Rr\]eleasePS/

dlldata.c

# Benchmark Results

BenchmarkDotNet.Artifacts/

# .NET Core

project.lock.json

project.fragment.lock.json

artifacts/

# StyleCop

StyleCopReport.xml

# Files built by Visual Studio

\*\_i.c

\*\_p.c

\*\_h.h

\*.ilk

\*.meta

\*.obj

\*.iobj

\*.pch

\*.pdb

\*.ipdb

\*.pgc

\*.pgd

\*.rsp

\*.sbr

\*.tlb

\*.tli

\*.tlh

\*.tmp

\*.tmp\_proj

\*\_wpftmp.csproj

\*.log

\*.vspscc

\*.vssscc

.builds

\*.pidb

\*.svclog

\*.scc

# Chutzpah Test files

\_Chutzpah\*

# Visual C++ cache files

ipch/

\*.aps

\*.ncb

\*.opendb

\*.opensdf

\*.sdf

\*.cachefile

\*.VC.db

\*.VC.VC.opendb

# Visual Studio profiler

\*.psess

\*.vsp

\*.vspx

\*.sap

# Visual Studio Trace Files

\*.e2e

# TFS 2012 Local Workspace

$tf/

# Guidance Automation Toolkit

\*.gpState

# ReSharper is a .NET coding add-in

\_ReSharper\*/

\*.\[Rr\]e\[Ss\]harper

\*.DotSettings.user

# TeamCity is a build add-in

\_TeamCity\*

# DotCover is a Code Coverage Tool

\*.dotCover

# AxoCover is a Code Coverage Tool

.axoCover/\*

!.axoCover/settings.json

# Visual Studio code coverage results

\*.coverage

\*.coveragexml

# NCrunch

\_NCrunch\_\*

.\*crunch\*.local.xml

nCrunchTemp\_\*

# MightyMoose

\*.mm.\*

AutoTest.Net/

# Web workbench (sass)

.sass-cache/

# Installshield output folder

\[Ee\]xpress/

# DocProject is a documentation generator add-in

DocProject/buildhelp/

DocProject/Help/\*.HxT

DocProject/Help/\*.HxC

DocProject/Help/\*.hhc

DocProject/Help/\*.hhk

DocProject/Help/\*.hhp

DocProject/Help/Html2

DocProject/Help/html

# Click-Once directory

publish/

# Publish Web Output

\*.\[Pp\]ublish.xml

\*.azurePubxml

# Note: Comment the next line if you want to checkin your web deploy settings,

# but database connection strings (with potential passwords) will be unencrypted

\*.pubxml

\*.publishproj

# Microsoft Azure Web App publish settings. Comment the next line if you want to

# checkin your Azure Web App publish settings, but sensitive information contained

# in these scripts will be unencrypted

PublishScripts/

# NuGet Packages

\*.nupkg

# NuGet Symbol Packages

\*.snupkg

# The packages folder can be ignored because of Package Restore

\*\*/\[Pp\]ackages/\*

# except build/, which is used as an MSBuild target.

!\*\*/\[Pp\]ackages/build/

# Uncomment if necessary however generally it will be regenerated when needed

#!\*\*/\[Pp\]ackages/repositories.config

# NuGet v3's project.json files produces more ignorable files

\*.nuget.props

\*.nuget.targets

# Microsoft Azure Build Output

csx/

\*.build.csdef

# Microsoft Azure Emulator

ecf/

rcf/

# Windows Store app package directories and files

AppPackages/

BundleArtifacts/

Package.StoreAssociation.xml

\_pkginfo.txt

\*.appx

\*.appxbundle

\*.appxupload

# Visual Studio cache files

# files ending in .cache can be ignored

\*.\[Cc\]ache

# but keep track of directories ending in .cache

!?\*.\[Cc\]ache/

# Others

ClientBin/

~$\*

\*~

\*.dbmdl

\*.dbproj.schemaview

\*.jfm

\*.pfx

\*.publishsettings

orleans.codegen.cs

# Including strong name files can present a security risk

# (https://github.com/github/gitignore/pull/2483#issue-259490424)

#\*.snk

# Since there are multiple workflows, uncomment next line to ignore bower\_components

# (https://github.com/github/gitignore/pull/1529#issuecomment-104372622)

#bower\_components/

# RIA/Silverlight projects

Generated\_Code/

# Backup & report files from converting an old project file

# to a newer Visual Studio version. Backup files are not needed,

# because we have git ;-)

\_UpgradeReport\_Files/

Backup\*/

UpgradeLog\*.XML

UpgradeLog\*.htm

ServiceFabricBackup/

\*.rptproj.bak

# SQL Server files

\*.mdf

\*.ldf

\*.ndf

# Business Intelligence projects

\*.rdl.data

\*.bim.layout

\*.bim\_\*.settings

\*.rptproj.rsuser

\*- \[Bb\]ackup.rdl

\*- \[Bb\]ackup(\[0-9\]).rdl

\*- \[Bb\]ackup(\[0-9\]\[0-9\]).rdl

# Microsoft Fakes

FakesAssemblies/

# GhostDoc plugin setting file

\*.GhostDoc.xml

# Node.js Tools for Visual Studio

.ntvs\_analysis.dat

node\_modules/

# Visual Studio 6 build log

\*.plg

# Visual Studio 6 workspace options file

\*.opt

# Visual Studio 6 auto-generated workspace file (contains which files were open etc.)

\*.vbw

# Visual Studio LightSwitch build output

\*\*/\*.HTMLClient/GeneratedArtifacts

\*\*/\*.DesktopClient/GeneratedArtifacts

\*\*/\*.DesktopClient/ModelManifest.xml

\*\*/\*.Server/GeneratedArtifacts

\*\*/\*.Server/ModelManifest.xml

\_Pvt\_Extensions

# Paket dependency manager

.paket/paket.exe

paket-files/

# FAKE - F# Make

.fake/

# CodeRush personal settings

.cr/personal

# Python Tools for Visual Studio (PTVS)

\_\_pycache\_\_/

\*.pyc

# Cake - Uncomment if you are using it

# tools/\*\*

# !tools/packages.config

# Tabs Studio

\*.tss

# Telerik's JustMock configuration file

\*.jmconfig

# BizTalk build output

\*.btp.cs

\*.btm.cs

\*.odx.cs

\*.xsd.cs

# OpenCover UI analysis results

OpenCover/

# Azure Stream Analytics local run output

ASALocalRun/

# MSBuild Binary and Structured Log

\*.binlog

# NVidia Nsight GPU debugger configuration file

\*.nvuser

# MFractors (Xamarin productivity tool) working folder

.mfractor/

# Local History for Visual Studio

.localhistory/

# BeatPulse healthcheck temp database

healthchecksdb

# Backup folder for Package Reference Convert tool in Visual Studio 2017

MigrationBackup/

# Ionide (cross platform F# VS Code tools) working folder

.ionide/

#build path for CMake

/src/build

/build

/nupkgs

/runtimes/Whisper.net.Runtime/\*

!/runtimes/Whisper.net.Runtime/Whisper.net.Runtime.targets

/runtimes/Whisper.net.Runtime.Cuda.\*/\*

!/runtimes/Whisper.net.Runtime.Cuda.\*/Whisper.net.Runtime.Cuda.\*.targets

/runtimes/Whisper.net.Runtime.Vulkan/\*

!/runtimes/Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets

/runtimes/Whisper.net.Runtime.CoreML/\*

!/runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets

/runtimes/Whisper.net.Runtime.OpenVino/\*

!/runtimes/Whisper.net.Runtime.OpenVino/Whisper.net.Runtime.OpenVino.targets

/runtimes/Whisper.net.Runtime.NoAvx/\*

!/runtimes/Whisper.net.Runtime.NoAvx/Whisper.net.Runtime.NoAvx.targets

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# Bumped versions (#276) · sandrohanea/whisper.net@71040fa · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/71040faf41d4079bbe810feb5bf56bbed3941127)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

Bumped versions ( [#276](https://github.com/sandrohanea/whisper.net/pull/276))


[Browse files](/sandrohanea/whisper.net/tree/71040faf41d4079bbe810feb5bf56bbed3941127) Browse the repository at this point in the history

```
* Bumped dotnet

* Bumped whisper.cpp

* Bumped xharness

* www

* Experinebt wutg wubdiws-latest

* added targets for maui with dotnet 9

* Fix static linking for iOS (#278)

---------

Co-authored-by: Aliaksei Kartashou <84724571+AncientLust@users.noreply.github.com>
```

- [main](/sandrohanea/whisper.net)
- ( [#276](/sandrohanea/whisper.net/pull/276 "Merged Pull Request: Bumped versions"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)
- …
- [1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)
- [1.7.3-preview2](/sandrohanea/whisper.net/releases/tag/1.7.3-preview2)
- [1.7.3-preview1](/sandrohanea/whisper.net/releases/tag/1.7.3-preview1)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)[![@AncientLust](https://avatars.githubusercontent.com/u/84724571?s=40&v=4)](/AncientLust)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")
and
[AncientLust](/sandrohanea/whisper.net/commits?author=AncientLust "View all commits by AncientLust")

authored
Nov 22, 2024

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[9baedd4](/sandrohanea/whisper.net/commit/9baedd4c6a6509aa1f9bcfd3d04884fa20dc9a89)commit 71040fa

Show file tree

Hide file tree

Showing
**24 changed files**
with
**44 additions**
and
**45 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

7 changes: 4 additions & 3 deletions
7 [.github/workflows/dotnet-maui.yml](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937 ".github/workflows/dotnet-maui.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/.github/workflows/dotnet-maui.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand Up | @@ -20,7 +20,7 @@ jobs: |
|  |  | uses: actions/setup-dotnet@v4 |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  | 9.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
| [Expand All](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand All | @@ -38,14 +38,14 @@ jobs: |
|  |  | run: dotnet restore ./Whisper.net.Maui.Tests.sln |
|  |  |  |
|  |  | \- name: Publish android build |
|  |  | run: dotnet publish ./tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj -c Debug -f net8.0-android -p:EmbedAssembliesIntoApk=true |
|  |  | run: dotnet publish ./tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj -c Debug -f net9.0-android -p:EmbedAssembliesIntoApk=true |
|  |  |  |
|  |  | \- name: Upload apk and ios app |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: maui-build-artifacts |
|  |  | path: \| |
|  |  | ./tests/Whisper.net.Maui.Tests/bin/Debug/net8.0-android/com.companyname.whisper.net.maui.tests-Signed.apk |
|  |  | ./tests/Whisper.net.Maui.Tests/bin/Debug/net9.0-android/com.companyname.whisper.net.maui.tests-Signed.apk |
|  |  |  |
|  |  | dotnet-maui-test-android: |
|  |  | runs-on: ubuntu-latest |
| [Expand Down](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand Down [Expand Up](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand Up | @@ -83,6 +83,7 @@ jobs: |
|  |  | uses: reactivecircus/android-emulator-runner@v2 |
|  |  | with: |
|  |  | api-level: 29 |
|  |  | arch: x86\_64 |
|  |  | script: xharness android test --app=./maui-build-artifacts/com.companyname.whisper.net.maui.tests-Signed.apk -p com.companyname.whisper.net.maui.tests -i com.companyname.whisper.net.maui.tests.AndroidMauiTestInstrumentation -o=./test-results/android |
|  |  |  |
|  |  | \- name: Upload Maui Android xharness test results |
| [Expand Down](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [.github/workflows/dotnet.yml](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344 ".github/workflows/dotnet.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/.github/workflows/dotnet.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Up | @@ -18,7 +18,7 @@ jobs: |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  | 6.0.x |
|  |  | 9.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
| [Expand Down](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Down [Expand Up](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Up | @@ -48,7 +48,7 @@ jobs: |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  | 6.0.x |
|  |  | 9.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
| [Expand Down](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Down [Expand Up](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Up | @@ -78,7 +78,7 @@ jobs: |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  | 6.0.x |
|  |  | 9.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
| [Expand Down](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Down |  |

13 changes: 5 additions & 8 deletions
13 [Directory.Packages.props](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156 "Directory.Packages.props")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/Directory.Packages.props)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156) Expand Up | @@ -2,23 +2,20 @@ |
|  |  | <!-- Directory.Packages.props gets included automatically during the build. Read more here: |
|  |  | https://learn.microsoft.com/en-us/nuget/consume-packages/Central-Package-Management--> |
|  |  | <ItemGroup> |
|  |  | <PackageVersionInclude="Microsoft.Bcl.AsyncInterfaces"Version="8.0.0" /> |
|  |  | <PackageVersionInclude="System.Memory"Version="4.5.5" /> |
|  |  | <PackageVersionInclude="Microsoft.Bcl.AsyncInterfaces"Version="9.0.0" /> |
|  |  | <PackageVersionInclude="System.Memory"Version="4.6.0" /> |
|  |  | <PackageVersionInclude="System.IO.Compression"Version="4.3.0" /> |
|  |  | <PackageVersionInclude="System.Net.Http"Version="4.3.4" /> |
|  |  | <PackageVersionInclude="FluentAssertions"Version="6.12.2" /> |
|  |  | <PackageVersionInclude="CommandLineParser"Version="2.9.1" /> |
|  |  |  |
|  |  |  |
|  |  | <!-- Tests --> |
|  |  | <PackageVersionInclude="coverlet.collector"Version="6.0.2" /> |
|  |  | <PackageVersionInclude="Microsoft.NET.Test.Sdk"Version="17.11.1" /> |
|  |  | <PackageVersionInclude="Microsoft.NET.Test.Sdk"Version="17.12.0" /> |
|  |  | <PackageVersionInclude="xunit"Version="2.9.2" /> |
|  |  | <PackageVersionInclude="xunit.runner.visualstudio"Version="2.8.2" /> |
|  |  |  |
|  |  | <PackageVersionInclude="Microsoft.DotNet.XHarness.TestRunners.Xunit"Version="10.0.0-prerelease.24555.2" /> |
|  |  | <PackageVersionInclude="Microsoft.DotNet.XHarness.TestRunners.Xunit"Version="10.0.0-prerelease.24564.1" /> |
|  |  | <PackageVersionInclude="xunit.assert"Version="2.9.2" /> |
|  |  | <PackageVersionInclude="Microsoft.Extensions.Logging.Debug"Version="8.0.1" /> |
|  |  | <PackageVersionInclude="Microsoft.Extensions.Logging.Debug"Version="9.0.0" /> |
|  |  | <PackageVersionInclude="Microsoft.Maui.Controls"Version="$(MauiVersion)" /> |
|  |  | <PackageVersionInclude="Microsoft.Maui.Controls.Compatibility"Version="$(MauiVersion)" /> |
|  |  | </ItemGroup> |
| [Expand Down](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156) Expand Down |  |

4 changes: 2 additions & 2 deletions
4 [Whisper.net.Demo/Whisper.net.Demo.csproj](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a "Whisper.net.Demo/Whisper.net.Demo.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/Whisper.net.Demo/Whisper.net.Demo.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a) Expand Up | @@ -3,8 +3,8 @@ |
|  |  | <ImportCondition="'$(EnableCoreML)' == 'true'"Project="../runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets" /> |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0</TargetFrameworks> |
|  |  | <LangVersion>10</LangVersion> |
|  |  | <TargetFrameworks>net9.0</TargetFrameworks> |
|  |  | <LangVersion>13</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [Whisper.net/Internals/Native/Implementations/LibraryImportInternalWhisper.cs](#diff-0cb77079b5cd2054a6d94e4246692db327fa1f39d0a1a8d80634cb07bcfeef4f "Whisper.net/Internals/Native/Implementations/LibraryImportInternalWhisper.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/Whisper.net/Internals/Native/Implementations/LibraryImportInternalWhisper.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-0cb77079b5cd2054a6d94e4246692db327fa1f39d0a1a8d80634cb07bcfeef4f) Expand Up | @@ -10,7 +10,7 @@ namespace Whisper.net.Internals.Native.Implementations; |
|  |  | /// </summary> |
|  |  | internalpartialclassLibraryImportInternalWhisper:INativeWhisper |
|  |  | { |
|  |  | conststringlibraryName="\_Internal"; |
|  |  | conststringlibraryName="\_\_Internal"; |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_init\_from\_file\_with\_params\_no\_state(stringpath,WhisperContextParamswhisperContextParams); |
| [Expand Down](#diff-0cb77079b5cd2054a6d94e4246692db327fa1f39d0a1a8d80634cb07bcfeef4f) Expand Down |  |

4 changes: 2 additions & 2 deletions
4 [Whisper.net/Whisper.net.csproj](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8 "Whisper.net/Whisper.net.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/Whisper.net/Whisper.net.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand Up | @@ -3,7 +3,7 @@ |
|  |  | <PropertyGroup> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | <LangVersion>13</LangVersion> |
|  |  | <Version>1.7.3</Version> |
|  |  | <Authors>Sandro Hanea</Authors> |
|  |  | <Description>Cross-platform dotnet bindings for Whisper.</Description> |
| [Expand All](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand All | @@ -30,7 +30,7 @@ |
|  |  |  |
|  |  | <PropertyGroupCondition="$(USE\_WHISPER\_MAUI) != ''"> |
|  |  | <TargetFrameworks> |
|  |  | net8.0;net6.0;netstandard2.0;net8.0-ios;net8.0-tvos;net8.0-maccatalyst;net8.0-android |
|  |  | net8.0;net9.0;netstandard2.0;net8.0-ios;net8.0-tvos;net8.0-maccatalyst;net8.0-android;net9.0-ios;net9.0-tvos;net9.0-maccatalyst;net9.0-android |
|  |  | </TargetFrameworks> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand Down |  |

6 changes: 2 additions & 4 deletions
6 [examples/BlazorApp/BlazorApp.Client/BlazorApp.Client.csproj](#diff-dac16f167a4de3a274091683f1f8ed8a8dbd38bb5d963062cf5250b09150b748 "examples/BlazorApp/BlazorApp.Client/BlazorApp.Client.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/BlazorApp/BlazorApp.Client/BlazorApp.Client.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,7 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk.BlazorWebAssembly"> |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <TargetFramework>net9.0</TargetFramework> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <NoDefaultLaunchSettingsFile>true</NoDefaultLaunchSettingsFile> |
| [Expand All](#diff-dac16f167a4de3a274091683f1f8ed8a8dbd38bb5d963062cf5250b09150b748) Expand All | @@ -10,11 +10,9 @@ |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="Microsoft.AspNetCore.Components.WebAssembly"Version="8.0.10" /> |
|  |  | <PackageReferenceInclude="Microsoft.AspNetCore.Components.WebAssembly"Version="9.0.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.7.2" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.7.2" /> |
|  |  | <!-- Version pinning for System.Text.Json just becasue of https://github.com/advisories/GHSA-hh2w-p6rv-4g7w warning --> |
|  |  | <PackageReferenceInclude="System.Text.Json"Version="8.0.5" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | </Project> |

4 changes: 2 additions & 2 deletions
4 [examples/BlazorApp/BlazorApp/BlazorApp.csproj](#diff-4e2337db692b8e5561fa265be01d141d0eebbcc6eb185a9804659fcc1e1ed700 "examples/BlazorApp/BlazorApp/BlazorApp.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/BlazorApp/BlazorApp/BlazorApp.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,14 +1,14 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk.Web"> |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <TargetFramework>net9.0</TargetFramework> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <ProjectReferenceInclude="..\\BlazorApp.Client\\BlazorApp.Client.csproj" /> |
|  |  | <PackageReferenceInclude="Microsoft.AspNetCore.Components.WebAssembly.Server"Version="8.0.10" /> |
|  |  | <PackageReferenceInclude="Microsoft.AspNetCore.Components.WebAssembly.Server"Version="9.0.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | </Project> |

3 changes: 2 additions & 1 deletion
3 [examples/ContinuousRecognition/ContinuousRecognition.csproj](#diff-01fa19feab66770f8bb2a064c3db635dd84abf34bbefe85800bbd1297247ecf4 "examples/ContinuousRecognition/ContinuousRecognition.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/ContinuousRecognition/ContinuousRecognition.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-01fa19feab66770f8bb2a064c3db635dd84abf34bbefe85800bbd1297247ecf4) Expand Up | @@ -2,9 +2,10 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <LangVersion>13</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-01fa19feab66770f8bb2a064c3db635dd84abf34bbefe85800bbd1297247ecf4) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [examples/CoreML/CoreML.csproj](#diff-b490c1d02ba128028402ff3ca9e8dc3a5785b71dd2a7d516e46c7ee3e1414af6 "examples/CoreML/CoreML.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/CoreML/CoreML.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-b490c1d02ba128028402ff3ca9e8dc3a5785b71dd2a7d516e46c7ee3e1414af6) Expand Up | @@ -2,7 +2,7 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0</TargetFrameworks> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-b490c1d02ba128028402ff3ca9e8dc3a5785b71dd2a7d516e46c7ee3e1414af6) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [examples/Diarization/Diarization.csproj](#diff-d340dbb04646c42c7b9a71cede5859ae12bce76be563612d2f2042611a7e1188 "examples/Diarization/Diarization.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/Diarization/Diarization.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d340dbb04646c42c7b9a71cede5859ae12bce76be563612d2f2042611a7e1188) Expand Up | @@ -2,7 +2,7 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <TargetFrameworks>net9.0</TargetFrameworks> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | </PropertyGroup> |
| [Expand Down](#diff-d340dbb04646c42c7b9a71cede5859ae12bce76be563612d2f2042611a7e1188) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [examples/Diarization/Program.cs](#diff-3377368d008fdf519a37f5a5f7a496c638422493cffcbba97d9a91db7f00b68f "examples/Diarization/Program.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/Diarization/Program.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-3377368d008fdf519a37f5a5f7a496c638422493cffcbba97d9a91db7f00b68f) Expand Up | @@ -54,11 +54,11 @@ |
|  |  | fileStream.Position=headerSize+startSample\*frameSize; |
|  |  |  |
|  |  | // Read the wave data for the specified time interval, into the readBuffer. |
|  |  | awaitfileStream.ReadAsync(readBuffer.AsMemory()); |
|  |  | varread=awaitfileStream.ReadAsync(readBuffer.AsMemory()); |
|  |  |  |
|  |  | // Process the readBuffer and convert to shorts. |
|  |  | varbuffer=newshort\[bufferSize/2\]; |
|  |  | for(vari=0;i<buffer.Length;i++) |
|  |  | varbuffer=newshort\[read/2\]; |
|  |  | for(vari=0;i<read;i++) |
|  |  | { |
|  |  | // Handle endianess manually and convert bytes to Int16. |
|  |  | buffer\[i\]=BitConverter.IsLittleEndian |
| [Expand Down](#diff-3377368d008fdf519a37f5a5f7a496c638422493cffcbba97d9a91db7f00b68f) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [examples/MultiRuntime/MultiRuntime.csproj](#diff-8a3d772256255cf0d9c6c2c2722e32bb957e93fe37f1250c3c026ff17192a480 "examples/MultiRuntime/MultiRuntime.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/MultiRuntime/MultiRuntime.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-8a3d772256255cf0d9c6c2c2722e32bb957e93fe37f1250c3c026ff17192a480) Expand Up | @@ -2,7 +2,7 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-8a3d772256255cf0d9c6c2c2722e32bb957e93fe37f1250c3c026ff17192a480) Expand Down |  |

3 changes: 2 additions & 1 deletion
3 [examples/NAudioMp3/NAudioMp3.csproj](#diff-8410e9bf7a16fdf73fecef8892fc570eb456eafcee26d7135daa041fc53fcb76 "examples/NAudioMp3/NAudioMp3.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/NAudioMp3/NAudioMp3.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-8410e9bf7a16fdf73fecef8892fc570eb456eafcee26d7135daa041fc53fcb76) Expand Up | @@ -2,8 +2,9 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <LangVersion>13</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-8410e9bf7a16fdf73fecef8892fc570eb456eafcee26d7135daa041fc53fcb76) Expand Down |  |

3 changes: 2 additions & 1 deletion
3 [examples/NAudioResampleWav/NAudioResampleWav.csproj](#diff-21911d6634bd56fb0e79ec9b74dea6fb73e9b1e440df80ad900f1d10374f9c40 "examples/NAudioResampleWav/NAudioResampleWav.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/NAudioResampleWav/NAudioResampleWav.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-21911d6634bd56fb0e79ec9b74dea6fb73e9b1e440df80ad900f1d10374f9c40) Expand Up | @@ -2,8 +2,9 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <LangVersion>13</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-21911d6634bd56fb0e79ec9b74dea6fb73e9b1e440df80ad900f1d10374f9c40) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [examples/NvidiaCuda/NvidiaCuda.csproj](#diff-6cbccda5e815f5847348eda83c9d25e190e2853087f5c2215342abfc99ebfbae "examples/NvidiaCuda/NvidiaCuda.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/NvidiaCuda/NvidiaCuda.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-6cbccda5e815f5847348eda83c9d25e190e2853087f5c2215342abfc99ebfbae) Expand Up | @@ -2,7 +2,7 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-6cbccda5e815f5847348eda83c9d25e190e2853087f5c2215342abfc99ebfbae) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [examples/OpenVinoExample/OpenVinoExample.csproj](#diff-37d9793eccbb6f7caf447f51d665a904a0dca1b12dc0a1f7857aeb7d55bc8af2 "examples/OpenVinoExample/OpenVinoExample.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/OpenVinoExample/OpenVinoExample.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-37d9793eccbb6f7caf447f51d665a904a0dca1b12dc0a1f7857aeb7d55bc8af2) Expand Up | @@ -2,7 +2,7 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-37d9793eccbb6f7caf447f51d665a904a0dca1b12dc0a1f7857aeb7d55bc8af2) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [examples/ParallelExecution/ParallelExecution.csproj](#diff-5dc0e0bd06f681e6f3f61ae9279604c1d43d04654d8fd94924f9c67c070129e8 "examples/ParallelExecution/ParallelExecution.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/ParallelExecution/ParallelExecution.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5dc0e0bd06f681e6f3f61ae9279604c1d43d04654d8fd94924f9c67c070129e8) Expand Up | @@ -2,7 +2,7 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-5dc0e0bd06f681e6f3f61ae9279604c1d43d04654d8fd94924f9c67c070129e8) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [examples/Simple/Simple.csproj](#diff-34744e18f4efc3ce65a0ce2c240d0a4f55650799ee71760a78ac6c3b78c54603 "examples/Simple/Simple.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/Simple/Simple.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-34744e18f4efc3ce65a0ce2c240d0a4f55650799ee71760a78ac6c3b78c54603) Expand Up | @@ -2,7 +2,7 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-34744e18f4efc3ce65a0ce2c240d0a4f55650799ee71760a78ac6c3b78c54603) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [examples/SimpleSync/SimpleSync.csproj](#diff-f9ed7c34ae738d1ba710f6a5c3b737ca44b19d4466216ca40003562820dfa985 "examples/SimpleSync/SimpleSync.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/SimpleSync/SimpleSync.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-f9ed7c34ae738d1ba710f6a5c3b737ca44b19d4466216ca40003562820dfa985) Expand Up | @@ -2,7 +2,7 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-f9ed7c34ae738d1ba710f6a5c3b737ca44b19d4466216ca40003562820dfa985) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [examples/Vulkan/Vulkan.csproj](#diff-27ded0fe51b7dd4542bbec74ab76555b4c25997c7cf1eb696d2b5bb07b18d74c "examples/Vulkan/Vulkan.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/examples/Vulkan/Vulkan.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-27ded0fe51b7dd4542bbec74ab76555b4c25997c7cf1eb696d2b5bb07b18d74c) Expand Up | @@ -2,7 +2,7 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net9.0; net472</TargetFrameworks> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-27ded0fe51b7dd4542bbec74ab76555b4c25997c7cf1eb696d2b5bb07b18d74c) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj](#diff-2d5e8bd797782d3f601e98df7c68b8d973fe6e5bef13719d0998d3ac20bb8aa2 "tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-2d5e8bd797782d3f601e98df7c68b8d973fe6e5bef13719d0998d3ac20bb8aa2) Expand Up | @@ -2,7 +2,7 @@ |
|  |  | <ImportProject="../../runtimes/Whisper.net.Runtime/Whisper.net.Runtime.targets" /> |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <TargetFrameworks>net8.0-android;net8.0-ios;net8.0-maccatalyst</TargetFrameworks> |
|  |  | <TargetFrameworks>net9.0-android;net9.0-ios;net9.0-maccatalyst</TargetFrameworks> |
|  |  |  |
|  |  | <!-- Note for MacCatalyst: |
|  |  | The default runtime is maccatalyst-x64, except in Release config, in which case the default is maccatalyst-x64;maccatalyst-arm64. |
| [Expand Down](#diff-2d5e8bd797782d3f601e98df7c68b8d973fe6e5bef13719d0998d3ac20bb8aa2) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [tests/Whisper.net.Tests/Whisper.net.Tests.csproj](#diff-25857b6667fce40dc9894132e28616976de05b35016edaedd96f86c7dcdf111e "tests/Whisper.net.Tests/Whisper.net.Tests.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/71040faf41d4079bbe810feb5bf56bbed3941127/tests/Whisper.net.Tests/Whisper.net.Tests.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-25857b6667fce40dc9894132e28616976de05b35016edaedd96f86c7dcdf111e) Expand Up | @@ -3,9 +3,9 @@ |
|  |  | <PropertyGroup> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | <LangVersion>13</LangVersion> |
|  |  | <IsTestProject>true</IsTestProject> |
|  |  | <TargetFrameworks>net8.0;net6.0</TargetFrameworks> |
|  |  | <TargetFrameworks>net8.0;net9.0</TargetFrameworks> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand All](#diff-25857b6667fce40dc9894132e28616976de05b35016edaedd96f86c7dcdf111e) Expand All | @@ -22,7 +22,7 @@ |
|  |  |  |
|  |  | <PropertyGroupCondition="$(\[MSBuild\]::IsOSPlatform('Windows'))"> |
|  |  | <TargetFrameworks> |
|  |  | net8.0;net6.0;net472; |
|  |  | net8.0;net9.0;net472; |
|  |  | </TargetFrameworks> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-25857b6667fce40dc9894132e28616976de05b35016edaedd96f86c7dcdf111e) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [whisper.cpp](#diff-7b638c730017b16cf40fc5b8d402c8729b9d4cce513b1d1f4d2e07c2e62ed9b4 "whisper.cpp")

Show comments


Submodule [whisper.cpp](https://github.com/ggerganov/whisper.cpp)

updated

[115 files](/ggerganov/whisper.cpp/compare/1626b73b035ff9aa2b8d6d7bc9eccfdcd783be24...6266a9f9e56a5b925e9892acf650f3eb1245814d)

Toggle all file notesToggle all file annotations

### 0 comments  on commit `71040fa`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2F71040faf41d4079bbe810feb5bf56bbed3941127) to comment.

You can’t perform that action at this time.

---

# A lot of changes for 1.7.0 (#201) · sandrohanea/whisper.net@0c2adaf · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

A lot of changes for 1.7.0 ( [#201](https://github.com/sandrohanea/whisper.net/pull/201))


[Browse files](/sandrohanea/whisper.net/tree/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f) Browse the repository at this point in the history

```
1.7.0 changes
```

- [main](/sandrohanea/whisper.net)
- ( [#201](/sandrohanea/whisper.net/pull/201 "Merged Pull Request: A lot of changes for 1.7.0"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)
- …
- [1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)
- [1.7.3-preview2](/sandrohanea/whisper.net/releases/tag/1.7.3-preview2)
- [1.7.3-preview1](/sandrohanea/whisper.net/releases/tag/1.7.3-preview1)
- [1.7.2](/sandrohanea/whisper.net/releases/tag/1.7.2)
- [1.7.2-preview3](/sandrohanea/whisper.net/releases/tag/1.7.2-preview3)
- [1.7.2-preview2](/sandrohanea/whisper.net/releases/tag/1.7.2-preview2)
- [1.7.2-preview1](/sandrohanea/whisper.net/releases/tag/1.7.2-preview1)
- [1.7.1](/sandrohanea/whisper.net/releases/tag/1.7.1)
- [1.7.1-preview1](/sandrohanea/whisper.net/releases/tag/1.7.1-preview1)
- [1.7.0](/sandrohanea/whisper.net/releases/tag/1.7.0)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

authored
Oct 7, 2024

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[ab34bc1](/sandrohanea/whisper.net/commit/ab34bc15cfc792478aa85c6709c7d360eed3b18c)commit 0c2adaf

Show file tree

Hide file tree

Showing
**120 changed files**
with
**1,577 additions**
and
**6,618 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

36 changes: 6 additions & 30 deletions
36 [.github/workflows/android-native-build.yaml](#diff-5ff5a1aeed02e52ef446e704a392d60bbd32f6104c5e98e310e7425434e2d13c ".github/workflows/android-native-build.yaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f/.github/workflows/android-native-build.yaml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5ff5a1aeed02e52ef446e704a392d60bbd32f6104c5e98e310e7425434e2d13c) Expand Up | @@ -2,7 +2,7 @@ |
|  |  | name: Android Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_dispatch: |
|  |  |  |
|  |  |  |
|  |  | jobs: |
| [Expand All](#diff-5ff5a1aeed02e52ef446e704a392d60bbd32f6104c5e98e310e7425434e2d13c) Expand All | @@ -18,40 +18,16 @@ jobs: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Check for submodule update |
|  |  | id: check\_submodule |
|  |  | run: \| |
|  |  | cd whisper.cpp |
|  |  | SUBMODULE\_COMMIT\_ID=$(git rev-parse HEAD) |
|  |  | echo "Submodule commit ID: $SUBMODULE\_COMMIT\_ID" |
|  |  | cd $GITHUB\_WORKSPACE |
|  |  | STORED\_COMMIT\_ID=$(cat native-commit-id-android) |
|  |  | echo "Stored commit ID: $STORED\_COMMIT\_ID" |
|  |  | if \[ "$SUBMODULE\_COMMIT\_ID" != "$STORED\_COMMIT\_ID" \]; then |
|  |  | echo "Submodule has new commits. Triggering build." |
|  |  | echo "trigger\_build=true" >> $GITHUB\_OUTPUT |
|  |  | echo $SUBMODULE\_COMMIT\_ID > native-commit-id-android |
|  |  | else |
|  |  | echo "No new commits in submodule." |
|  |  | echo "trigger\_build=false" >> $GITHUB\_OUTPUT |
|  |  | fi |
|  |  |  |
|  |  | \- name: Install Android NDK |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: nttld/setup-ndk@v1.4.2 |
|  |  | with: |
|  |  | ndk-version: r25c |
|  |  |  |
|  |  | \- name: Run android build |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make android |
|  |  |  |
|  |  | \- name: Pull latest commits |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: git pull origin ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Commit and Push |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: stefanzweifel/git-auto-commit-action@v4 |
|  |  |  |
|  |  | \- name: Upload Android Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | with: |
|  |  | commit\_message: Add native changes android |
|  |  | name: android-build |
|  |  | path: 'Whisper.net.Run\*/android-\*/\*' |

4 changes: 2 additions & 2 deletions
4 [.github/workflows/dotnet.yml](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344 ".github/workflows/dotnet.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f/.github/workflows/dotnet.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Up | @@ -6,8 +6,8 @@ name: CI |
|  |  | on: |
|  |  | push: |
|  |  | branches: \[ "main" \] |
|  |  | pull\_request: |
|  |  | branches: \[ "main" \] |
|  |  | #pull\_request: |
|  |  | # branches: \[ "main" \] |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
| [Expand Down](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Down |  |

40 changes: 7 additions & 33 deletions
40 [.github/workflows/linux-native-build.yml](#diff-ef61418a98b733b21bf6a3c776c31846efb7c4b0da4ce216e912d187135b8b2b ".github/workflows/linux-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f/.github/workflows/linux-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,8 @@ |
|  |  | name: Linux Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_dispatch: |
|  |  |  |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
| [Expand All](#diff-ef61418a98b733b21bf6a3c776c31846efb7c4b0da4ce216e912d187135b8b2b) Expand All | @@ -16,52 +17,25 @@ jobs: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Check for submodule update |
|  |  | id: check\_submodule |
|  |  | run: \| |
|  |  | cd whisper.cpp |
|  |  | SUBMODULE\_COMMIT\_ID=$(git rev-parse HEAD) |
|  |  | echo "Submodule commit ID: $SUBMODULE\_COMMIT\_ID" |
|  |  | cd $GITHUB\_WORKSPACE |
|  |  | STORED\_COMMIT\_ID=$(cat native-commit-id-linux) |
|  |  | echo "Stored commit ID: $STORED\_COMMIT\_ID" |
|  |  | if \[ "$SUBMODULE\_COMMIT\_ID" != "$STORED\_COMMIT\_ID" \]; then |
|  |  | echo "Submodule has new commits. Triggering build." |
|  |  | echo "trigger\_build=true" >> $GITHUB\_OUTPUT |
|  |  | echo $SUBMODULE\_COMMIT\_ID > native-commit-id-linux |
|  |  | else |
|  |  | echo "No new commits in submodule." |
|  |  | echo "trigger\_build=false" >> $GITHUB\_OUTPUT |
|  |  | fi |
|  |  |  |
|  |  | \- name: Install aarch64-linux-gnu-gcc |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-aarch64-linux-gnu && sudo apt-get install -y g++-aarch64-linux-gnu |
|  |  |  |
|  |  | \- name: Install gcc-arm-linux-gnueabihf |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-arm-linux-gnueabihf && sudo apt-get install -y g++-arm-linux-gnueabihf |
|  |  |  |
|  |  | \- name: Install CUDA Toolkit |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: Jimver/cuda-toolkit@v0.2.11 |
|  |  | with: |
|  |  | cuda: '12.1.0' |
|  |  |  |
|  |  | \- name: Run linux |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make linux |
|  |  |  |
|  |  | \- name: Remove CUDA installer |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: rm -rf cuda\_installer-\* |
|  |  |  |
|  |  | \- name: Pull latest commits |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: git pull origin ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Commit and Push |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: stefanzweifel/git-auto-commit-action@v4 |
|  |  |  |
|  |  | \- name: Upload Linux Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | with: |
|  |  | commit\_message: Add native changes linux |
|  |  | name: linux-build |
|  |  | path: 'Whisper.net.Run\*/linux-\*/\*' |

37 changes: 37 additions & 0 deletions
37 [.github/workflows/linux-openvino-build.yml](#diff-d82126e06c27dbbd0fa780691b85ebc83f7800ea238cd9ca443b93ea9cdba266 ".github/workflows/linux-openvino-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f/.github/workflows/linux-openvino-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,37 @@ |
|  |  | name: Linux OpenVino native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: ubuntu-20.04 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Install aarch64-linux-gnu-gcc |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-aarch64-linux-gnu && sudo apt-get install -y g++-aarch64-linux-gnu |
|  |  |  |
|  |  | \- name: Install gcc-arm-linux-gnueabihf |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-arm-linux-gnueabihf && sudo apt-get install -y g++-arm-linux-gnueabihf |
|  |  |  |
|  |  | \- name: Run linux |
|  |  | run: \| |
|  |  | wget https://storage.openvinotoolkit.org/repositories/openvino/packages/2024.4/linux/l\_openvino\_toolkit\_ubuntu20\_2024.4.0.16579.c3152d32c9c\_x86\_64.tgz -O openvino.tgz |
|  |  | mkdir openvino |
|  |  | tar -xvf openvino.tgz -C openvino |
|  |  | source openvino/l\_openvino\_toolkit\_ubuntu20\_2024.4.0.16579.c3152d32c9c\_x86\_64/setupvars.sh |
|  |  | make linux\_x64\_openvino |
|  |  |  |
|  |  | \- name: Upload Linux OpenVino Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | with: |
|  |  | name: linux-openvino-build |
|  |  | path: 'Whisper.net.Run\*/linux-\*/\*' |

80 changes: 41 additions & 39 deletions
80 [.github/workflows/macos-native-build.yaml](#diff-9e267e70b34f9eb991e1158d3f7ba6530818b7c9c850d4799c3b5ce872c164b6 ".github/workflows/macos-native-build.yaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f/.github/workflows/macos-native-build.yaml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-9e267e70b34f9eb991e1158d3f7ba6530818b7c9c850d4799c3b5ce872c164b6) Expand Up | @@ -2,13 +2,12 @@ |
|  |  | name: MacOs Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_dispatch: |
|  |  |  |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: macos-latest |
|  |  | intel-build: |
|  |  | runs-on: macos-13 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
| [Expand All](#diff-9e267e70b34f9eb991e1158d3f7ba6530818b7c9c850d4799c3b5ce872c164b6) Expand All | @@ -18,39 +17,42 @@ jobs: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Check for submodule update |
|  |  | id: check\_submodule |
|  |  | run: \| |
|  |  | cd whisper.cpp |
|  |  | SUBMODULE\_COMMIT\_ID=$(git rev-parse HEAD) |
|  |  | echo "Submodule commit ID: $SUBMODULE\_COMMIT\_ID" |
|  |  | cd $GITHUB\_WORKSPACE |
|  |  | STORED\_COMMIT\_ID=$(cat native-commit-id-macos) |
|  |  | echo "Stored commit ID: $STORED\_COMMIT\_ID" |
|  |  | if \[ "$SUBMODULE\_COMMIT\_ID" != "$STORED\_COMMIT\_ID" \]; then |
|  |  | echo "Submodule has new commits. Triggering build." |
|  |  | echo "trigger\_build=true" >> $GITHUB\_OUTPUT |
|  |  | echo $SUBMODULE\_COMMIT\_ID > native-commit-id-macos |
|  |  | else |
|  |  | echo "No new commits in submodule." |
|  |  | echo "trigger\_build=false" >> $GITHUB\_OUTPUT |
|  |  | fi |
|  |  |  |
|  |  |  |
|  |  | \- name: Run apple coreml build |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make apple\_coreml |
|  |  |  |
|  |  | \- name: Run apple build |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make apple |
|  |  |  |
|  |  | \- name: Pull latest commits |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: git pull origin ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Commit and Push |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: stefanzweifel/git-auto-commit-action@v4 |
|  |  | \- name: Run apple coreml build for x64 |
|  |  | run: make apple\_coreml\_x64 |
|  |  |  |
|  |  | \- name: Run apple build for x64 |
|  |  | run: make apple\_x64 |
|  |  |  |
|  |  | \- name: Upload Mac Intel Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | with: |
|  |  | name: mac-intel-build |
|  |  | path: \| |
|  |  | Whisper.net.Run\*/\*/\* |
|  |  | Whisper.net.Run\*/\*.metal |
|  |  |  |
|  |  | arm-build: |
|  |  | needs: intel-build |
|  |  | runs-on: macos-14 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Run apple build for arm |
|  |  | run: make apple\_arm |
|  |  |  |
|  |  | \- name: Run apple coreml build for arm |
|  |  | run: make apple\_coreml\_arm |
|  |  |  |
|  |  | \- name: Upload Mac Arm Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | with: |
|  |  | commit\_message: Add native changes macos |
|  |  | name: mac-arm-build |
|  |  | path: \| |
|  |  | Whisper.net.Run\*/\*/\* |
|  |  | Whisper.net.Run\*/\*.metal |

37 changes: 6 additions & 31 deletions
37 [.github/workflows/wasm-native-build.yaml](#diff-394af40cc2905a64bb796320277ba589fbe33228f1a5502ff0c9f7454ea04b85 ".github/workflows/wasm-native-build.yaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f/.github/workflows/wasm-native-build.yaml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-394af40cc2905a64bb796320277ba589fbe33228f1a5502ff0c9f7454ea04b85) Expand Up | @@ -2,7 +2,7 @@ |
|  |  | name: Wasm Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_dispatch: |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
| [Expand All](#diff-394af40cc2905a64bb796320277ba589fbe33228f1a5502ff0c9f7454ea04b85) Expand All | @@ -17,42 +17,17 @@ jobs: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Check for submodule update |
|  |  | id: check\_submodule |
|  |  | run: \| |
|  |  | cd whisper.cpp |
|  |  | SUBMODULE\_COMMIT\_ID=$(git rev-parse HEAD) |
|  |  | echo "Submodule commit ID: $SUBMODULE\_COMMIT\_ID" |
|  |  | cd $GITHUB\_WORKSPACE |
|  |  | STORED\_COMMIT\_ID=$(cat native-commit-id-wasm) |
|  |  | echo "Stored commit ID: $STORED\_COMMIT\_ID" |
|  |  | if \[ "$SUBMODULE\_COMMIT\_ID" != "$STORED\_COMMIT\_ID" \]; then |
|  |  | echo "Submodule has new commits. Triggering build." |
|  |  | echo "trigger\_build=true" >> $GITHUB\_OUTPUT |
|  |  | echo $SUBMODULE\_COMMIT\_ID > native-commit-id-wasm |
|  |  | else |
|  |  | echo "No new commits in submodule." |
|  |  | echo "trigger\_build=false" >> $GITHUB\_OUTPUT |
|  |  | fi |
|  |  |  |
|  |  | \- name: Install Emscripten |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: mymindstorm/setup-emsdk@v13 |
|  |  |  |
|  |  | \- name: Run wasm build |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make wasm |
|  |  |  |
|  |  | \- name: Remove Emscripten |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: rm -rf emsdk\* |
|  |  |  |
|  |  | \- name: Pull latest commits |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: git pull origin ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Commit and Push |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: stefanzweifel/git-auto-commit-action@v4 |
|  |  |  |
|  |  | \- name: Upload Wasm Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | with: |
|  |  | commit\_message: Add native changes wasm |
|  |  | name: wasm-build |
|  |  | path: 'Whisper.net.Run\*/browser-wasm/\*' |

17 changes: 16 additions & 1 deletion
17 [.github/workflows/windows-arm-native-build.yml](#diff-aaf8c7a56d607a54d7c72809737113471b2b296d3f2cc913b6e8f7a010269bec ".github/workflows/windows-arm-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f/.github/workflows/windows-arm-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-aaf8c7a56d607a54d7c72809737113471b2b296d3f2cc913b6e8f7a010269bec) Expand Up | @@ -7,7 +7,7 @@ on: |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: windows-2022 |
|  |  | runs-on: windows-latest |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
| [Expand All](#diff-aaf8c7a56d607a54d7c72809737113471b2b296d3f2cc913b6e8f7a010269bec) Expand All | @@ -16,3 +16,18 @@ jobs: |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Add msbuild to PATH |
|  |  | uses: microsoft/setup-msbuild@v1 |
|  |  |  |
|  |  | \- name: Run Build |
|  |  | run: \| |
|  |  | Import-Module ./windows-scripts.ps1 |
|  |  | BuildWindowsArm |
|  |  | shell: pwsh |
|  |  |  |
|  |  | \- name: Upload Windows Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | with: |
|  |  | name: windows-arm-build |
|  |  | path: 'Whisper.net.Run\*/win-\*/\*' |

Loading

Oops, something went wrong.
Retry

Toggle all file notesToggle all file annotations

### 0 comments  on commit `0c2adaf`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2F0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f) to comment.

You can’t perform that action at this time.

---

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold · sandrohanea/whisper.net@01be260 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  \#301

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506703898)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506703898)

## Summary

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold \#301

[Usage](/sandrohanea/whisper.net/actions/runs/12506703898/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506703898/workflow)

Triggered via pull request
December 26, 2024 17:37

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=32&v=4)sandrohanea](/sandrohanea)

synchronize [#305](/sandrohanea/whisper.net/pull/305)

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

StatusSuccess

Total duration [12m 43s](/sandrohanea/whisper.net/actions/runs/12506703898/usage)

Artifacts [15](#artifacts)

## [build-all.yml](/sandrohanea/whisper.net/actions/runs/12506703898/workflow)

on: pull\_request

[android / native-build\\
\\
1m 55s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044213) android / native-build[macos / intel-native-build\\
\\
1m 2s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044854) macos / intel-native-build[macos / arm-native-build\\
\\
2m 31s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044706) macos / arm-native-build[windows / intel-native-build\\
\\
1m 52s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892045376) windows / intel-native-build[windows / arm-native-build\\
\\
1m 47s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892045190) windows / arm-native-build[wasm / native-build\\
\\
1m 5s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892045040) wasm / native-build[linux / native-build\\
\\
2m 20s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044556) linux / native-build

[windows-no-avx / native-build\\
\\
1m 21s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892045520) windows-no-avx / native-build[linux-no-avx / native-build\\
\\
1m 8s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892044362) linux-no-avx / native-build

linux-cuda / native-build

linux-cuda / native-build

linux-openvino / native-build

linux-openvino / native-build

linux-vulkan / native-build

linux-vulkan / native-build

macos-coreml / arm-native-build

macos-coreml / arm-native-build

macos-coreml / intel-native-build

macos-coreml / intel-native-build

windows-cuda / native-build

windows-cuda / native-build

windows-openvino / native-build

windows-openvino / native-build

windows-vulkan / native-build

windows-vulkan / native-build

[dotnet-maui-build-and-test / dotnet-maui-build\\
\\
5m 19s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892097040) dotnet-maui-build-and-test / dotnet-maui-build

[dotnet-build / dotnet-macos\\
\\
2m 50s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892096939) dotnet-build / dotnet-macos[dotnet-build / dotnet-windows\\
\\
3m 2s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892096813) dotnet-build / dotnet-windows[dotnet-build / dotnet-linux\\
\\
1m 12s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892096706) dotnet-build / dotnet-linux

[dotnet-maui-build-and-test / dotnet-maui-test-android\\
\\
4m 24s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892201406) dotnet-maui-build-and-test / dotnet-maui-test-android[dotnet-maui-build-and-test / dotnet-maui-test-ios\\
\\
4m 21s](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892201281) dotnet-maui-build-and-test / dotnet-maui-test-ios

Oh hello! Nice to see you.

Made with ❤️ by [humans.txt](https://actions.github.io/humans.txt)

Fit to window

Zoom out

Zoom in

## Annotations

2 warnings

|     |
| --- |
| [**dotnet-build / dotnet-linux**](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892096706)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |
| [**dotnet-maui-build-and-test / dotnet-maui-test-android**](/sandrohanea/whisper.net/actions/runs/12506703898/job/34892201406)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |

## Artifacts

Produced during runtime

| Name | Size |  |
| --- | --- | --- |
| android-build | 3.09 MB |  |
| linux-build | 1.67 MB |  |
| linux-noavx-build | 597 KB |  |
| mac-arm-build | 4.5 MB |  |
| mac-intel-build | 611 KB |  |
| maui-build-artifacts | 170 MB |  |
| test-results-linux | 9.52 KB |  |
| test-results-macos | 9.72 KB |  |
| test-results-windows | 14.8 KB |  |
| wasm-build | 431 KB |  |
| windows-arm-build | 462 KB |  |
| windows-build | 948 KB |  |
| windows-noavx-build | 948 KB |  |
| xharness-android-test-results | 23.7 KB |  |
| xharness-ios-test-results | 223 KB |  |

You can’t perform that action at this time.

---

# Dotnet Build and Test · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## Dotnet Build and Test     \#\#\# Dotnet Build and Test         \#\#\#\#\# Loading...  Loading      \#\#\#\#\# Sorry, something went wrong.

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

[dotnet.yml](/sandrohanea/whisper.net/blob/main/.github/workflows/dotnet.yml)

will be ignored since log searching is not yet available


**61 workflow runs**

**61 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

[Added test reporter](/sandrohanea/whisper.net/actions/runs/12437451890)Dotnet Build and Test
#222:


Commit [28aab18](/sandrohanea/whisper.net/commit/28aab18cb755120d025a66d0fb9614a73d322e1c)

pushed
by
[sandrohanea](/sandrohanea)

December 20, 2024 19:39Failure[feature/adding-test-reporter](/sandrohanea/whisper.net/tree/feature/adding-test-reporter "feature/adding-test-reporter")

[feature/adding-test-reporter](/sandrohanea/whisper.net/tree/feature/adding-test-reporter "feature/adding-test-reporter")

December 20, 2024 19:39Failure

- [View workflow file](/sandrohanea/whisper.net/actions/runs/12437451890/workflow)

[Fixed Android build + improved CI/CI with xharness + added AllRuntimes package](/sandrohanea/whisper.net/actions/runs/11275818938)Dotnet Build and Test
#221:


Pull request [#216](/sandrohanea/whisper.net/pull/216)

synchronize
by
[sandrohanea](/sandrohanea)

October 10, 2024 14:11
31s
[sandro/fixes](/sandrohanea/whisper.net/tree/refs/heads/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/refs/heads/sandro/fixes "sandro/fixes")

October 10, 2024 14:11
31s


- [View #216](/sandrohanea/whisper.net/pull/216)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11275818938/workflow)

[Fixed Android build + improved CI/CI with xharness + added AllRuntimes package](/sandrohanea/whisper.net/actions/runs/11275755235)Dotnet Build and Test
#220:


Pull request [#216](/sandrohanea/whisper.net/pull/216)

opened
by
[sandrohanea](/sandrohanea)

October 10, 2024 14:08
1s
[sandro/fixes](/sandrohanea/whisper.net/tree/refs/heads/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/refs/heads/sandro/fixes "sandro/fixes")

October 10, 2024 14:08
1s


- [View #216](/sandrohanea/whisper.net/pull/216)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11275755235/workflow)

[Bumped System.Text.Json because of https://github.com/advisories/GHSA…](/sandrohanea/whisper.net/actions/runs/11252210564)Dotnet Build and Test
#219:


Commit [9414bd3](/sandrohanea/whisper.net/commit/9414bd36478622936dfb04503850f1a95d033bb9)

pushed
by
[sandrohanea](/sandrohanea)

October 9, 2024 09:31
21s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 9, 2024 09:31
21s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11252210564/workflow)

[Updated whisper.cpp submodule to include openvino fix](/sandrohanea/whisper.net/actions/runs/11243217504)Dotnet Build and Test
#218:


Commit [af93a1e](/sandrohanea/whisper.net/commit/af93a1e9749459db8fa2a8cb6bdf91d680354ac3)

pushed
by
[sandrohanea](/sandrohanea)

October 8, 2024 20:27
48s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 8, 2024 20:27
48s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11243217504/workflow)

[Split Cuda to Windows + Linux and added Parallel Example](/sandrohanea/whisper.net/actions/runs/11233316644)Dotnet Build and Test
#217:


Commit [bc6ad14](/sandrohanea/whisper.net/commit/bc6ad147ef4938bd1ade8c2e9b5b21e2e3377914)

pushed
by
[sandrohanea](/sandrohanea)

October 8, 2024 10:13
19s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 8, 2024 10:13
19s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11233316644/workflow)

[Fixed custom nuget issue + added more native build widgets](/sandrohanea/whisper.net/actions/runs/11224814876)Dotnet Build and Test
#216:


Commit [fc1282f](/sandrohanea/whisper.net/commit/fc1282f9a92f03e854a66c65b39ef2c9dfdc23e4)

pushed
by
[sandrohanea](/sandrohanea)

October 7, 2024 22:12
34s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 7, 2024 22:12
34s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11224814876/workflow)

[A lot of changes for 1.7.0 (#201)](/sandrohanea/whisper.net/actions/runs/11224689828)Dotnet Build and Test
#215:


Commit [0c2adaf](/sandrohanea/whisper.net/commit/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f)

pushed
by
[sandrohanea](/sandrohanea)

October 7, 2024 22:02
21s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 7, 2024 22:02
21s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11224689828/workflow)

[Added Windows Arm Native Build for workflow dispatch](/sandrohanea/whisper.net/actions/runs/11193156240)Dotnet Build and Test
#214:


Commit [ab34bc1](/sandrohanea/whisper.net/commit/ab34bc15cfc792478aa85c6709c7d360eed3b18c)

pushed
by
[sandrohanea](/sandrohanea)

October 5, 2024 12:21
5m 8s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 5, 2024 12:21
5m 8s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11193156240/workflow)

[Added workflow\_dispatch on all native builds](/sandrohanea/whisper.net/actions/runs/11192761019)Dotnet Build and Test
#213:


Commit [7da4cc2](/sandrohanea/whisper.net/commit/7da4cc2ff2ec59e18bac7ddf8a385f2c64ba2021)

pushed
by
[sandrohanea](/sandrohanea)

October 5, 2024 11:12
5m 29s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 5, 2024 11:12
5m 29s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11192761019/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/11192673691)Dotnet Build and Test
#212:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

October 5, 2024 10:59
27s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

October 5, 2024 10:59
27s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11192673691/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9732863607)Dotnet Build and Test
#210:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 14:52
33s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 14:52
33s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9732863607/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9732840399)Dotnet Build and Test
#209:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 14:47
34s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 14:47
34s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9732840399/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9725978469)Dotnet Build and Test
#208:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

opened
by
[sandrohanea](/sandrohanea)

June 29, 2024 18:05
8m 4s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 29, 2024 18:05
8m 4s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9725978469/workflow)

[Bump NUnit.Analyzers from 4.0.0 to 4.2.0](/sandrohanea/whisper.net/actions/runs/8878447086)Dotnet Build and Test
#204:


Pull request [#192](/sandrohanea/whisper.net/pull/192)

opened
by
[dependabot](/apps/dependabot) bot

April 29, 2024 12:22
5m 15s
[dependabot/nuget/NUnit.Analyzers-4.2.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit.Analyzers-4.2.0 "dependabot/nuget/NUnit.Analyzers-4.2.0")

[dependabot/nuget/NUnit.Analyzers-4.2.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit.Analyzers-4.2.0 "dependabot/nuget/NUnit.Analyzers-4.2.0")

April 29, 2024 12:22
5m 15s


- [View #192](/sandrohanea/whisper.net/pull/192)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8878447086/workflow)

[Bump Microsoft.AspNetCore.Components.WebAssembly.Server from 8.0.1 to 8.0.4 in /examples](/sandrohanea/whisper.net/actions/runs/8689626935)Dotnet Build and Test
#203:


Pull request [#190](/sandrohanea/whisper.net/pull/190)

opened
by
[dependabot](/apps/dependabot) bot

April 15, 2024 13:03
6m 30s
[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4")

[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4")

April 15, 2024 13:03
6m 30s


- [View #190](/sandrohanea/whisper.net/pull/190)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8689626935/workflow)

[Bump Microsoft.AspNetCore.Components.WebAssembly from 8.0.0 to 8.0.4 in /examples](/sandrohanea/whisper.net/actions/runs/8689621958)Dotnet Build and Test
#202:


Pull request [#189](/sandrohanea/whisper.net/pull/189)

opened
by
[dependabot](/apps/dependabot) bot

April 15, 2024 13:03
6m 19s
[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4")

[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4")

April 15, 2024 13:03
6m 19s


- [View #189](/sandrohanea/whisper.net/pull/189)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8689621958/workflow)

[Bump Microsoft.AspNetCore.Components.WebAssembly.Server from 8.0.1 to 8.0.3 in /examples](/sandrohanea/whisper.net/actions/runs/8508036048)Dotnet Build and Test
#201:


Pull request [#184](/sandrohanea/whisper.net/pull/184)

opened
by
[dependabot](/apps/dependabot) bot

April 1, 2024 12:28
7m 19s
[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3")

[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3")

April 1, 2024 12:28
7m 19s


- [View #184](/sandrohanea/whisper.net/pull/184)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8508036048/workflow)

[Bump Microsoft.AspNetCore.Components.WebAssembly from 8.0.0 to 8.0.3 in /examples](/sandrohanea/whisper.net/actions/runs/8508034017)Dotnet Build and Test
#200:


Pull request [#183](/sandrohanea/whisper.net/pull/183)

opened
by
[dependabot](/apps/dependabot) bot

April 1, 2024 12:27
5m 31s
[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3")

[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3")

April 1, 2024 12:27
5m 31s


- [View #183](/sandrohanea/whisper.net/pull/183)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8508034017/workflow)

[Bump coverlet.collector from 6.0.0 to 6.0.2](/sandrohanea/whisper.net/actions/runs/8326673407)Dotnet Build and Test
#199:


Pull request [#180](/sandrohanea/whisper.net/pull/180)

opened
by
[dependabot](/apps/dependabot) bot

March 18, 2024 12:38
7m 26s
[dependabot/nuget/coverlet.collector-6.0.2](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/coverlet.collector-6.0.2 "dependabot/nuget/coverlet.collector-6.0.2")

[dependabot/nuget/coverlet.collector-6.0.2](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/coverlet.collector-6.0.2 "dependabot/nuget/coverlet.collector-6.0.2")

March 18, 2024 12:38
7m 26s


- [View #180](/sandrohanea/whisper.net/pull/180)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8326673407/workflow)

[Bump NUnit.Analyzers from 4.0.0 to 4.1.0](/sandrohanea/whisper.net/actions/runs/8326667658)Dotnet Build and Test
#198:


Pull request [#179](/sandrohanea/whisper.net/pull/179)

opened
by
[dependabot](/apps/dependabot) bot

March 18, 2024 12:37
7m 44s
[dependabot/nuget/NUnit.Analyzers-4.1.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit.Analyzers-4.1.0 "dependabot/nuget/NUnit.Analyzers-4.1.0")

[dependabot/nuget/NUnit.Analyzers-4.1.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit.Analyzers-4.1.0 "dependabot/nuget/NUnit.Analyzers-4.1.0")

March 18, 2024 12:37
7m 44s


- [View #179](/sandrohanea/whisper.net/pull/179)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8326667658/workflow)

[Bump coverlet.collector from 6.0.0 to 6.0.1](/sandrohanea/whisper.net/actions/runs/8049205921)Dotnet Build and Test
#197:


Pull request [#175](/sandrohanea/whisper.net/pull/175)

opened
by
[dependabot](/apps/dependabot) bot

February 26, 2024 12:55
4m 16s
[dependabot/nuget/coverlet.collector-6.0.1](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/coverlet.collector-6.0.1 "dependabot/nuget/coverlet.collector-6.0.1")

[dependabot/nuget/coverlet.collector-6.0.1](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/coverlet.collector-6.0.1 "dependabot/nuget/coverlet.collector-6.0.1")

February 26, 2024 12:55
4m 16s


- [View #175](/sandrohanea/whisper.net/pull/175)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8049205921/workflow)

[Bump NUnit from 4.0.1 to 4.1.0](/sandrohanea/whisper.net/actions/runs/8049199244)Dotnet Build and Test
#196:


Pull request [#174](/sandrohanea/whisper.net/pull/174)

opened
by
[dependabot](/apps/dependabot) bot

February 26, 2024 12:54
4m 48s
[dependabot/nuget/NUnit-4.1.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit-4.1.0 "dependabot/nuget/NUnit-4.1.0")

[dependabot/nuget/NUnit-4.1.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit-4.1.0 "dependabot/nuget/NUnit-4.1.0")

February 26, 2024 12:54
4m 48s


- [View #174](/sandrohanea/whisper.net/pull/174)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8049199244/workflow)

[Bump Microsoft.AspNetCore.Components.WebAssembly.Server from 8.0.1 to 8.0.2 in /examples](/sandrohanea/whisper.net/actions/runs/7959527313)Dotnet Build and Test
#195:


Pull request [#172](/sandrohanea/whisper.net/pull/172)

opened
by
[dependabot](/apps/dependabot) bot

February 19, 2024 12:28
6m 52s
[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.2](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.2 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.2")

[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.2](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.2 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.2")

February 19, 2024 12:28
6m 52s


- [View #172](/sandrohanea/whisper.net/pull/172)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/7959527313/workflow)

[Bump Microsoft.NET.Test.Sdk from 17.8.0 to 17.9.0](/sandrohanea/whisper.net/actions/runs/7871655630)Dotnet Build and Test
#194:


Pull request [#170](/sandrohanea/whisper.net/pull/170)

opened
by
[dependabot](/apps/dependabot) bot

February 12, 2024 12:23
11m 42s
[dependabot/nuget/Microsoft.NET.Test.Sdk-17.9.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/Microsoft.NET.Test.Sdk-17.9.0 "dependabot/nuget/Microsoft.NET.Test.Sdk-17.9.0")

[dependabot/nuget/Microsoft.NET.Test.Sdk-17.9.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/Microsoft.NET.Test.Sdk-17.9.0 "dependabot/nuget/Microsoft.NET.Test.Sdk-17.9.0")

February 12, 2024 12:23
11m 42s


- [View #170](/sandrohanea/whisper.net/pull/170)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/7871655630/workflow)

Previous _1_ [2](/sandrohanea/whisper.net/actions/workflows/dotnet.yml?page=2) [3](/sandrohanea/whisper.net/actions/workflows/dotnet.yml?page=3) [Next](/sandrohanea/whisper.net/actions/workflows/dotnet.yml?page=2)

You can’t perform that action at this time.

---

# whisper.net/Whisper.net.WinX64.sln at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Whisper.net.WinX64.sln

Blame

Blame

## Latest commit

![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)![adamnova](https://avatars.githubusercontent.com/u/125261085?v=4&size=40)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

and

[adamnova](/sandrohanea/whisper.net/commits?author=adamnova)

[Release 1.2.1 (](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e) [#5](https://github.com/sandrohanea/whisper.net/pull/5) [)](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e)

Feb 21, 2023

[e38ebcf](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e) · Feb 21, 2023

## History

[History](/sandrohanea/whisper.net/commits/main/Whisper.net.WinX64.sln)

executable file

·

139 lines (139 loc) · 9.71 KB

/

# Whisper.net.WinX64.sln

Top

## File metadata and controls

- Code

- Blame


executable file

·

139 lines (139 loc) · 9.71 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/Whisper.net.WinX64.sln)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

62

63

64

65

66

67

68

69

70

71

72

73

74

75

76

77

78

79

80

81

82

83

84

85

86

87

88

89

90

91

92

93

94

95

96

97

98

99

100

101

102

103

104

105

106

107

108

109

110

111

112

113

114

115

116

117

118

119

120

121

122

123

124

125

126

127

128

129

130

131

132

133

134

135

136

137

138

139

﻿

Microsoft Visual Studio Solution File, Format Version 12.00

\# Visual Studio Version 17

VisualStudioVersion =17.5.33318.248

MinimumVisualStudioVersion =10.0.40219.1

Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Demo", "Whisper.net.Demo\\Whisper.net.Demo.csproj", "{C1C29732-1BC2-477D-A116-C5003E1D0C85}"

EndProject

Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Solution Items", "Solution Items", "{2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}"

ProjectSection(SolutionItems) = preProject

.editorconfig = .editorconfig

..\readme.md = ..\readme.md

EndProjectSection

EndProject

Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net", "Whisper.net\\Whisper.net.csproj", "{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}"

EndProject

Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "whisper", "build\\win-x64\\whisper.cpp\\whisper.vcxproj", "{FE914A78-F221-36EA-9004-EA22EFD98480}"

EndProject

Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Tests", "Whisper.net.Tests\\Whisper.net.Tests.csproj", "{9126E922-C981-4D1E-BB4D-264C91B8B829}"

EndProject

Global

GlobalSection(SolutionConfigurationPlatforms) = preSolution

Debug\|Any CPU = Debug\|Any CPU

Debug\|x64 = Debug\|x64

Debug\|x86 = Debug\|x86

MinSizeRel\|Any CPU = MinSizeRel\|Any CPU

MinSizeRel\|x64 = MinSizeRel\|x64

MinSizeRel\|x86 = MinSizeRel\|x86

Release\|Any CPU = Release\|Any CPU

Release\|x64 = Release\|x64

Release\|x86 = Release\|x86

RelWithDebInfo\|Any CPU = RelWithDebInfo\|Any CPU

RelWithDebInfo\|x64 = RelWithDebInfo\|x64

RelWithDebInfo\|x86 = RelWithDebInfo\|x86

EndGlobalSection

GlobalSection(ProjectConfigurationPlatforms) = postSolution

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.Build.0 = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.ActiveCfg = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.Build.0 = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.ActiveCfg = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.Build.0 = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|Any CPU.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|Any CPU.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x64.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x64.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x86.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x86.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x86.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x86.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|Any CPU.Build.0 = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x64.ActiveCfg = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x64.Build.0 = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x86.ActiveCfg = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x86.Build.0 = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|Any CPU.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|Any CPU.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x64.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x64.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x86.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x86.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|Any CPU.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|Any CPU.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x64.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x64.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x86.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x86.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU

{FE914A78-F221-36EA-9004-EA22EFD98480}.Debug\|Any CPU.ActiveCfg = Debug\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Debug\|Any CPU.Build.0 = Debug\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Debug\|x64.ActiveCfg = Debug\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Debug\|x64.Build.0 = Debug\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Debug\|x86.ActiveCfg = Debug\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Debug\|x86.Build.0 = Debug\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.MinSizeRel\|Any CPU.ActiveCfg = MinSizeRel\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.MinSizeRel\|Any CPU.Build.0 = MinSizeRel\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.MinSizeRel\|x64.ActiveCfg = MinSizeRel\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.MinSizeRel\|x64.Build.0 = MinSizeRel\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.MinSizeRel\|x86.ActiveCfg = MinSizeRel\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.MinSizeRel\|x86.Build.0 = MinSizeRel\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Release\|Any CPU.ActiveCfg = Release\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Release\|Any CPU.Build.0 = Release\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Release\|x64.ActiveCfg = Release\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Release\|x64.Build.0 = Release\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Release\|x86.ActiveCfg = Release\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.Release\|x86.Build.0 = Release\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.RelWithDebInfo\|Any CPU.ActiveCfg = RelWithDebInfo\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.RelWithDebInfo\|Any CPU.Build.0 = RelWithDebInfo\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.RelWithDebInfo\|x64.ActiveCfg = RelWithDebInfo\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.RelWithDebInfo\|x64.Build.0 = RelWithDebInfo\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.RelWithDebInfo\|x86.ActiveCfg = RelWithDebInfo\|x64

{FE914A78-F221-36EA-9004-EA22EFD98480}.RelWithDebInfo\|x86.Build.0 = RelWithDebInfo\|x64

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|Any CPU.Build.0 = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|x64.ActiveCfg = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|x64.Build.0 = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|x86.ActiveCfg = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Debug\|x86.Build.0 = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|Any CPU.ActiveCfg = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|Any CPU.Build.0 = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|x64.ActiveCfg = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|x64.Build.0 = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|x86.ActiveCfg = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.Release\|x86.Build.0 = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU

{9126E922-C981-4D1E-BB4D-264C91B8B829}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU

EndGlobalSection

GlobalSection(SolutionProperties) = preSolution

HideSolutionNode =FALSE

EndGlobalSection

GlobalSection(ExtensibilityGlobals) = postSolution

SolutionGuid ={F5CAA926-1B7D-3A67-9130-E6EFE3E9DFD9}

EndGlobalSection

EndGlobal

You can’t perform that action at this time.

---

# Added Vulkan Linux (#280) · sandrohanea/whisper.net@634157a · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/634157a2fe3d5e8860eb7ad6dc612179491f0be6)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

Added Vulkan Linux ( [#280](https://github.com/sandrohanea/whisper.net/pull/280))


[Browse files](/sandrohanea/whisper.net/tree/634157a2fe3d5e8860eb7ad6dc612179491f0be6) Browse the repository at this point in the history

```
Vulkan wip
```

- [main](/sandrohanea/whisper.net)
- ( [#280](/sandrohanea/whisper.net/pull/280 "Merged Pull Request: Added Vulkan Linux"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)
- …
- [1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)
- [1.7.3-preview2](/sandrohanea/whisper.net/releases/tag/1.7.3-preview2)
- [1.7.3-preview1](/sandrohanea/whisper.net/releases/tag/1.7.3-preview1)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

authored
Nov 26, 2024

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[71040fa](/sandrohanea/whisper.net/commit/71040faf41d4079bbe810feb5bf56bbed3941127)commit 634157a

Show file tree

Hide file tree

Showing
**15 changed files**
with
**219 additions**
and
**117 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

4 changes: 4 additions & 0 deletions
4 [.github/workflows/build-all.yml](#diff-7682a9fd2942d8a81f55c30abd512b277b1b1eb7c5f16b2c4d88323de90e55d0 ".github/workflows/build-all.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/634157a2fe3d5e8860eb7ad6dc612179491f0be6/.github/workflows/build-all.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-7682a9fd2942d8a81f55c30abd512b277b1b1eb7c5f16b2c4d88323de90e55d0) Expand Up | @@ -36,6 +36,10 @@ jobs: |
|  |  | linux-no-avx: |
|  |  | uses: ./.github/workflows/linux-noavx-native-build.yml |
|  |  |  |
|  |  | linux-vulkan: |
|  |  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  |  | uses: ./.github/workflows/linux-vulkan-native-build.yml |
|  |  |  |
|  |  | windows-cuda: |
|  |  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  |  | uses: ./.github/workflows/windows-cuda-native-build.yml |
| [Expand Down](#diff-7682a9fd2942d8a81f55c30abd512b277b1b1eb7c5f16b2c4d88323de90e55d0) Expand Down |  |

46 changes: 46 additions & 0 deletions
46 [.github/workflows/linux-vulkan-native-build.yml](#diff-0759ffe6917878da7ea1f68f2feb12fa95f05b865f2fa1e668b586dff7254a58 ".github/workflows/linux-vulkan-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/634157a2fe3d5e8860eb7ad6dc612179491f0be6/.github/workflows/linux-vulkan-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,46 @@ |
|  |  | name: Linux Vulkan native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | native-build: |
|  |  | runs-on: ubuntu-20.04 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Install aarch64-linux-gnu-gcc |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-aarch64-linux-gnu && sudo apt-get install -y g++-aarch64-linux-gnu |
|  |  |  |
|  |  | \- name: Install gcc-arm-linux-gnueabihf |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-arm-linux-gnueabihf && sudo apt-get install -y g++-arm-linux-gnueabihf |
|  |  |  |
|  |  | \- name: Install Vulkan SDK |
|  |  | uses: jakoch/install-vulkan-sdk-action@v1.0.4 |
|  |  | with: |
|  |  | vulkan\_version: 1.3.290.0 |
|  |  | optional\_components: com.lunarg.vulkan.vma |
|  |  | install\_runtime: true |
|  |  | cache: true |
|  |  | stripdown: true |
|  |  |  |
|  |  | \- name: Set Vulkan variables |
|  |  | run: \| |
|  |  | echo "$VULKAN\_SDK/x86\_64/bin" >> $GITHUB\_PATH |
|  |  | echo "$GITHUB\_WORKSPACE/build/linux-x64-vulkan/bin" >> $GITHUB\_PATH |
|  |  |  |
|  |  | \- name: Run linux |
|  |  | run: \| |
|  |  | make linux\_vulkan |
|  |  |  |
|  |  | \- name: Upload Linux Vulkan Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: linux-vulkan-build |
|  |  | path: "runtimes/Whisper.net.Run\*/linux-\*/\*" |
|  |  | retention-days: 7 |

6 changes: 6 additions & 0 deletions
6 [CMakeLists.txt](#diff-1e7de1ae2d059d21e1dd75d5812d5a34b0222cef273b7c3a2af62eb747f9d20a "CMakeLists.txt")

Show comments


[View file](/sandrohanea/whisper.net/blob/634157a2fe3d5e8860eb7ad6dc612179491f0be6/CMakeLists.txt)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-1e7de1ae2d059d21e1dd75d5812d5a34b0222cef273b7c3a2af62eb747f9d20a) Expand Up | @@ -15,3 +15,9 @@ project ("Whisper.net") |
|  |  | add\_subdirectory ("whisper.cpp") |
|  |  |  |
|  |  | set\_target\_properties(ggml PROPERTIES OUTPUT\_NAME"ggml-whisper") |
|  |  |  |
|  |  | if (CMAKE\_SYSTEM\_NAMESTREQUAL"Android") |
|  |  | \# Set alignment to 16 KB. See https://developer.android.com/guide/practices/page-sizes#cmake |
|  |  | target\_link\_options(ggml PRIVATE"-Wl,-z,max-page-size=16384") |
|  |  | target\_link\_options(whisper PRIVATE"-Wl,-z,max-page-size=16384") |
|  |  | endif() |

2 changes: 1 addition & 1 deletion
2 [Directory.Packages.props](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156 "Directory.Packages.props")

Show comments


[View file](/sandrohanea/whisper.net/blob/634157a2fe3d5e8860eb7ad6dc612179491f0be6/Directory.Packages.props)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156) Expand Up | @@ -13,7 +13,7 @@ |
|  |  | <PackageVersionInclude="Microsoft.NET.Test.Sdk"Version="17.12.0" /> |
|  |  | <PackageVersionInclude="xunit"Version="2.9.2" /> |
|  |  | <PackageVersionInclude="xunit.runner.visualstudio"Version="2.8.2" /> |
|  |  | <PackageVersionInclude="Microsoft.DotNet.XHarness.TestRunners.Xunit"Version="10.0.0-prerelease.24564.1" /> |
|  |  | <PackageVersionInclude="Microsoft.DotNet.XHarness.TestRunners.Xunit"Version="10.0.0-prerelease.24568.1" /> |
|  |  | <PackageVersionInclude="xunit.assert"Version="2.9.2" /> |
|  |  | <PackageVersionInclude="Microsoft.Extensions.Logging.Debug"Version="9.0.0" /> |
|  |  | <PackageVersionInclude="Microsoft.Maui.Controls"Version="$(MauiVersion)" /> |
| [Expand Down](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156) Expand Down |  |

26 changes: 25 additions & 1 deletion
26 [Makefile](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52 "Makefile")

Show comments


[View file](/sandrohanea/whisper.net/blob/634157a2fe3d5e8860eb7ad6dc612179491f0be6/Makefile)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand Up | @@ -37,6 +37,8 @@ linux\_noavx: linux\_x64\_noavx |
|  |  |  |
|  |  | linux\_cuda: linux\_x64\_cuda |
|  |  |  |
|  |  | linux\_vulkan: linux\_x64\_vulkan |
|  |  |  |
|  |  | copy\_metal: |
|  |  | cp whisper.cpp/ggml/src/ggml-metal.metal runtimes/Whisper.net.Runtime/ggml-metal.metal |
|  |  |  |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -51,12 +53,13 @@ wasm: |
|  |  | cp build/wasm/whisper.cpp/src/libwhisper.a ./runtimes/Whisper.net.Runtime/browser-wasm/libwhisper.a |
|  |  | cp build/wasm/whisper.cpp/ggml/src/libggml-whisper.a ./runtimes/Whisper.net.Runtime/browser-wasm/libggml-whisper.a |
|  |  |  |
|  |  |  |
|  |  | linux\_x64: |
|  |  | rm -rf build/linux-x64 |
|  |  | cmake -S . -B build/linux-x64 -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 $(AVX\_SUPPORT) |
|  |  | cmake --build build/linux-x64 --config $(BUILD\_TYPE) |
|  |  | mkdir -p runtimes/Whisper.net.Runtime/linux-x64 |
|  |  | echo'LDD VERSION' |
|  |  | ldd --version |
|  |  | cp build/linux-x64/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime/linux-x64/libwhisper.so |
|  |  | cp build/linux-x64/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime/linux-x64/libggml-whisper.so |
|  |  |  |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -65,6 +68,8 @@ linux\_arm64: |
|  |  | cmake -S . -B build/linux-arm64 -DCMAKE\_C\_COMPILER=aarch64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=aarch64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=aarch64 |
|  |  | cmake --build build/linux-arm64 --config $(BUILD\_TYPE) |
|  |  | mkdir -p runtimes/Whisper.net.Runtime/linux-arm64 |
|  |  | echo'LDD VERSION' |
|  |  | ldd --version |
|  |  | cp build/linux-arm64/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime/linux-arm64/libwhisper.so |
|  |  | cp build/linux-arm64/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime/linux-arm64/libggml-whisper.so |
|  |  |  |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -73,6 +78,8 @@ linux\_arm: |
|  |  | cmake -S . -B build/linux-arm -DCMAKE\_C\_COMPILER=arm-linux-gnueabihf-gcc -DCMAKE\_CXX\_COMPILER=arm-linux-gnueabihf-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=arm |
|  |  | cmake --build build/linux-arm --config $(BUILD\_TYPE) |
|  |  | mkdir -p runtimes/Whisper.net.Runtime/linux-arm |
|  |  | echo'LDD VERSION' |
|  |  | ldd --version |
|  |  | cp build/linux-arm/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime/linux-arm/libwhisper.so |
|  |  | cp build/linux-arm/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime/linux-arm/libggml-whisper.so |
|  |  |  |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -81,6 +88,8 @@ linux\_x64\_cuda: |
|  |  | cmake -S . -B build/linux-x64-cuda -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 -DGGML\_CUDA=ON $(AVX\_SUPPORT) |
|  |  | cmake --build build/linux-x64-cuda --config $(BUILD\_TYPE) |
|  |  | mkdir -p runtimes/Whisper.net.Runtime.Cuda.Linux/linux-x64 |
|  |  | echo'LDD VERSION' |
|  |  | ldd --version |
|  |  | cp build/linux-x64-cuda/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime.Cuda.Linux/linux-x64/libwhisper.so |
|  |  | cp build/linux-x64-cuda/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime.Cuda.Linux/linux-x64/libggml-whisper.so |
|  |  |  |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -89,6 +98,8 @@ linux\_x64\_noavx: |
|  |  | cmake -S . -B build/linux-x64-noavx -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 $(NOAVX\_SUPPORT) |
|  |  | cmake --build build/linux-x64-noavx --config $(BUILD\_TYPE) |
|  |  | mkdir -p runtimes/Whisper.net.Runtime.NoAvx/linux-x64 |
|  |  | echo'LDD VERSION' |
|  |  | ldd --version |
|  |  | cp build/linux-x64-noavx/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime.NoAvx/linux-x64/libwhisper.so |
|  |  | cp build/linux-x64-noavx/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime.NoAvx/linux-x64/libggml-whisper.so |
|  |  |  |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -98,9 +109,22 @@ linux\_x64\_openvino: |
|  |  | cmake -S . -B build/linux-x64-openvino -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 -DWHISPER\_OPENVINO=ON $(AVX\_SUPPORT) |
|  |  | cmake --build build/linux-x64-openvino --config $(BUILD\_TYPE) |
|  |  | mkdir -p runtimes/Whisper.net.Runtime.OpenVino/linux-x64 |
|  |  | echo'LDD VERSION' |
|  |  | ldd --version |
|  |  | cp build/linux-x64-openvino/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime.OpenVino/linux-x64/libwhisper.so |
|  |  | cp build/linux-x64-openvino/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime.OpenVino/linux-x64/libggml-whisper.so |
|  |  |  |
|  |  | linux\_x64\_vulkan: |
|  |  | rm -rf build/linux-x64-vulkan |
|  |  | echo"Path is: \`$(PATH)\`" |
|  |  | cmake -S . -B build/linux-x64-vulkan -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 -DGGML\_VULKAN=ON -DVulkan\_INCLUDE\_DIR="$(VULKAN\_SDK)/x86\_64/include" -DVulkan\_LIBRARY="$(VULKAN\_SDK)/x86\_64/lib/libvulkan.so"$(AVX\_SUPPORT) |
|  |  | cmake --build build/linux-x64-vulkan --config $(BUILD\_TYPE) |
|  |  | mkdir -p runtimes/Whisper.net.Runtime.Vulkan/linux-x64 |
|  |  | echo'LDD VERSION' |
|  |  | ldd --version |
|  |  | cp build/linux-x64-vulkan/whisper.cpp/src/libwhisper.so ./runtimes/Whisper.net.Runtime.Vulkan/linux-x64/libwhisper.so |
|  |  | cp build/linux-x64-vulkan/whisper.cpp/ggml/src/libggml-whisper.so ./runtimes/Whisper.net.Runtime.Vulkan/linux-x64/libggml-whisper.so |
|  |  |  |
|  |  | macos\_x64: |
|  |  | rm -rf build/macos-x64 |
|  |  | cmake -S . -DCMAKE\_OSX\_ARCHITECTURES="x86\_64" -DGGML\_METAL=OFF -B build/macos-x64 |
| [Expand Down](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand Down |  |

1 change: 1 addition & 0 deletions
1 [Whisper.net.sln](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb "Whisper.net.sln")

Show comments


[View file](/sandrohanea/whisper.net/blob/634157a2fe3d5e8860eb7ad6dc612179491f0be6/Whisper.net.sln)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Up | @@ -40,6 +40,7 @@ Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "github", "github", "{5C8656 |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "scripts", "scripts", "{52C6C243-3BD7-41CF-A0B0-1DE31AC2C884}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | CMakeLists.txt = CMakeLists.txt |
|  |  | Makefile =Makefile |
|  |  | windows-scripts.ps1 = windows-scripts.ps1 |
|  |  | EndProjectSection |
| [Expand Down](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Down |  |

53 changes: 25 additions & 28 deletions
53 [Whisper.net/Internals/Native/Implementations/DllImportsNativeLibWhisper.cs](#diff-84a140cfdfc53403105ca7cffcabbb8e4ecf95677193ea0b8b2d8b4cf31695a2 "Whisper.net/Internals/Native/Implementations/DllImportsNativeLibWhisper.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/634157a2fe3d5e8860eb7ad6dc612179491f0be6/Whisper.net/Internals/Native/Implementations/DllImportsNativeLibWhisper.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-84a140cfdfc53403105ca7cffcabbb8e4ecf95677193ea0b8b2d8b4cf31695a2) Expand Up | @@ -10,82 +10,79 @@ namespace Whisper.net.Internals.Native.Implementations; |
|  |  | /// </summary> |
|  |  | internalclassDllImportsNativeLibWhisper:INativeWhisper |
|  |  | { |
|  |  | conststringlibraryName="libwhisper"; |
|  |  | conststringggmlLibraryName="libggml-whisper"; |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_file\_with\_params\_no\_state(stringpath,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_with\_params\_no\_state(IntPtrbuffer,nuintbuffer\_size,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_params(IntPtrparamsPtr); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_default\_params\_by\_ref(WhisperSamplingStrategystrategy); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_with\_state(IntPtrcontext,IntPtrstate,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_segments\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t0\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t1\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_get\_segment\_text\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_tokens\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternfloatwhisper\_full\_get\_token\_p\_from\_state(IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_max\_id(); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_auto\_detect\_with\_state(IntPtrcontext,IntPtrstate,intoffset\_ms,intn\_threads,IntPtrlang\_probs); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_pcm\_to\_mel\_with\_state(IntPtrcontext,IntPtrstate,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_lang\_str(intlang\_id); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_state(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_lang\_id\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_ctx\_init\_openvino\_encoder\_with\_state(IntPtrcontext,IntPtrstate,IntPtrmodelPath,IntPtrdevice,IntPtrcacheDir); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternWhisperTokenDatawhisper\_full\_get\_token\_data\_from\_state(IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_get\_token\_text\_from\_state(IntPtrcontext,IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[DllImport(ggmlLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibGgmlWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidggml\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | \[DllImport(NativeConstants.LibWhisperLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_print\_system\_info(); |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_from\_file\_with\_params\_no\_stateWhisper\_Init\_From\_File\_With\_Params\_No\_State=>whisper\_init\_from\_file\_with\_params\_no\_state; |
| [Expand Down](#diff-84a140cfdfc53403105ca7cffcabbb8e4ecf95677193ea0b8b2d8b4cf31695a2) Expand Down |  |

Loading

Oops, something went wrong.
Retry

Toggle all file notesToggle all file annotations

### 0 comments  on commit `634157a`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2F634157a2fe3d5e8860eb7ad6dc612179491f0be6) to comment.

You can’t perform that action at this time.

---

# Preparing changes for 1.7.1 release by sandrohanea · Pull Request #227 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Preparing changes for 1.7.1 release\#227

Merged

[sandrohanea](/sandrohanea)
merged 2 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[sandro/1-7-1-release](/sandrohanea/whisper.net/tree/sandro/1-7-1-release "sandrohanea/whisper.net:sandro/1-7-1-release")

Oct 16, 2024

Merged

# [Preparing changes for 1.7.1 release](\#top)\#227

[sandrohanea](/sandrohanea)
merged 2 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[sandro/1-7-1-release](/sandrohanea/whisper.net/tree/sandro/1-7-1-release "sandrohanea/whisper.net:sandro/1-7-1-release")

Oct 16, 2024

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Oct 16, 2024](\#issue-2592543981)

This pull request includes updates to the GitHub workflows, the `LICENSE` file, and the `readme.md` file to improve automation, correct licensing information, and enhance documentation.

### GitHub Workflows Enhancements:

- [`.github/workflows/push-all.yml`](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-df9a19f98356c4116755877d6b374afb7ccbf3a8f89f3b2912f8c3535d9a5f57R9-R11): Added permissions for content writing and a job to get the version from the package and create a git tag. [\[1\]](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-df9a19f98356c4116755877d6b374afb7ccbf3a8f89f3b2912f8c3535d9a5f57R9-R11) [\[2\]](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-df9a19f98356c4116755877d6b374afb7ccbf3a8f89f3b2912f8c3535d9a5f57R34-R39)
- [`.github/workflows/release.yml`](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-87db21a973eed4fef5f32b267aa60fcee5cbdf03c67fafdc2a9b553bb0b15f34R21-R24): Added permissions for content writing.

### Documentation Updates:

- [`readme.md`](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15L54-R68): Added detailed examples and pre-requisites for various runtimes like CUDA, CoreML, OpenVino, and Vulkan. [\[1\]](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15L54-R68) [\[2\]](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15R85-R89) [\[3\]](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15L80-R108) [\[4\]](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15L91-R121) [\[5\]](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15L104-R141) [\[6\]](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15L115-R159)

### Licensing Update:

- [`LICENSE`](https://github.com/sandrohanea/whisper.net/pull/227/files#diff-c693279643b8cd5d248172d9c22cb7cf4ed163a3c98c8a3f69c2717edd3eacb7L3-R3): Updated the copyright year from 2023 to 2024.

These changes enhance the automation processes, ensure correct licensing, and provide better guidance for users.

Sorry, something went wrong.


All reactions

[sandrohanea](/sandrohanea)


added 2 commits
[October 14, 2024 15:54](#commits-pushed-3949933)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Preparing changes for 1.7.1 release
        `

`
          3949933
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Changed MainPage for the Maui test app
        `

`
          f9e810e
        `

Hide detailsView details[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`9196352`](/sandrohanea/whisper.net/commit/919635297cca12a66aea083b37b4a0a424e9d267)
into

main[Oct 16, 2024](https://github.com/sandrohanea/whisper.net/pull/227#event-14685931945)

20 checks passed


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

sandro/1-7-1-release

branch

[October 16, 2024 18:03](#event-14685932893)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F227)

Reviewers


No reviews

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# whisper.net/Whisper.net.sln at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Whisper.net.sln

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Added Vulkan Linux (](/sandrohanea/whisper.net/commit/634157a2fe3d5e8860eb7ad6dc612179491f0be6) [#280](https://github.com/sandrohanea/whisper.net/pull/280) [)](/sandrohanea/whisper.net/commit/634157a2fe3d5e8860eb7ad6dc612179491f0be6)

Nov 26, 2024

[634157a](/sandrohanea/whisper.net/commit/634157a2fe3d5e8860eb7ad6dc612179491f0be6) · Nov 26, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/Whisper.net.sln)

170 lines (170 loc) · 12.1 KB

/

# Whisper.net.sln

Top

## File metadata and controls

- Code

- Blame


170 lines (170 loc) · 12.1 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/Whisper.net.sln)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

62

63

64

65

66

67

68

69

70

71

72

73

74

75

76

77

78

79

80

81

82

83

84

85

86

87

88

89

90

91

92

93

94

95

96

97

98

99

100

101

102

103

104

105

106

107

108

109

110

111

112

113

114

115

116

117

118

119

120

121

122

123

124

125

126

127

128

129

130

131

132

133

134

135

136

137

138

139

140

141

142

143

144

145

146

147

148

149

150

151

152

153

154

155

156

157

158

159

160

161

162

163

164

165

166

167

168

169

170

﻿

Microsoft Visual Studio Solution File, Format Version 12.00

\# Visual Studio Version 17

VisualStudioVersion =17.5.33318.248

MinimumVisualStudioVersion =10.0.40219.1

Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Demo", "Whisper.net.Demo\\Whisper.net.Demo.csproj", "{C1C29732-1BC2-477D-A116-C5003E1D0C85}"

EndProject

Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Solution Items", "Solution Items", "{2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}"

ProjectSection(SolutionItems) = preProject

.editorconfig = .editorconfig

.gitignore = .gitignore

Directory.Packages.props = Directory.Packages.props

readme.md = readme.md

EndProjectSection

EndProject

Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net", "Whisper.net\\Whisper.net.csproj", "{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}"

EndProject

Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "github", "github", "{5C865649-4AED-4BBF-A7CA-BD68D21EF48F}"

ProjectSection(SolutionItems) = preProject

.github\workflows\android-native-build.yml = .github\workflows\android-native-build.yml

.github\workflows\build-all.yml = .github\workflows\build-all.yml

.github\workflows\dotnet-maui.yml = .github\workflows\dotnet-maui.yml

.github\workflows\dotnet.yml = .github\workflows\dotnet.yml

.github\workflows\linux-cuda-native-build.yml = .github\workflows\linux-cuda-native-build.yml

.github\workflows\linux-native-build.yml = .github\workflows\linux-native-build.yml

.github\workflows\linux-noavx-native-build.yml = .github\workflows\linux-noavx-native-build.yml

.github\workflows\linux-openvino-native-build.yml = .github\workflows\linux-openvino-native-build.yml

.github\workflows\macos-coreml-native-build.yml = .github\workflows\macos-coreml-native-build.yml

.github\workflows\macos-native-build.yml = .github\workflows\macos-native-build.yml

.github\workflows\pack-all.yml = .github\workflows\pack-all.yml

.github\workflows\push-all.yml = .github\workflows\push-all.yml

.github\workflows\release.yml = .github\workflows\release.yml

.github\workflows\wasm-native-build.yml = .github\workflows\wasm-native-build.yml

.github\workflows\windows-cuda-native-build.yml = .github\workflows\windows-cuda-native-build.yml

.github\workflows\windows-native-build.yml = .github\workflows\windows-native-build.yml

.github\workflows\windows-noavx-native-build.yml = .github\workflows\windows-noavx-native-build.yml

.github\workflows\windows-openvino-native-build.yml = .github\workflows\windows-openvino-native-build.yml

.github\workflows\windows-vulkan-native-build.yml = .github\workflows\windows-vulkan-native-build.yml

EndProjectSection

EndProject

Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "scripts", "scripts", "{52C6C243-3BD7-41CF-A0B0-1DE31AC2C884}"

ProjectSection(SolutionItems) = preProject

CMakeLists.txt = CMakeLists.txt

Makefile =Makefile

windows-scripts.ps1 = windows-scripts.ps1

EndProjectSection

EndProject

Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "runtimes", "runtimes", "{CC45AC94-3CD7-45D8-A847-2D9C06E1806A}"

ProjectSection(SolutionItems) = preProject

runtimes\Whisper.net.AllRuntimes.nuspec = runtimes\Whisper.net.AllRuntimes.nuspec

runtimes\Whisper.net.Runtime.CoreML.nuspec = runtimes\Whisper.net.Runtime.CoreML.nuspec

runtimes\Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets = runtimes\Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets

runtimes\Whisper.net.Runtime.Cuda.Linux.nuspec = runtimes\Whisper.net.Runtime.Cuda.Linux.nuspec

runtimes\Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets = runtimes\Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets

runtimes\Whisper.net.Runtime.Cuda.nuspec = runtimes\Whisper.net.Runtime.Cuda.nuspec

runtimes\Whisper.net.Runtime.Cuda.Windows.nuspec = runtimes\Whisper.net.Runtime.Cuda.Windows.nuspec

runtimes\Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets = runtimes\Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets

runtimes\Whisper.net.Runtime.NoAvx.nuspec = runtimes\Whisper.net.Runtime.NoAvx.nuspec

runtimes\Whisper.net.Runtime.NoAvx\Whisper.net.Runtime.NoAvx.targets = runtimes\Whisper.net.Runtime.NoAvx\Whisper.net.Runtime.NoAvx.targets

runtimes\Whisper.net.Runtime.nuspec = runtimes\Whisper.net.Runtime.nuspec

runtimes\Whisper.net.Runtime.OpenVino.nuspec = runtimes\Whisper.net.Runtime.OpenVino.nuspec

runtimes\Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets = runtimes\Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets

runtimes\Whisper.net.Runtime\Whisper.net.Runtime.targets = runtimes\Whisper.net.Runtime\Whisper.net.Runtime.targets

runtimes\Whisper.net.Runtime.Vulkan.nuspec = runtimes\Whisper.net.Runtime.Vulkan.nuspec

runtimes\Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets = runtimes\Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets

EndProjectSection

EndProject

Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "Whisper.net.Tests", "tests\\Whisper.net.Tests\\Whisper.net.Tests.csproj", "{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}"

EndProject

Global

GlobalSection(SolutionConfigurationPlatforms) = preSolution

Debug\|Any CPU = Debug\|Any CPU

Debug\|x64 = Debug\|x64

Debug\|x86 = Debug\|x86

MinSizeRel\|Any CPU = MinSizeRel\|Any CPU

MinSizeRel\|x64 = MinSizeRel\|x64

MinSizeRel\|x86 = MinSizeRel\|x86

Release\|Any CPU = Release\|Any CPU

Release\|x64 = Release\|x64

Release\|x86 = Release\|x86

RelWithDebInfo\|Any CPU = RelWithDebInfo\|Any CPU

RelWithDebInfo\|x64 = RelWithDebInfo\|x64

RelWithDebInfo\|x86 = RelWithDebInfo\|x86

EndGlobalSection

GlobalSection(ProjectConfigurationPlatforms) = postSolution

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.Build.0 = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.ActiveCfg = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.Build.0 = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.ActiveCfg = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.Build.0 = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|Any CPU.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|Any CPU.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x64.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x64.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x86.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x86.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x86.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x86.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|Any CPU.Build.0 = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x64.ActiveCfg = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x64.Build.0 = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x86.ActiveCfg = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x86.Build.0 = Debug\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|Any CPU.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|Any CPU.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x64.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x64.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x86.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x86.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|Any CPU.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|Any CPU.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x64.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x64.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x86.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x86.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|Any CPU.Build.0 = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|x64.ActiveCfg = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|x64.Build.0 = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|x86.ActiveCfg = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|x86.Build.0 = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|Any CPU.ActiveCfg = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|Any CPU.Build.0 = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|x64.ActiveCfg = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|x64.Build.0 = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|x86.ActiveCfg = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|x86.Build.0 = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU

{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU

EndGlobalSection

GlobalSection(SolutionProperties) = preSolution

HideSolutionNode =FALSE

EndGlobalSection

GlobalSection(NestedProjects) = preSolution

{5C865649-4AED-4BBF-A7CA-BD68D21EF48F} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}

{52C6C243-3BD7-41CF-A0B0-1DE31AC2C884} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}

{CC45AC94-3CD7-45D8-A847-2D9C06E1806A} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}

EndGlobalSection

GlobalSection(ExtensibilityGlobals) = postSolution

SolutionGuid ={F5CAA926-1B7D-3A67-9130-E6EFE3E9DFD9}

EndGlobalSection

EndGlobal

You can’t perform that action at this time.

---

# CI (Native + dotnet) · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## CI (Native + dotnet)     \#\#\# CI (Native + dotnet)         \#\# Actions

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

will be ignored since log searching is not yet available


**8 workflow runs**

**8 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

[Fixed Android build + improved CI/CI with xharness + added AllRuntimes package](/sandrohanea/whisper.net/actions/runs/11276573087)CI (Native + dotnet)
#8:


Pull request [#216](/sandrohanea/whisper.net/pull/216)

synchronize
by
[sandrohanea](/sandrohanea)

October 10, 2024 14:53
10m 44s
[sandro/fixes](/sandrohanea/whisper.net/tree/refs/heads/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/refs/heads/sandro/fixes "sandro/fixes")

October 10, 2024 14:53
10m 44s


- [View #216](/sandrohanea/whisper.net/pull/216)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11276573087/workflow)

[Fixed Android build + improved CI/CI with xharness + added AllRuntimes package](/sandrohanea/whisper.net/actions/runs/11276552316)CI (Native + dotnet)
#7:


Pull request [#216](/sandrohanea/whisper.net/pull/216)

synchronize
by
[sandrohanea](/sandrohanea)

October 10, 2024 14:51
1s
[sandro/fixes](/sandrohanea/whisper.net/tree/refs/heads/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/refs/heads/sandro/fixes "sandro/fixes")

October 10, 2024 14:51
1s


- [View #216](/sandrohanea/whisper.net/pull/216)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11276552316/workflow)

[Fixed Android build + improved CI/CI with xharness + added AllRuntimes package](/sandrohanea/whisper.net/actions/runs/11276519329)CI (Native + dotnet)
#6:


Pull request [#216](/sandrohanea/whisper.net/pull/216)


by
[sandrohanea](/sandrohanea)

October 10, 2024 14:49Failure[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

October 10, 2024 14:49Failure

- [View #216](/sandrohanea/whisper.net/pull/216)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11276519329/workflow)

[one more](/sandrohanea/whisper.net/actions/runs/11276448519)CI (Native + dotnet)
#5:


Commit [0531fbe](/sandrohanea/whisper.net/commit/0531fbeb141f15e034d8a726fc46c4c795e0499c)

pushed
by
[sandrohanea](/sandrohanea)

October 10, 2024 14:45Failure[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

October 10, 2024 14:45Failure

- [View workflow file](/sandrohanea/whisper.net/actions/runs/11276448519/workflow)

[Fixed Android build + improved CI/CI with xharness + added AllRuntimes package](/sandrohanea/whisper.net/actions/runs/11276431552)CI (Native + dotnet)
#4:


Pull request [#216](/sandrohanea/whisper.net/pull/216)


by
[sandrohanea](/sandrohanea)

October 10, 2024 14:44Failure[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

October 10, 2024 14:44Failure

- [View #216](/sandrohanea/whisper.net/pull/216)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11276431552/workflow)

[USed @${{ github.head\_ref }}](/sandrohanea/whisper.net/actions/runs/11276339094)CI (Native + dotnet)
#3:


Commit [56dc3b1](/sandrohanea/whisper.net/commit/56dc3b117c1047d61358f8407307570fd5bd8155)

pushed
by
[sandrohanea](/sandrohanea)

October 10, 2024 14:39Failure[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

October 10, 2024 14:39Failure

- [View workflow file](/sandrohanea/whisper.net/actions/runs/11276339094/workflow)

[a](/sandrohanea/whisper.net/actions/runs/11276292705)CI (Native + dotnet)
#2:


Commit [d12ab7c](/sandrohanea/whisper.net/commit/d12ab7ca73fe1caf606c11749c0180049445f2ef)

pushed
by
[sandrohanea](/sandrohanea)

October 10, 2024 14:36Failure[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

October 10, 2024 14:36Failure

- [View workflow file](/sandrohanea/whisper.net/actions/runs/11276292705/workflow)

[T](/sandrohanea/whisper.net/actions/runs/11276267597)CI (Native + dotnet)
#1:


Commit [c6e7351](/sandrohanea/whisper.net/commit/c6e7351551017c3b3fb983fed538d5a27c598ee8)

pushed
by
[sandrohanea](/sandrohanea)

October 10, 2024 14:35Failure[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

[sandro/fixes](/sandrohanea/whisper.net/tree/sandro/fixes "sandro/fixes")

October 10, 2024 14:35Failure

- [View workflow file](/sandrohanea/whisper.net/actions/runs/11276267597/workflow)

You can’t perform that action at this time.

---

# whisper.net/dump.txt at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# dump.txt

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Release/1.5.0 (](/sandrohanea/whisper.net/commit/8711b1bf6b68cf1323864513d65d532c5469e733) [#132](https://github.com/sandrohanea/whisper.net/pull/132) [)](/sandrohanea/whisper.net/commit/8711b1bf6b68cf1323864513d65d532c5469e733)

Nov 25, 2023

[8711b1b](/sandrohanea/whisper.net/commit/8711b1bf6b68cf1323864513d65d532c5469e733) · Nov 25, 2023

## History

[History](/sandrohanea/whisper.net/commits/main/dump.txt)

1 lines (1 loc) · 5 Bytes

/

# dump.txt

Top

## File metadata and controls

- Code

- Blame


1 lines (1 loc) · 5 Bytes

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/dump.txt)

1

test

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# Releases · sandrohanea/whisper.net



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Releases: sandrohanea/whisper.net

Releases · sandrohanea/whisper.net

## v1.7.4

26 Dec 20:57

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.7.4](/sandrohanea/whisper.net/tree/1.7.4)

[`a3ec2f8`](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).


Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.7.4)

Loading

[v1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)[Latest](/sandrohanea/whisper.net/releases/latest)

[Latest](/sandrohanea/whisper.net/releases/latest)

We're thrilled to announce the release of whisper.net 1.7.4, featuring a host of improvements and new functionalities.

## Key Features and Changes

- Custom Alignment Heads for DTW: Now, you can define custom alignment heads for Dynamic Time Warping (DTW), enhancing the accuracy of speech-to-text alignment in various scenarios.
- Upgrade to `Whisper.cpp 1.7.3` which included multiple updates and fixes:

  - `WithNoSpeechThreshold` Support: This allows for better handling of silent segments in audio, improving transcription accuracy.
  - Performance Enhancements: Significant improvements, especially on the Metal runtime for macOS, ensuring faster processing times.
  - Library Split: The native libraries are now split into multiple files ( `libggml-whisper`, `libggml-base-whisper`, etc.), allowing for more modular use and easier updates.
- MAUI App Testing for iOS: Added tests for MAUI applications on iOS, ensuring better support for cross-platform development. 🚀
- Whisper Factory Options: Introduced new options at the WhisperFactory level for more granular control over configurations, previously managed through a singleton at the library level (RuntimeOptions). This improves flexibility and maintainability. Note: RuntimeOptions are still available but only to configure the way how the native runtime is being loaded.
- The continuous recognition example has been deprecated in favor of [EchoSharp](https://github.com/sandrohanea/echosharp), which provides a more robust and up-to-date demonstration of continuous speech recognition capabilities.
- FIxed an issue where the native library couldn't be auto-loaded on systems that are not providing any command line arguments (like godot)

## What's Changed

- Bumped version 1.7.3 by [@sandrohanea](https://github.com/sandrohanea) in [#292](https://github.com/sandrohanea/whisper.net/pull/292)
- Bump FluentAssertions from 6.12.2 to 7.0.0 by [@dependabot](https://github.com/dependabot) in [#291](https://github.com/sandrohanea/whisper.net/pull/291)
- Bump Microsoft.DotNet.XHarness.TestRunners.Xunit from 10.0.0-prerelease.24575.1 to 10.0.0-prerelease.24604.1 by [@dependabot](https://github.com/dependabot) in [#294](https://github.com/sandrohanea/whisper.net/pull/294)
- Bump Microsoft.DotNet.XHarness.TestRunners.Xunit from 10.0.0-prerelease.24604.1 to 10.0.0-prerelease.24610.1 by [@dependabot](https://github.com/dependabot) in [#298](https://github.com/sandrohanea/whisper.net/pull/298)
- Support setting custom alignment heads for dtw by [@jettoblack](https://github.com/jettoblack) in [#301](https://github.com/sandrohanea/whisper.net/pull/301)
- Added Whisper Factory Options by [@sandrohanea](https://github.com/sandrohanea) in [#302](https://github.com/sandrohanea/whisper.net/pull/302)
- Added test reporter by [@sandrohanea](https://github.com/sandrohanea) in [#303](https://github.com/sandrohanea/whisper.net/pull/303)
- Removed unnecessary instances and simplified LogProviders + RuntimeOptions by [@sandrohanea](https://github.com/sandrohanea) in [#304](https://github.com/sandrohanea/whisper.net/pull/304)
- Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0 by [@dependabot](https://github.com/dependabot) in [#306](https://github.com/sandrohanea/whisper.net/pull/306)
- Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold by [@sandrohanea](https://github.com/sandrohanea) in [#305](https://github.com/sandrohanea/whisper.net/pull/305)
- Removed continuous recognition example and replaced it with a link the echosharp by [@sandrohanea](https://github.com/sandrohanea) in [#309](https://github.com/sandrohanea/whisper.net/pull/309)

**Full Changelog**: [`1.7.3...1.7.4`](https://github.com/sandrohanea/whisper.net/compare/1.7.3...1.7.4)

### Contributors

- [![@jettoblack](https://avatars.githubusercontent.com/u/1063468?s=64&v=4)](https://github.com/jettoblack)
- [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)
- [![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=64&v=4)](https://github.com/sandrohanea)

jettoblack, dependabot, and sandrohanea


Assets2

- [Source code(zip)](/sandrohanea/whisper.net/archive/refs/tags/1.7.4.zip)

2024-12-26T20:21:05Z

- [Source code(tar.gz)](/sandrohanea/whisper.net/archive/refs/tags/1.7.4.tar.gz)

2024-12-26T20:21:05Z


![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)1houstonhaynes reacted with hooray emoji![rocket](https://github.githubassets.com/assets/1f680-d0ef47fdb515.png)3sandrohanea, umlx5h, and LSXAxeller reacted with rocket emoji

All reactions

- ![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)1 reaction
- ![rocket](https://github.githubassets.com/assets/1f680-d0ef47fdb515.png)3 reactions

4 people reacted

0
[Join discussion](/sandrohanea/whisper.net/discussions/310)

## v1.7.3

02 Dec 10:51

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.7.3](/sandrohanea/whisper.net/tree/1.7.3)

[`635869b`](/sandrohanea/whisper.net/commit/635869bcf9a8f2a03f49ecf7d698c8c79e3decb9)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).


Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.7.3)

Loading

[v1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)

## Summary

- Introduced support for dotnet 9 MAUI apps
- Upgraded whisper.cpp to 1.7.2
- Fixed the iOS linking (thanks to [@AncientLust](https://github.com/AncientLust) )
- Added support for Linux with Vulkan runtime
- Bumped various nuget versions to newly released packages (e.g. `Microsoft.Bcl.AsyncInterfaces` to `9.0.0`)

**Full Changelog**: [`1.7.2...1.7.3`](https://github.com/sandrohanea/whisper.net/compare/1.7.2...1.7.3)

### Contributors

- [![@AncientLust](https://avatars.githubusercontent.com/u/84724571?s=64&v=4)](https://github.com/AncientLust)

AncientLust


Assets2

Loading

![+1](https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png)1LSXAxeller reacted with thumbs up emoji

All reactions

- ![+1](https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png)1 reaction

1 person reacted

0
[Join discussion](/sandrohanea/whisper.net/discussions/285)

## v1.7.2

10 Nov 15:19

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.7.2](/sandrohanea/whisper.net/tree/1.7.2)

[`a4877bb`](/sandrohanea/whisper.net/commit/a4877bb5900b806848fb298c442e80e9d17c6716)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).


Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.7.2)

Loading

[v1.7.2](/sandrohanea/whisper.net/releases/tag/1.7.2)

## What's Changed

- Fix RuntimeOptions example by [@SnakyBeaky](https://github.com/SnakyBeaky) in [#232](https://github.com/sandrohanea/whisper.net/pull/232)
- fix linux cuda broken in 1.7.1 by [@jettoblack](https://github.com/jettoblack) in [#234](https://github.com/sandrohanea/whisper.net/pull/234)
- Added logs for lib loading in [#236](https://github.com/sandrohanea/whisper.net/pull/236)
- Bump Microsoft.Extensions.Logging.Debug from 8.0.0 to 8.0.1 by [@dependabot](https://github.com/dependabot) in [#237](https://github.com/sandrohanea/whisper.net/pull/237)
- Fix Whisper.net.Runtime.NoAvx package. in [#240](https://github.com/sandrohanea/whisper.net/pull/240)
- Fixed the mono and netframework directory retrieval issue in [#244](https://github.com/sandrohanea/whisper.net/pull/244)
- Added GetSupportedLanguages method in [#245](https://github.com/sandrohanea/whisper.net/pull/245)
- Bump Microsoft.DotNet.XHarness.TestRunners.Xunit from 10.0.0-prerelease.24511.1 to 10.0.0-prerelease.24529.1 by [@dependabot](https://github.com/dependabot) in [#242](https://github.com/sandrohanea/whisper.net/pull/242)
- Fixed linux performance by adding F16C to list of required specialized instructions in [#246](https://github.com/sandrohanea/whisper.net/pull/246)
- Fixed CD pipeline to add the tag and conditionally push to nuget in [#248](https://github.com/sandrohanea/whisper.net/pull/248)
- Renamed ggml to ggml-whisper to not conflict with Llama in [#252](https://github.com/sandrohanea/whisper.net/pull/252)
- Add option to enable DTW timestamps; expose tokens in SegmentData by [@jettoblack](https://github.com/jettoblack) in [#241](https://github.com/sandrohanea/whisper.net/pull/241)
- Added try catch for getting the directory name in [#255](https://github.com/sandrohanea/whisper.net/pull/255)
- Fixed the issue with the eager init context that is not freeing memory in [#258](https://github.com/sandrohanea/whisper.net/pull/258)

## New Contributors

- [@SnakyBeaky](https://github.com/SnakyBeaky) made their first contribution in [#232](https://github.com/sandrohanea/whisper.net/pull/232)
- [@jettoblack](https://github.com/jettoblack) made their first contribution in [#234](https://github.com/sandrohanea/whisper.net/pull/234)

**Full Changelog**: [`1.7.1...1.7.2`](https://github.com/sandrohanea/whisper.net/compare/1.7.1...1.7.2)

### Contributors

- [![@jettoblack](https://avatars.githubusercontent.com/u/1063468?s=64&v=4)](https://github.com/jettoblack)
- [![@SnakyBeaky](https://avatars.githubusercontent.com/u/8410877?s=64&v=4)](https://github.com/SnakyBeaky)
- [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)

jettoblack, SnakyBeaky, and dependabot


Assets2

Loading

All reactions

## v1.7.1

17 Oct 22:07

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.7.1](/sandrohanea/whisper.net/tree/1.7.1)

[`1117e52`](/sandrohanea/whisper.net/commit/1117e52fedb34bdb89c464c3ac28a795e3f82e8d)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).


Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.7.1)

Loading

[v1.7.1](/sandrohanea/whisper.net/releases/tag/1.7.1)

## What's Changed

- Fixed Android build + improved CI/CI with xharness + added AllRuntimes package in [#216](https://github.com/sandrohanea/whisper.net/pull/216)
- Fixed vulkan and coreml targets in [#218](https://github.com/sandrohanea/whisper.net/pull/218)
- Bump Microsoft.AspNetCore.Components.WebAssembly from 8.0.8 to 8.0.10 in /examples by [@dependabot](https://github.com/dependabot) in [#220](https://github.com/sandrohanea/whisper.net/pull/220)
- Bump Microsoft.AspNetCore.Components.WebAssembly.Server from 8.0.8 to 8.0.10 in /examples by [@dependabot](https://github.com/dependabot) in [#221](https://github.com/sandrohanea/whisper.net/pull/221)
- Add FlashAttention support by [@Sing303](https://github.com/Sing303) in [#223](https://github.com/sandrohanea/whisper.net/pull/223)
- Fixed cuda load when no cuda device available by [@sandrohanea](https://github.com/sandrohanea) and [@Sing303](https://github.com/Sing303) in [#225](https://github.com/sandrohanea/whisper.net/pull/225)
- Fixed multiruntime issue in [#228](https://github.com/sandrohanea/whisper.net/pull/228)
- Fixed the perf issue on linux from 1.7.1-preview1 in [#229](https://github.com/sandrohanea/whisper.net/pull/229)
- Versions bumped after release in [#230](https://github.com/sandrohanea/whisper.net/pull/230)

## New Contributors

- [@Sing303](https://github.com/Sing303) made their first contribution in [#223](https://github.com/sandrohanea/whisper.net/pull/223)

**Full Changelog**: [`1.7.0...1.7.1`](https://github.com/sandrohanea/whisper.net/compare/1.7.0...1.7.1)

### Contributors

- [![@Sing303](https://avatars.githubusercontent.com/u/19262319?s=64&v=4)](https://github.com/Sing303)
- [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)
- [![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=64&v=4)](https://github.com/sandrohanea)

Sing303, dependabot, and sandrohanea


Assets2

Loading

![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)2TomasEkeli and umlx5h reacted with hooray emoji

All reactions

- ![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)2 reactions

2 people reacted

## v1.7.1-preview1

14 Oct 13:18

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.7.1-preview1](/sandrohanea/whisper.net/tree/1.7.1-preview1)

[`40639db`](/sandrohanea/whisper.net/commit/40639db7f467e614eb4fd00ade0ca44d49a22d2d)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).


Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.7.1-preview1)

Loading

[v1.7.1-preview1](/sandrohanea/whisper.net/releases/tag/1.7.1-preview1)Pre-release

Pre-release

## What's Changed

- Fixed Android build + improved CI/CI with xharness
- Added AllRuntimes package
- Fixed vulkan and coreml
- Fixed nuget push
- Added nuget push workflow

**Full Changelog**: [`1.7.0...1.7.1-preview1`](https://github.com/sandrohanea/whisper.net/compare/1.7.0...1.7.1-preview1)

Assets2

Loading

![+1](https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png)2masterminh219 and Sing303 reacted with thumbs up emoji

All reactions

- ![+1](https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png)2 reactions

2 people reacted

## v1.7.0

07 Oct 22:30

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.7.0](/sandrohanea/whisper.net/tree/1.7.0)

[`fc1282f`](/sandrohanea/whisper.net/commit/fc1282f9a92f03e854a66c65b39ef2c9dfdc23e4)

Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.7.0)

Loading

[v1.7.0](/sandrohanea/whisper.net/releases/tag/1.7.0)

# Whisper.net v1.7.0 Release Notes

We're excited to announce the latest version of Whisper.net, packed with new features, enhanced runtime flexibility, and improved support for high-performance speech recognition!

## New Features & Improvements

### 🛠️ **Multiple Runtimes Support**

- **Flexible runtime support**: In the past, you could only reference one runtime at a time. Now, Whisper.net allows you to include **multiple runtimes** within the same project. This makes it easier to build cross-platform applications that take advantage of different runtime options depending on the hardware and platform being used.

### 🚀 **Vulkan Runtime Support**

- We’ve added **Vulkan** as a new GPU runtime option, enabling better GPU acceleration on Windows x64 for systems supporting Vulkan.

### ⚡ **OpenVINO Runtime Support**

- Support for **OpenVINO** has been introduced, providing improved performance on Intel hardware (both CPU and GPU). You can now offload heavy computation to Intel devices with this runtime.
- Added an **OpenVINO encoder downloader** to make it easier to acquire necessary models for your OpenVINO workloads.

### 📥 **Downloader for OpenVINO Encoders**

- Simplified the process of downloading **OpenVINO encoder models** for faster setup and enhanced model management.

### 🔄 **RuntimeOptions for Configurable Runtimes**

- Introducing `RuntimeOptions`, which allows you to configure runtime behaviors, such as selecting which GPU or device to use. This adds greater flexibility and control over how Whisper.net operates on different hardware setups.

## Updates

### ⚙️ **CUDA Runtime Update**

- The previous `Whisper.net.Cublas` runtime has been renamed to `Whisper.net.Cuda` to reflect the use of CUDA for Nvidia GPUs. This renaming ensures consistency and clarity in runtime names.

### 🛑 **ClBlast Runtime Removal**

- Removed support for the `Whisper.net.Runtime.Clblast` runtime. Vulkan, CUDA, and OpenVINO now provide more efficient alternatives for hardware acceleration.

### 🚀 **Support for Whisper Large v3 Turbo Models**

- We've added support for **Whisper Large v3 Turbo**, which delivers enhanced performance for large-scale speech recognition tasks.

### 🔄 **Upgraded to Latest Whisper.cpp**

- This release integrates the **latest Whisper.cpp updates**, including all new features, optimizations, and bug fixes from the underlying `whisper.cpp` project. Expect improved performance, stability, and broader platform compatibility.

* * *

We hope these improvements will help make Whisper.net even more powerful for your projects. As always, your feedback is welcome, and be sure to check out our [documentation](https://github.com/sandrohanea/whisper.net) for examples and usage details.

Happy coding! 🎉

**Full Changelog**: [`1.5.0...1.7.0`](https://github.com/sandrohanea/whisper.net/compare/1.5.0...1.7.0)

Assets2

Loading

![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)7drasticactions, umlx5h, TomasEkeli, L-Sypniewski, srs-adamr, masterminh219, and tonyedwardspz reacted with hooray emoji

All reactions

- ![tada](https://github.githubassets.com/assets/1f389-36899a2cb781.png)7 reactions

7 people reacted

## 1.5.0

25 Nov 16:29

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.5.0](/sandrohanea/whisper.net/tree/1.5.0)

[`8711b1b`](/sandrohanea/whisper.net/commit/8711b1bf6b68cf1323864513d65d532c5469e733)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).


Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.5.0)

Loading

[1.5.0](/sandrohanea/whisper.net/releases/tag/1.5.0)

- Upgraded to Whisper.cpp 1.5.1

- Improved cancellation using CancellationToken provided => it's using the onabort handler in native library to cancel the processing faster


=\> addressing concerns from [#23](https://github.com/sandrohanea/whisper.net/issues/23)

- Logging improvements: not logging to stderr by default anymore, but events can be registered (see [LogProvider](https://github.com/sandrohanea/whisper.net/tree/main/Whisper.net/Logger/LogProvider))


=\> Added optional logging in simple samples + CoreML sample


=\> Logging is now suppressed by default: [#129](https://github.com/sandrohanea/whisper.net/issues/129)

- Added `useGpu` on WhisperFactory creation so that GPU usage can be disabled on specific runtimes (e.g. Cublas, CoreML, etc)

- Upgraded dotnet targets to dotnet 8

- Added support for whisper large v3 (including downloader + coreml model)


=\> Old model Large in downloader should be renamed to LargeV2 see [GgmlType](https://github.com/sandrohanea/whisper.net/blob/main/Whisper.net/Ggml/GgmlType.cs)

- Added linux-x64 support for Whisper.net.Runtime.Cublas

- Added support for distil-whisper [#126](https://github.com/sandrohanea/whisper.net/issues/126)


=\> No downloader added, you'll need to load the model yourself


=\> How to build the model: [https://github.com/ggerganov/whisper.cpp/tree/master/models#distilled-models](https://github.com/ggerganov/whisper.cpp/tree/master/models#distilled-models)

- **Added automated builds for all runtimes using Github Actions**

- Unified runtime builds with make for linux, macos, ios, tvos, wasm and powershell scripts for windows

- Added Blazor with InteractivityAuto, InteractivityServer and InteractivityWebAssemly support


=\> sample with new dotnet 8 Blazor template added.

- Unified Whisper.net.Runtime.Wasm with Whisper.net.Runtime


=\> If previously you were using Whisper.net.Runtime.Wasm, just replace it with Whisper.net.Runtime

- Added metal support for arm-based apple platforms (both Whisper.net.Runtime + Whisper.net.Runtime.CoreML)


**Full Changelog**: [`1.4.7...1.5.0`](https://github.com/sandrohanea/whisper.net/compare/1.4.7...1.5.0)

Assets2

Loading

![rocket](https://github.githubassets.com/assets/1f680-d0ef47fdb515.png)4sandrohanea, adcb101, masterminh219, and philippjbauer reacted with rocket emoji

All reactions

- ![rocket](https://github.githubassets.com/assets/1f680-d0ef47fdb515.png)4 reactions

4 people reacted

## 1.4.7

02 Sep 15:40

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.4.7](/sandrohanea/whisper.net/tree/1.4.7)

[`4f9a238`](/sandrohanea/whisper.net/commit/4f9a238f036db52a21ad469d324711c3a1d65ae6)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).


Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.4.7)

Loading

[1.4.7](/sandrohanea/whisper.net/releases/tag/1.4.7)

## What's Changed

- Bump Microsoft.NET.Test.Sdk from 17.6.2 to 17.6.3 by [@dependabot](https://github.com/dependabot) in [#92](https://github.com/sandrohanea/whisper.net/pull/92)
- Bump Microsoft.AspNetCore.Components.WebAssembly from 7.0.7 to 7.0.9 in /examples by [@dependabot](https://github.com/dependabot) in [#94](https://github.com/sandrohanea/whisper.net/pull/94)
- Bump Microsoft.AspNetCore.Components.WebAssembly.DevServer from 7.0.7 to 7.0.9 in /examples by [@dependabot](https://github.com/dependabot) in [#95](https://github.com/sandrohanea/whisper.net/pull/95)
- Bump whisper.cpp and address breaking changes by [@drasticactions](https://github.com/drasticactions) in [#105](https://github.com/sandrohanea/whisper.net/pull/105)
- Bump FluentAssertions from 6.11.0 to 6.12.0 by [@dependabot](https://github.com/dependabot) in [#104](https://github.com/sandrohanea/whisper.net/pull/104)
- Bump NAudio from 2.1.0 to 2.2.0 in /examples by [@dependabot](https://github.com/dependabot) in [#103](https://github.com/sandrohanea/whisper.net/pull/103)
- Bump Microsoft.AspNetCore.Components.WebAssembly.DevServer from 7.0.9 to 7.0.10 in /examples by [@dependabot](https://github.com/dependabot) in [#99](https://github.com/sandrohanea/whisper.net/pull/99)
- Bump Microsoft.NET.Test.Sdk from 17.6.3 to 17.7.2 by [@dependabot](https://github.com/dependabot) in [#106](https://github.com/sandrohanea/whisper.net/pull/106)
- Bump Microsoft.AspNetCore.Components.WebAssembly from 7.0.9 to 7.0.10 in /examples by [@dependabot](https://github.com/dependabot) in [#98](https://github.com/sandrohanea/whisper.net/pull/98)
- Bumped version to 1.4.7 by [@sandrohanea](https://github.com/sandrohanea) in [#107](https://github.com/sandrohanea/whisper.net/pull/107)
- Retargeted ios, tvos, android and maccatalyst to net7 by [@sandrohanea](https://github.com/sandrohanea) in [#107](https://github.com/sandrohanea/whisper.net/pull/107)
- Fixed large coreml download" by [@sandrohanea](https://github.com/sandrohanea) in [https://huggingface.co/sandrohanea/whisper.net/commit/52d442449e62c86ec74a8b4711c23ec6c0fb30c1](https://huggingface.co/sandrohanea/whisper.net/commit/52d442449e62c86ec74a8b4711c23ec6c0fb30c1)
- Fixed [#93](https://github.com/sandrohanea/whisper.net/issues/93) by [@sandrohanea](https://github.com/sandrohanea) in [https://huggingface.co/sandrohanea/whisper.net/commit/52d442449e62c86ec74a8b4711c23ec6c0fb30c1](https://huggingface.co/sandrohanea/whisper.net/commit/52d442449e62c86ec74a8b4711c23ec6c0fb30c1)

## New Contributors

- [@dependabot](https://github.com/dependabot) made their first contribution in [#92](https://github.com/sandrohanea/whisper.net/pull/92)

**Full Changelog**: [`1.4.6...1.4.7`](https://github.com/sandrohanea/whisper.net/compare/1.4.6...1.4.7)

### Contributors

- [![@drasticactions](https://avatars.githubusercontent.com/u/898335?s=64&v=4)](https://github.com/drasticactions)
- [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)
- [![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=64&v=4)](https://github.com/sandrohanea)

drasticactions, dependabot, and sandrohanea


Assets2

Loading

All reactions

## 1.4.6

02 Jul 21:17

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.4.6](/sandrohanea/whisper.net/tree/1.4.6)

[`88c65f1`](/sandrohanea/whisper.net/commit/88c65f14310a14b7cd349d86413310d6bcec2209)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).


Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.4.6)

Loading

[1.4.6](/sandrohanea/whisper.net/releases/tag/1.4.6)

## What's Changed

- Various changes in the native library incorporated into in [#90](https://github.com/sandrohanea/whisper.net/pull/90)
- Fixed osx build [#88](https://github.com/sandrohanea/whisper.net/issues/88)
- Improved WaveParser and fixed [#86](https://github.com/sandrohanea/whisper.net/issues/86)
- Improved examples

**Full Changelog**: [`1.4.5...1.4.6`](https://github.com/sandrohanea/whisper.net/compare/1.4.5...1.4.6)

Assets2

Loading

All reactions

## 1.4.5

19 Jun 22:41

![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)[sandrohanea](/sandrohanea)

[1.4.5](/sandrohanea/whisper.net/tree/1.4.5)

[`8723442`](/sandrohanea/whisper.net/commit/87234429ed4ccfc2c4e05b38ef7f05e1f9acddb6)

Compare

Could not load tags

Nothing to show

[{{ refName }}default](/sandrohanea/whisper.net/compare/{{ urlEncodedRefName }}...1.4.5)

Loading

[1.4.5](/sandrohanea/whisper.net/releases/tag/1.4.5)

## What's Changed

- Fixed [#74](https://github.com/sandrohanea/whisper.net/issues/74) Issue with Wave Memorystream obtained through ffmpegcore [@sandrohanea](https://github.com/sandrohanea) in [`dd7525c`](https://github.com/sandrohanea/whisper.net/commit/dd7525c06cfd094fb23ae39b7ba7e9eb6be8e156)
- Cleanup some additional memory [@sandrohanea](https://github.com/sandrohanea) in [`8723442`](https://github.com/sandrohanea/whisper.net/commit/87234429ed4ccfc2c4e05b38ef7f05e1f9acddb6)

**Full Changelog**: [`1.4.4...1.4.5`](https://github.com/sandrohanea/whisper.net/compare/1.4.4...1.4.5)

### Contributors

- [![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=64&v=4)](https://github.com/sandrohanea)

sandrohanea


Assets2

Loading

All reactions

Previous _1_ [2](/sandrohanea/whisper.net/releases?page=2) [Next](/sandrohanea/whisper.net/releases?page=2)

Previous [Next](/sandrohanea/whisper.net/releases?page=2)

You can’t perform that action at this time.

---

# Issue search results · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

# issues Search Results · repo:sandrohanea/whisper.net language:C\#

## Filter by

- [Code... (...)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23&type=code)
- [Issues71 (71)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23&type=issues)
- [Pull requests138 (138)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23&type=pullrequests)
- [Discussions4 (4)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23&type=discussions)
- [Commits0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23&type=commits)
- [Packages0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23&type=registrypackages)
- [Wikis0 (0)results](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23&type=wikis)
- ### State

- [‎Open‎](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23&type=issues&state=open)
- [‎Closed‎](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23&type=issues&state=closed)
- ### Advanced

- ‎Owner‎

- ‎State‎

- ‎Close reason‎

- [‎Has linked pull request‎](https://github.com/search?q=repo%3Asandrohanea%2Fwhisper.net++language%3AC%23+linked%3Apr&type=issues)
- ‎Author‎

- ‎Assignee‎

- ‎Mentioned user‎

- ‎Mentioned team‎

- ‎Commenter‎

- ‎Involved user‎

- ‎Label‎

- ‎Milestone‎

- ‎Number of comments‎

- ‎Number of interactions‎
- [Advanced search](https://github.com/search/advanced)

Issues71 (71)

71 results
(67 ms)

## 71 results

in[sandrohanea/whisper.net (press backspace or delete to remove)](/sandrohanea/whisper.net)

Sort by:  Best match

Filter

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [Version 1.7.4 Fails to build Whisper.net.Demo](/sandrohanea/whisper.net/issues/311)

ChatGPT discussion

\- \[x\] I asked Whisper.net Helper and it couldn t help me, here is the discussion link:
https://chatgpt.com/share/676eb704-9cd0-800b-b1fe-28cf70f543d1

Describe the bug Cloned ...

- ![](https://avatars.githubusercontent.com/u/33675736?s=48&v=4)steve3p0
·- 1
·- Opened
55 minutes ago

·- [#311](/sandrohanea/whisper.net/issues/311)

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [\[Tests\] TestCancelEncoder is not working on ios](/sandrohanea/whisper.net/issues/308)

The encoder begin handler functionality to cancel a run, is not working in ios. The test was skipped for now.

This issue requires further investigation to determine why the encoder callback returning ...

- ![](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)sandrohanea
·- Opened
21 hours ago

·- [#308](/sandrohanea/whisper.net/issues/308)

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [NativeLibraryLoader.GetRuntimePaths() throws IndexOutOfRangeException](/sandrohanea/whisper.net/issues/307)

ChatGPT discussion

\- \[x\] I asked Whisper.net Helper and it couldn t help me, here is the discussion link:

Describe the bug When NativeLibraryLoader.GetRuntimePaths() is called from Godot, it throws ...

- ![](https://avatars.githubusercontent.com/u/61346893?s=48&v=4)ZhenyaPav
·- 3
·- Opened
3 days ago

·- [#307](/sandrohanea/whisper.net/issues/307)

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [Inaccurate timestamps](/sandrohanea/whisper.net/issues/299)

Hello,

I found that the transcription has very bad timestamp in my most cases when I use it for English or Japanese. I tried
both Base and Large-v3 models. How can I solve this issue?

This is the video ...

- ![](https://avatars.githubusercontent.com/u/84692657?s=48&v=4)phanxuanquang
·- 3
·- Opened
9 days ago

·- [#299](/sandrohanea/whisper.net/issues/299)

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [.NET Maui Blazer Hybrid error targeting Android](/sandrohanea/whisper.net/issues/297)

I have a .NET Maui Blazer Hybrid multiplatform solution that uses Whisper.net.

My app targeting the Windows architecture works with no problem. However, I am having issues targeting Android on a
virtual ...

- ![](https://avatars.githubusercontent.com/u/178332362?s=48&v=4)StevePGLS
·- 16
·- Opened
14 days ago

·- [#297](/sandrohanea/whisper.net/issues/297)

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [Docker on Apple M2: Failed to load native whisper library](/sandrohanea/whisper.net/issues/296)

\*Describtion I use Whisper.net (AllRuntimes, v1.7.3) in dotnet9 container running MacOS Docker (both Docker VMM and
Apple Virtualisation Framework). I got the error Failed to load native whisper library ...

- ![](https://avatars.githubusercontent.com/u/2665756?s=48&v=4)pavelzaitsau
·- 2
·- Opened
15 days ago

·- [#296](/sandrohanea/whisper.net/issues/296)

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [Can support CUDA11？](/sandrohanea/whisper.net/issues/295)

Can support CUDA11.x？

- ![](https://avatars.githubusercontent.com/u/12029452?s=48&v=4)dfengpo
·- 2
·- Opened
16 days ago

·- [#295](/sandrohanea/whisper.net/issues/295)

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [How to set the usage of graphics card memory？](/sandrohanea/whisper.net/issues/293)

The 17.3 version use gpu memory 7gb,How to set the usage of graphics card memory? image

- ![](https://avatars.githubusercontent.com/u/12029452?s=48&v=4)dfengpo
·- 3
·- Opened
19 days ago

·- [#293](/sandrohanea/whisper.net/issues/293)

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [Discussions section in repo](/sandrohanea/whisper.net/issues/281)

Is these an opportunity to add Discussions section to the repo like it s done for MAUI?

It s not always a bug or feature request. Sometimes it s something Whisper.net communtiy could know and you can ...

- ![](https://avatars.githubusercontent.com/u/84724571?s=48&v=4)AncientLust
·- Opened
on Nov 23

·- [#281](/sandrohanea/whisper.net/issues/281)

### [sandrohanea/whisper.net](/sandrohanea/whisper.net)    [TTS](/sandrohanea/whisper.net/issues/277)

can i perform TTS (text-to-speech) with this or i need to find another way to do this ?

- ![](https://avatars.githubusercontent.com/u/5107057?s=48&v=4)Torabi-srh
·- 1
·- Opened
on Nov 21

·- [#277](/sandrohanea/whisper.net/issues/277)

![Issue origami icon](/images/modules/search/issues.png)

## Learn how you can use GitHub Issues to plan and track your work.

Save views for sprints, backlogs, teams, or releases. Rank, sort, and filter issues to suit the occasion. The possibilities are endless. [Learn more about GitHub Issues](https://docs.github.com/issues)

ProTip!

Press the
/
key to activate the search input again and adjust your query.

![Issue origami icon](/images/modules/search/issues.png)

## Learn how you can use GitHub Issues to plan and track your work.

Save views for sprints, backlogs, teams, or releases. Rank, sort, and filter issues to suit the occasion. The possibilities are endless. [Learn more about GitHub Issues](https://docs.github.com/issues)

ProTip!

Press the
/
key to activate the search input again and adjust your query.

You can’t perform that action at this time.


Issue search results · GitHub

---

# Removed continuous recognition example and replaced it with a link the echosharp · sandrohanea/whisper.net@406bc65 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Removed continuous recognition example and replaced it with a link the echosharp  \#303

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506853099)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506853099)

## Summary

# Removed continuous recognition example and replaced it with a link the echosharp

## Removed continuous recognition example and replaced it with a link the echosharp \#303

[Usage](/sandrohanea/whisper.net/actions/runs/12506853099/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506853099/workflow)

Triggered via pull request
December 26, 2024 17:59

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=32&v=4)sandrohanea](/sandrohanea)

opened [#309](/sandrohanea/whisper.net/pull/309)

[echosharp/removedcontinuousrecognition](/sandrohanea/whisper.net/tree/refs/heads/echosharp/removedcontinuousrecognition "echosharp/removedcontinuousrecognition")

StatusSuccess

Total duration [12m 33s](/sandrohanea/whisper.net/actions/runs/12506853099/usage)

Artifacts [15](#artifacts)

## [build-all.yml](/sandrohanea/whisper.net/actions/runs/12506853099/workflow)

on: pull\_request

[android / native-build\\
\\
1m 58s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445673) android / native-build[macos / intel-native-build\\
\\
59s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446143) macos / intel-native-build[macos / arm-native-build\\
\\
2m 31s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446037) macos / arm-native-build[windows / intel-native-build\\
\\
1m 45s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446525) windows / intel-native-build[windows / arm-native-build\\
\\
1m 27s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446401) windows / arm-native-build[wasm / native-build\\
\\
1m 3s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446254) wasm / native-build[linux / native-build\\
\\
2m 25s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445801) linux / native-build

[windows-no-avx / native-build\\
\\
1m 56s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446650) windows-no-avx / native-build[linux-no-avx / native-build\\
\\
1m 21s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445937) linux-no-avx / native-build

linux-cuda / native-build

linux-cuda / native-build

linux-openvino / native-build

linux-openvino / native-build

linux-vulkan / native-build

linux-vulkan / native-build

macos-coreml / arm-native-build

macos-coreml / arm-native-build

macos-coreml / intel-native-build

macos-coreml / intel-native-build

windows-cuda / native-build

windows-cuda / native-build

windows-openvino / native-build

windows-openvino / native-build

windows-vulkan / native-build

windows-vulkan / native-build

[dotnet-maui-build-and-test / dotnet-maui-build\\
\\
5m 15s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892508096) dotnet-maui-build-and-test / dotnet-maui-build

[dotnet-build / dotnet-macos\\
\\
2m 57s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892507968) dotnet-build / dotnet-macos[dotnet-build / dotnet-windows\\
\\
3m 10s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892507805) dotnet-build / dotnet-windows[dotnet-build / dotnet-linux\\
\\
1m 13s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892507580) dotnet-build / dotnet-linux

[dotnet-maui-build-and-test / dotnet-maui-test-android\\
\\
4m 19s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892650033) dotnet-maui-build-and-test / dotnet-maui-test-android[dotnet-maui-build-and-test / dotnet-maui-test-ios\\
\\
4m 12s](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892650261) dotnet-maui-build-and-test / dotnet-maui-test-ios

Oh hello! Nice to see you.

Made with ❤️ by [humans.txt](https://actions.github.io/humans.txt)

Fit to window

Zoom out

Zoom in

## Annotations

2 warnings

|     |
| --- |
| [**dotnet-build / dotnet-linux**](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892507580)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |
| [**dotnet-maui-build-and-test / dotnet-maui-test-android**](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892650033)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |

## Artifacts

Produced during runtime

| Name | Size |  |
| --- | --- | --- |
| android-build | 3.09 MB |  |
| linux-build | 1.67 MB |  |
| linux-noavx-build | 597 KB |  |
| mac-arm-build | 4.5 MB |  |
| mac-intel-build | 611 KB |  |
| maui-build-artifacts | 170 MB |  |
| test-results-linux | 9.46 KB |  |
| test-results-macos | 9.8 KB |  |
| test-results-windows | 15.4 KB |  |
| wasm-build | 431 KB |  |
| windows-arm-build | 462 KB |  |
| windows-build | 948 KB |  |
| windows-noavx-build | 948 KB |  |
| xharness-android-test-results | 29.2 KB |  |
| xharness-ios-test-results | 221 KB |  |

You can’t perform that action at this time.

---

# Preparing changes for 1.7.1 release (#227) · sandrohanea/whisper.net@9196352 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/919635297cca12a66aea083b37b4a0a424e9d267)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

Preparing changes for 1.7.1 release ( [#227](https://github.com/sandrohanea/whisper.net/pull/227))


[Browse files](/sandrohanea/whisper.net/tree/919635297cca12a66aea083b37b4a0a424e9d267) Browse the repository at this point in the history

```
* Preparing changes for 1.7.1 release

* Changed MainPage for the Maui test app
```

- [main](/sandrohanea/whisper.net)
- ( [#227](/sandrohanea/whisper.net/pull/227 "Merged Pull Request: Preparing changes for 1.7.1 release"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)
- …
- [1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)
- [1.7.3-preview2](/sandrohanea/whisper.net/releases/tag/1.7.3-preview2)
- [1.7.3-preview1](/sandrohanea/whisper.net/releases/tag/1.7.3-preview1)
- [1.7.2](/sandrohanea/whisper.net/releases/tag/1.7.2)
- [1.7.2-preview3](/sandrohanea/whisper.net/releases/tag/1.7.2-preview3)
- [1.7.2-preview2](/sandrohanea/whisper.net/releases/tag/1.7.2-preview2)
- [1.7.2-preview1](/sandrohanea/whisper.net/releases/tag/1.7.2-preview1)
- [1.7.1](/sandrohanea/whisper.net/releases/tag/1.7.1)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

authored
Oct 16, 2024

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[9313cd7](/sandrohanea/whisper.net/commit/9313cd757e5c509830ff95690919b515cd37ba15)commit 9196352

Show file tree

Hide file tree

Showing
**6 changed files**
with
**88 additions**
and
**41 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

9 changes: 9 additions & 0 deletions
9 [.github/workflows/push-all.yml](#diff-df9a19f98356c4116755877d6b374afb7ccbf3a8f89f3b2912f8c3535d9a5f57 ".github/workflows/push-all.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/919635297cca12a66aea083b37b4a0a424e9d267/.github/workflows/push-all.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-df9a19f98356c4116755877d6b374afb7ccbf3a8f89f3b2912f8c3535d9a5f57) Expand Up | @@ -5,6 +5,9 @@ name: Push Nuget Packages to nuget.org |
|  |  |  |
|  |  | on: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | jobs: |
|  |  | push-nupkgs: |
| [Expand All](#diff-df9a19f98356c4116755877d6b374afb7ccbf3a8f89f3b2912f8c3535d9a5f57) Expand All | @@ -28,3 +31,9 @@ jobs: |
|  |  | run: \| |
|  |  | dotnet nuget push .\\nupkgs\\\*.nupkg --source https://api.nuget.org/v3/index.json --api-key ${{ secrets.NUGET\_API\_KEY }} |
|  |  |  |
|  |  | \- name: Get version from package |
|  |  | id: get-version |
|  |  | run: \| |
|  |  | $version = (Get-ChildItem -Path nupkgs\\\*.nupkg \| Select-Object -First 1).BaseName -replace '.\*\\.(\\d+\\.\\d+\\.\\d+(-\[a-zA-Z0-9\]+)?)', '$1' |
|  |  | git tag -a "$version" -m "Release version $version" |
|  |  | git push --tags |

4 changes: 4 additions & 0 deletions
4 [.github/workflows/release.yml](#diff-87db21a973eed4fef5f32b267aa60fcee5cbdf03c67fafdc2a9b553bb0b15f34 ".github/workflows/release.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/919635297cca12a66aea083b37b4a0a424e9d267/.github/workflows/release.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-87db21a973eed4fef5f32b267aa60fcee5cbdf03c67fafdc2a9b553bb0b15f34) Expand Up | @@ -18,6 +18,10 @@ on: |
|  |  | env: |
|  |  | IS\_PREVIEW: ${{ inputs.IsPreview }} |
|  |  | PREVIEW\_SUFFIX: ${{ inputs.PreviewSuffix }} |
|  |  |  |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | jobs: |
|  |  |  |
|  |  | android: |
| [Expand Down](#diff-87db21a973eed4fef5f32b267aa60fcee5cbdf03c67fafdc2a9b553bb0b15f34) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [LICENSE](#diff-c693279643b8cd5d248172d9c22cb7cf4ed163a3c98c8a3f69c2717edd3eacb7 "LICENSE")

Show comments


[View file](/sandrohanea/whisper.net/blob/919635297cca12a66aea083b37b4a0a424e9d267/LICENSE)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | MIT License |
|  |  |  |
|  |  | Copyright (c) 2023 sandrohanea |
|  |  | Copyright (c) 2024 sandrohanea |
|  |  |  |
|  |  | Permission is hereby granted, free of charge, to any person obtaining a copy |
|  |  | of this software and associated documentation files (the "Software"), to deal |
| [Expand Down](#diff-c693279643b8cd5d248172d9c22cb7cf4ed163a3c98c8a3f69c2717edd3eacb7) Expand Down |  |

60 changes: 50 additions & 10 deletions
60 [readme.md](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15 "readme.md")

Show comments


[View file](/sandrohanea/whisper.net/blob/919635297cca12a66aea083b37b4a0a424e9d267/readme.md)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand Up | @@ -51,8 +51,22 @@ Whisper.net comes with multiple runtimes to support different platforms and hard |
|  |  |  |
|  |  | The default runtime that uses the CPU for inference. It is available on all platforms and does not require any additional dependencies. |
|  |  |  |
|  |  | Examples: \[Multiple Examples here\](https://github.com/sandrohanea/whisper.net/tree/main/examples) |
|  |  |  |
|  |  | \#### Examples: |
|  |  |  |
|  |  | -\[Simple usage example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/Simple) |
|  |  | -\[Simple usage example (without Async processing) \](https://github.com/sandrohanea/whisper.net/blob/main/examples/SimpleSync/Program.cs) |
|  |  | -\[NAudio integration for mp3\](https://github.com/sandrohanea/whisper.net/blob/main/examples/NAudioMp3/Program.cs) |
|  |  | -\[NAudio integration for resampled wav\](https://github.com/sandrohanea/whisper.net/blob/main/examples/NAudioResampleWav/Program.cs) |
|  |  | -\[Simple channel diarization\](https://github.com/sandrohanea/whisper.net/blob/main/examples/Diarization/Program.cs) |
|  |  | -\[Blazor example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/BlazorApp) |
|  |  |  |
|  |  | \#### Pre-requisites |
|  |  |  |
|  |  | - AVX2 support on the CPU |
|  |  | - Windows: Microsoft Visual C++ Redistributable for at least Visual Studio 2019 (x64) \[Download Link\](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version) |
|  |  | - Linux: \`libstdc++6\` |
|  |  | - macOS: TBD |
|  |  |  |
|  |  | \#### Supported Platforms |
|  |  |  |
|  |  | - Windows x86, x64, ARM64 |
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -68,7 +82,12 @@ Examples: \[Multiple Examples here\](https://github.com/sandrohanea/whisper.net/tr |
|  |  |  |
|  |  | For CPUs that do not support AVX instructions. |
|  |  |  |
|  |  | \#### Pre-requisites |
|  |  |  |
|  |  | - Windows: Microsoft Visual C++ Redistributable for at least Visual Studio 2019 (x64) \[Download Link\](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version) |
|  |  | - Linux: \`libstdc++6\` |
|  |  | - macOS: TBD |
|  |  |  |
|  |  | \#### Supported Platforms |
|  |  |  |
|  |  | - Windows x86, x64, ARM64 |
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -77,7 +96,16 @@ For CPUs that do not support AVX instructions. |
|  |  | \### Whisper.net.Runtime.Cuda |
|  |  |  |
|  |  | Contains the native whisper.cpp library with NVidia CUDA support enabled. |
|  |  | Example: \[CUDA example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/NvidiaCuda) |
|  |  |  |
|  |  | \#### Examples |
|  |  |  |
|  |  | -\[CUDA usage example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/NvidiaCuda) |
|  |  |  |
|  |  | \#### Pre-requisites |
|  |  |  |
|  |  | - Everything from Whisper.net.Runtime pre-requisites |
|  |  | - NVidia GPU with CUDA support |
|  |  | -\[CUDA Toolkit (>= 12.1)\](https://developer.nvidia.com/cuda-downloads) |
|  |  |  |
|  |  | \#### Supported Platforms |
|  |  |  |
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -88,7 +116,9 @@ Example: \[CUDA example\](https://github.com/sandrohanea/whisper.net/tree/main/exa |
|  |  |  |
|  |  | Contains the native whisper.cpp library with Apple CoreML support enabled. |
|  |  |  |
|  |  | Example: \[CoreML example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/CoreML) |
|  |  | \#### Examples: |
|  |  |  |
|  |  | -\[CoreML example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/CoreML) |
|  |  |  |
|  |  | \#### Supported Platforms |
|  |  |  |
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -101,7 +131,14 @@ Example: \[CoreML example\](https://github.com/sandrohanea/whisper.net/tree/main/e |
|  |  |  |
|  |  | Contains the native whisper.cpp library with Intel OpenVino support enabled. |
|  |  |  |
|  |  | Example: \[OpenVino Example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/OpenVinoExample) |
|  |  | \#### Examples |
|  |  |  |
|  |  | -\[OpenVino Example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/OpenVinoExample) |
|  |  |  |
|  |  | \#### Pre-requisites |
|  |  |  |
|  |  | - Everything from Whisper.net.Runtime pre-requisites |
|  |  | -\[OpenVino Toolkit (>= 2024.4)\](https://github.com/openvinotoolkit/openvino) |
|  |  |  |
|  |  | \#### Supported Platforms |
|  |  |  |
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -112,7 +149,14 @@ Example: \[OpenVino Example\](https://github.com/sandrohanea/whisper.net/tree/main |
|  |  |  |
|  |  | Contains the native whisper.cpp library with Vulkan support enabled. |
|  |  |  |
|  |  | Example: \[Vulkan Example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/Vulkan) |
|  |  | \#### Examples |
|  |  |  |
|  |  | -\[Vulkan Example\](https://github.com/sandrohanea/whisper.net/tree/main/examples/Vulkan) |
|  |  |  |
|  |  | \#### Pre-requisites |
|  |  |  |
|  |  | - Everything from Whisper.net.Runtime pre-requisites |
|  |  | -\[Vulkan Toolkit (>= 1.3.290.0)\](https://vulkan.lunarg.com/sdk/home)\] |
|  |  |  |
|  |  | \#### Supported Platforms |
|  |  |  |
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -135,10 +179,6 @@ To change the order or force a specific runtime, set the \`RuntimeOrder\` on the \` |
|  |  |  |
|  |  | \`\` RuntimeOptions.SetRuntimeLibraryOrder(new\[\] { RuntimeLibrary.CoreML, RuntimeLibrary.OpenVino, RuntimeLibrary.Cuda, RuntimeLibrary.Cpu }); \`\` |
|  |  |  |
|  |  | \## Blazor and WASM |
|  |  |  |
|  |  | Blazor is supported with both InteractivityServer and InteractivityWebAssembly with the \`Whisper.net.Runtime\` package. Check the Blazor example \[here\](https://github.com/sandrohanea/whisper.net/tree/main/examples/BlazorApp). |
|  |  |  |
|  |  | \## Versioning |
|  |  |  |
|  |  | Each version of Whisper.net is tied to a specific version of Whisper.cpp. The version of Whisper.net is the same as the version of Whisper it is based on. For example, Whisper.net 1.2.0 is based on Whisper.cpp 1.2.0. |
| [Expand Down](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand Down |  |

16 changes: 6 additions & 10 deletions
16 [tests/Whisper.net.Maui.Tests/MainPage.xaml](#diff-57f01a9b7bcde0e052ce6c4c2a2d18be9e1ad3ec01df0702bbbc02222fe15f7c "tests/Whisper.net.Maui.Tests/MainPage.xaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/919635297cca12a66aea083b37b4a0a424e9d267/tests/Whisper.net.Maui.Tests/MainPage.xaml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,8 @@ |
|  |  | <?xml version="1.0" encoding="utf-8" ?> |
|  |  | <?xml version="1.0" encoding="utf-8" ?> |
|  |  | <ContentPagexmlns="http://schemas.microsoft.com/dotnet/2021/maui" |
|  |  | xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" |
|  |  | x:Class="Whisper.net.Maui.Tests.MainPage"> |
|  |  | x:Class="Whisper.net.Maui.Tests.MainPage" |
|  |  | Loaded="ContentPage\_Loaded"> |
|  |  |  |
|  |  | <ScrollView> |
|  |  | <VerticalStackLayout |
| [Expand All](#diff-57f01a9b7bcde0e052ce6c4c2a2d18be9e1ad3ec01df0702bbbc02222fe15f7c) Expand All | @@ -14,22 +15,17 @@ |
|  |  | SemanticProperties.Description="dot net bot in a race car number eight" /> |
|  |  |  |
|  |  | <Label |
|  |  | Text="Hello, World!" |
|  |  | Text="Hello, Whisperer!" |
|  |  | Style="{StaticResource Headline}" |
|  |  | SemanticProperties.HeadingLevel="Level1" /> |
|  |  |  |
|  |  | <Label |
|  |  | Text="Welcome to &#10;.NET Multi-platform App UI" |
|  |  | x:Name="LblResult" |
|  |  | Style="{StaticResource SubHeadline}" |
|  |  | SemanticProperties.HeadingLevel="Level2" |
|  |  | SemanticProperties.Description="Welcome to dot net Multi platform App U I" /> |
|  |  | SemanticProperties.Description="Here you will see the result" /> |
|  |  |  |
|  |  | <Button |
|  |  | x:Name="CounterBtn" |
|  |  | Text="Click me" |
|  |  | SemanticProperties.Hint="Counts the number of times you click" |
|  |  | Clicked="OnCounterClicked" |
|  |  | HorizontalOptions="Fill" /> |
|  |  | </VerticalStackLayout> |
|  |  | </ScrollView> |
|  |  |  |
| [Expand Down](#diff-57f01a9b7bcde0e052ce6c4c2a2d18be9e1ad3ec01df0702bbbc02222fe15f7c) Expand Down |  |

38 changes: 18 additions & 20 deletions
38 [tests/Whisper.net.Maui.Tests/MainPage.xaml.cs](#diff-69d7c6806ae25494d627ea53dcfbe6f7b516b7a3e1c006931579f716369cf23f "tests/Whisper.net.Maui.Tests/MainPage.xaml.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/919635297cca12a66aea083b37b4a0a424e9d267/tests/Whisper.net.Maui.Tests/MainPage.xaml.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,45 +1,43 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.Internals.Native.Implementations; |
|  |  | usingWhisper.net.LibraryLoader; |
|  |  | usingWhisper.net.Logger; |
|  |  | usingWhisper.net.Ggml; |
|  |  |  |
|  |  | namespaceWhisper.net.Maui.Tests; |
|  |  |  |
|  |  | publicpartialclassMainPage:ContentPage |
|  |  | { |
|  |  | privateintcount; |
|  |  |  |
|  |  | publicMainPage() |
|  |  | { |
|  |  | InitializeComponent(); |
|  |  | } |
|  |  |  |
|  |  | privatevoidOnCounterClicked(objectsender,EventArgse) |
|  |  | privateasyncvoidContentPage\_Loaded(objectsender,EventArgse) |
|  |  | { |
|  |  | count++; |
|  |  |  |
|  |  | CounterBtn.Text=$"Clicked {count} times"; |
|  |  |  |
|  |  | try |
|  |  | { |
|  |  | varlinuxLIbraryLoader=newLinuxLibraryLoader(); |
|  |  | varopenedLib=linuxLIbraryLoader.OpenLibrary("libggml.so",true); |
|  |  |  |
|  |  | if(openedLib==IntPtr.Zero) |
|  |  | usingvarmemoryStream=newMemoryStream(); |
|  |  | usingvarmodelStream=awaitWhisperGgmlDownloader.GetGgmlModelAsync(GgmlType.Tiny,QuantizationType.Q4\_0); |
|  |  | awaitmodelStream.CopyToAsync(memoryStream); |
|  |  | usingvarmauiStream=awaitFileSystem.OpenAppPackageFileAsync("kennedy.wav"); |
|  |  | varaudioFileStream=newMemoryStream(); |
|  |  | // We need to copy it to a memory because the mauiStream cannot read Position. |
|  |  | awaitmauiStream.CopyToAsync(audioFileStream); |
|  |  | audioFileStream.Seek(0,SeekOrigin.Begin); |
|  |  |  |
|  |  | usingvarwhisperFactory=WhisperFactory.FromBuffer(memoryStream.ToArray()); |
|  |  | varwhisperBuilder=whisperFactory.CreateBuilder(); |
|  |  | usingvarwhisperProcessor=whisperBuilder.Build(); |
|  |  | LblResult.Text=string.Empty; |
|  |  | awaitforeach(varresultinwhisperProcessor.ProcessAsync(audioFileStream)) |
|  |  | { |
|  |  | varerror=linuxLIbraryLoader.GetLastError(); |
|  |  | CounterBtn.Text=error; |
|  |  | LblResult.Text+=result.Text; |
|  |  | } |
|  |  |  |
|  |  | } |
|  |  | catch(Exceptionex) |
|  |  | { |
|  |  | CounterBtn.Text=ex.Message; |
|  |  | LblResult.Text=ex.Message; |
|  |  | // ignored |
|  |  | } |
|  |  |  |
|  |  | SemanticScreenReader.Announce(CounterBtn.Text); |
|  |  | } |
|  |  | } |
|  |  |  |

Toggle all file notesToggle all file annotations

### 0 comments  on commit `9196352`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2F919635297cca12a66aea083b37b4a0a424e9d267) to comment.

You can’t perform that action at this time.

---

# OpenBLAS support · Issue #63 · sandrohanea/whisper.net · GitHub



---

# Android Native build · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## Android Native build     \#\#\# Android Native build         \#\#\#\#\# Loading...  Loading      \#\#\#\#\# Sorry, something went wrong.

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

[android-native-build.yml](/sandrohanea/whisper.net/blob/main/.github/workflows/android-native-build.yml)

will be ignored since log searching is not yet available


**0 workflow runs**

**0 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

![GitHub Actions](https://github.githubassets.com/images/modules/site/features/actions-icon-actions.svg)

### This workflow has no runs yet.

You can’t perform that action at this time.

---

# Dependabot Updates · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## Dependabot Updates     \#\#\# Dependabot Updates         \#\# Actions

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

Showing all updates from Dependabot. Learn about [Dependabot updates.](https://docs.github.com/code-security/dependabot)

will be ignored since log searching is not yet available


**44 workflow runs**

**44 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

[nuget in /. - Update #937013424](/sandrohanea/whisper.net/actions/runs/12467127432)Dependabot Updates
#44:




by
[dependabot](/apps/dependabot) bot

December 23, 2024 12:53
1m 57s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 23, 2024 12:53
1m 57s


[nuget in /examples - Update #936991154](/sandrohanea/whisper.net/actions/runs/12466704062)Dependabot Updates
#43:




by
[dependabot](/apps/dependabot) bot

December 23, 2024 12:20
2m 5s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 23, 2024 12:20
2m 5s


[nuget in /. - Update #933407627](/sandrohanea/whisper.net/actions/runs/12353080441)Dependabot Updates
#42:




by
[dependabot](/apps/dependabot) bot

December 16, 2024 12:54
2m 24s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 16, 2024 12:54
2m 24s


[nuget in /examples - Update #933386699](/sandrohanea/whisper.net/actions/runs/12352620032)Dependabot Updates
#41:




by
[dependabot](/apps/dependabot) bot

December 16, 2024 12:27
2m 4s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 16, 2024 12:27
2m 4s


[nuget in /examples - Update #929670235](/sandrohanea/whisper.net/actions/runs/12236133212)Dependabot Updates
#40:




by
[dependabot](/apps/dependabot) bot

December 9, 2024 12:58
2m 6s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 9, 2024 12:58
2m 6s


[nuget in /. - Update #929646309](/sandrohanea/whisper.net/actions/runs/12235610240)Dependabot Updates
#39:




by
[dependabot](/apps/dependabot) bot

December 9, 2024 12:26
2m 15s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 9, 2024 12:26
2m 15s


[nuget in /examples for Whisper.net.Runtime.Vulkan - Update #926941260](/sandrohanea/whisper.net/actions/runs/12145147675)Dependabot Updates
#38:




by
[dependabot](/apps/dependabot) bot

December 3, 2024 17:38
2m 0s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 3, 2024 17:38
2m 0s


[nuget in /examples for Whisper.net.Runtime.Cuda - Update #926941227](/sandrohanea/whisper.net/actions/runs/12145146809)Dependabot Updates
#37:




by
[dependabot](/apps/dependabot) bot

December 3, 2024 17:38
2m 6s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 3, 2024 17:38
2m 6s


[nuget in /examples for Whisper.net.Runtime - Update #926941194](/sandrohanea/whisper.net/actions/runs/12145145930)Dependabot Updates
#36:




by
[dependabot](/apps/dependabot) bot

December 3, 2024 17:38
2m 6s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 3, 2024 17:38
2m 6s


[nuget in /examples for Whisper.net - Update #926941070](/sandrohanea/whisper.net/actions/runs/12145143246)Dependabot Updates
#35:




by
[dependabot](/apps/dependabot) bot

December 3, 2024 17:38
2m 29s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 3, 2024 17:38
2m 29s


[nuget in /examples for Whisper.net.Runtime.CoreML - Update #926941067](/sandrohanea/whisper.net/actions/runs/12145143222)Dependabot Updates
#34:




by
[dependabot](/apps/dependabot) bot

December 3, 2024 17:38
2m 3s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 3, 2024 17:38
2m 3s


[nuget in /. - Update #925883221](/sandrohanea/whisper.net/actions/runs/12120576535)Dependabot Updates
#33:




by
[dependabot](/apps/dependabot) bot

December 2, 2024 13:40
2m 0s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 2, 2024 13:40
2m 0s


[nuget in /examples - Update #925876642](/sandrohanea/whisper.net/actions/runs/12120358647)Dependabot Updates
#32:




by
[dependabot](/apps/dependabot) bot

December 2, 2024 13:27
10m 4s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 2, 2024 13:27
10m 4s


[nuget in /. for Microsoft.DotNet.XHarness.TestRunners.Xunit - Update #923161109](/sandrohanea/whisper.net/actions/runs/12038207563)Dependabot Updates
#31:




by
[dependabot](/apps/dependabot) bot

November 26, 2024 20:06
2m 3s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 26, 2024 20:06
2m 3s


[nuget in /examples - Update #922126277](/sandrohanea/whisper.net/actions/runs/12010595826)Dependabot Updates
#30:




by
[dependabot](/apps/dependabot) bot

November 25, 2024 13:02
2m 8s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 25, 2024 13:02
2m 8s


[nuget in /. - Update #922106254](/sandrohanea/whisper.net/actions/runs/12010204897)Dependabot Updates
#29:




by
[dependabot](/apps/dependabot) bot

November 25, 2024 12:39
1m 37s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 25, 2024 12:39
1m 37s


[nuget in /examples for Microsoft.Bcl.AsyncInterfaces - Update #921314335](/sandrohanea/whisper.net/actions/runs/11979282699)Dependabot Updates
#28:




by
[dependabot](/apps/dependabot) bot

November 22, 2024 19:59
2m 17s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 22, 2024 19:59
2m 17s


[nuget in /examples for Microsoft.AspNetCore.Components.WebAssembly - Update #921314324](/sandrohanea/whisper.net/actions/runs/11979282467)Dependabot Updates
#27:




by
[dependabot](/apps/dependabot) bot

November 22, 2024 19:59
2m 20s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 22, 2024 19:59
2m 20s


[nuget in /examples for System.Text.Json - Update #921314321](/sandrohanea/whisper.net/actions/runs/11979282264)Dependabot Updates
#26:




by
[dependabot](/apps/dependabot) bot

November 22, 2024 19:59
4m 15s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 22, 2024 19:59
4m 15s


[nuget in /examples for System.Memory - Update #921314316](/sandrohanea/whisper.net/actions/runs/11979282104)Dependabot Updates
#25:




by
[dependabot](/apps/dependabot) bot

November 22, 2024 19:59
2m 5s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 22, 2024 19:59
2m 5s


[nuget in /. for Microsoft.Extensions.Logging.Debug - Update #921314299](/sandrohanea/whisper.net/actions/runs/11979281951)Dependabot Updates
#24:




by
[dependabot](/apps/dependabot) bot

November 22, 2024 19:59
3m 3s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 22, 2024 19:59
3m 3s


[nuget in /examples for Microsoft.AspNetCore.Components.WebAssembly.Server - Update #921314305](/sandrohanea/whisper.net/actions/runs/11979281900)Dependabot Updates
#23:




by
[dependabot](/apps/dependabot) bot

November 22, 2024 19:59
2m 52s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 22, 2024 19:59
2m 52s


[nuget in /. for Microsoft.Bcl.AsyncInterfaces - Update #921314283](/sandrohanea/whisper.net/actions/runs/11979281604)Dependabot Updates
#22:




by
[dependabot](/apps/dependabot) bot

November 22, 2024 19:59
2m 19s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 22, 2024 19:59
2m 19s


[nuget in /. for Microsoft.DotNet.XHarness.TestRunners.Xunit - Update #921314280](/sandrohanea/whisper.net/actions/runs/11979281382)Dependabot Updates
#21:




by
[dependabot](/apps/dependabot) bot

November 22, 2024 19:59
2m 18s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 22, 2024 19:59
2m 18s


[nuget in /. for System.Memory - Update #921314277](/sandrohanea/whisper.net/actions/runs/11979281381)Dependabot Updates
#20:




by
[dependabot](/apps/dependabot) bot

November 22, 2024 19:59
1m 25s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 22, 2024 19:59
1m 25s


Previous _1_ [2](/sandrohanea/whisper.net/actions/workflows/dependabot/dependabot-updates?page=2) [Next](/sandrohanea/whisper.net/actions/workflows/dependabot/dependabot-updates?page=2)

You can’t perform that action at this time.

---

# Release 1.2.1 by sandrohanea · Pull Request #5 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Release 1.2.1\#5

Merged

[sandrohanea](/sandrohanea)
merged 27 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[release/1.2.1-pre](/sandrohanea/whisper.net/tree/release/1.2.1-pre "sandrohanea/whisper.net:release/1.2.1-pre")

Feb 21, 2023

Merged

# [Release 1.2.1](\#top)\#5

[sandrohanea](/sandrohanea)
merged 27 commits into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[release/1.2.1-pre](/sandrohanea/whisper.net/tree/release/1.2.1-pre "sandrohanea/whisper.net:release/1.2.1-pre")

Feb 21, 2023

+2,596

−1,132


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Feb 14, 2023](\#issue-1584521432)

Draft for 1.2.1 release (or 1.3.0) waiting for native PR to be merged.

Sorry, something went wrong.


All reactions

[sandrohanea](/sandrohanea)


added 4 commits
[February 14, 2023 16:32](#commits-pushed-39fb418)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Started to prepare 1.2.1
        `

`
          39fb418
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added WhisperFactory for multiple parallel executions.
        `

`
          7e8832a
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Changed exception type when file don't exist.
        `

`
          5b35c47
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed macos library loader + compiled preview whisper.dylib
        `

`
          5ebc201
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

OwnerAuthor

### **[sandrohanea](/sandrohanea)**     commented   [Feb 14, 2023](\#issuecomment-1430082011)

|     |
| --- |
| Waiting for [ggerganov/whisper.cpp#494](https://github.com/ggerganov/whisper.cpp/pull/494) |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added version 1.2.1-preview1
        `

`
          a185c71
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

mentioned this pull request
[Feb 14, 2023](#ref-issue-1584315471)

[Repeats Previous Segments\\
#4](/sandrohanea/whisper.net/issues/4)

Closed

[sandrohanea](/sandrohanea) and others
added 7 commits
[February 14, 2023 22:38](#commits-pushed-a13d5da)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Rebuilt it on linux as the WSL build is not loading.
        `

`
          a13d5da
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Bumped and released version 1.2.1-preview2 with updated linux native …
        ` …

`
          78455e9
        `

```
…library.
```

[![@adamnova](https://avatars.githubusercontent.com/u/125261085?s=40&v=4)](/adamnova)

`
          Add ProcessAsync (#6)
        `

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

`
          0b37f93
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed ProcessAsync + Moved internals to specific folder.
        `

`
          2ab8474
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added codestyle .editorconfig and unified all code style + Removed Bc…
        ` …

`
          25f4f16
        `

```
…l.AsyncInterfaces for netstandard2.1+
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added Whisper.net.Tests + fixed some concurrent issue on ProcessAsync
        `

`
          c0a2fe7
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Create dotnet.yml (#8)
        ` …

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

`
          23d7535
        `

```
* Create dotnet.yml

* Update dotnet.yml

* Added sln to dotnet test

* Update dotnet.yml

* Update dotnet.yml

* Update dotnet.yml
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added
the
[WTD](/sandrohanea/whisper.net/labels/WTD) WhatTheDiff Code Review
label

[Feb 16, 2023](#event-8536095418)

[![@what-the-diff](https://avatars.githubusercontent.com/in/242248?s=80&v=4)](/apps/what-the-diff)


Copy link

### **[what-the-diff](/apps/what-the-diff) bot**     commented   [Feb 16, 2023](\#issuecomment-1432970123)

|     |
| --- |
| - Added .editorconfig file<br>- Added dotnet workflow to github actions<br>- Removed 1min wav from demo project (not sure why it was there)<br>- Added a new file kennedy.wav<br>- Updated the demo to use this wav instead of 1min.wav<br>- Changed the default language from auto to en for English detection in Demo() method (Program class) and added an option -g TinyEn which will load tiny-en model if provided, otherwise it loads ggml by default as before<br>- Added tests project WhisperTests with two test cases: TestHappyFlowAsync and TestCancelEncoderAsync that uses async/await pattern for processing audio stream using ProcessAsync(Stream). The first one is happy flow where we process whole audio stream at once while second case cancels encoder after receiving EncoderBegin event so no segments are returned back but only EncoderBegin event handler was called successfully<br>- Added license header to all files<br>- Moved GgmlType enum from Whisper.net/Ggml namespace into the root of the file<br>- Changed HttpClient in WhisperGgmlDownloader class to be static and lazy initialized (to avoid creating new instances on each call)<br>- Renamed ModelLoader folder -> Internals/ModelLoader, moved classes inside it there as well<br>- Removed unused using statements from Data structs definition file (WhisperParamGreedy, etc.)<br>  <br>  <br>  6a-b: renamed IWhisperSamplingStrategyBuilder interface -> GreedySamplingStrategyBuilder class; removed unnecessary usings and comments 6c: added missing 'using' statement for System namespace 7a-d: changed AsyncAutoResetEvent implementation so that it doesn't use TaskCompletionSource but instead uses a single field with 0 or 1 value depending on whether event is signaled or not 8a-e: moved model loader interfaces + implementations out of ModelLoader folder into Native\\LibraryLoaders subfolder 9f+10f+11f+12f : fixed some minor issues like typos in method names / parameter names / variable names 13h - 15h : made changes according to review feedback 16i - 18i : updated copyright year \ No newline at end of file<br>- Added NativeLibraryLoader.cs<br>- Added NativeMethods.cs<br>- Removed IWhisperProcessorModelLoader interface and implementation from ModelLoader folder<br>- Removed ILibraryLoader, PosixLibraryLoaders, WindowsLibraryLoaders interfaces and implementations from Library Loader folder<br>- Deleted WhisperNativeContext class in the root of project (it was not used)<br>- Added support for netstandard2.1<br>- Updated the native library to version 1.0-preview3<br>- 2.1-preview3 |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

removed
the
[WTD](/sandrohanea/whisper.net/labels/WTD) WhatTheDiff Code Review
label

[Feb 16, 2023](#event-8536116895)

[sandrohanea](/sandrohanea)


added 2 commits
[February 16, 2023 12:59](#commits-pushed-524f400)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added codeball action
        `

`
          524f400
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added PR write permission
        `

`
          a88c6a8
        `

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)[github-actions](/apps/github-actions) bot

added
the
[codeball:needs-careful-review](/sandrohanea/whisper.net/labels/codeball%3Aneeds-careful-review) Codeball
label

[Feb 16, 2023](#event-8536191624)

[sandrohanea](/sandrohanea) and others
added 10 commits
[February 16, 2023 13:07](#commits-pushed-ffec90b)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Little change to codeball to not approve and to have code suggestions.
        `

`
          ffec90b
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Release 1.2.1-preview4
        `

`
          08be239
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed wave parser to parse the wave header only during first call + u…
        ` …

`
          e53e9ca
        `

```
…se appropiate methods (async or not) depending on that + reduced number of reads by reading the full required header buffer from one call.
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added probability on SegmentData
        `

`
          98aed0b
        `

[![@adamnova](https://avatars.githubusercontent.com/u/125261085?s=40&v=4)](/adamnova)

`
          Adds support for utf8 texts (#10)
        `

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

`
          27c2947
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Moved StringFromNativeUtf8 method to private
        `

`
          e7ea7a4
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed #12 (hopefully)
        `

`
          0fa536f
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added native build
        ` …

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

`
          d4a5458
        `

```
Created by ChatGPT 🗡️
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Update nativebuild.yml (#13)
        ` …

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

`
          be79b1a
        `

```
* Update nativebuild.yml

* Update codeball.yml
```

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

`
          9432e0e
        `

[sandrohanea](/sandrohanea)


added 3 commits
[February 21, 2023 23:24](#commits-pushed-b75536b)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Added build scripts + removed preview
        `

`
          b75536b
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Tested locally and removed macos temporary.
        `

`
          1acc709
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Updated readme
        `

`
          d4ef5f8
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

changed the title
~~Release/1.2.1 pre~~ Release 1.2.1 [Feb 21, 2023](#event-8575520753)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

marked this pull request as ready for review

[February 21, 2023 22:36](#event-8575521328)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`e38ebcf`](/sandrohanea/whisper.net/commit/e38ebcf93efc5a8eb3d23ff39ae384a143aad38e)
into

main[Feb 21, 2023](https://github.com/sandrohanea/whisper.net/pull/5#event-8575560257)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

release/1.2.1-pre

branch

[February 21, 2023 22:44](#event-8575560633)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F5)

Reviewers


No reviews

Assignees


No one assigned

Labels


[codeball:needs-careful-review](/sandrohanea/whisper.net/labels/codeball%3Aneeds-careful-review) Codeball

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

2 participants


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)[![@adamnova](https://avatars.githubusercontent.com/u/125261085?s=52&v=4)](/adamnova)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# Add support for Cublas, Clblast, Rework build scripts by sandrohanea · Pull Request #73 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Add support for Cublas, Clblast, Rework build scripts\#73

Closed

[sandrohanea](/sandrohanea)

wants to merge
1
commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[feature/build-scripts-update](/sandrohanea/whisper.net/tree/feature/build-scripts-update "sandrohanea/whisper.net:feature/build-scripts-update")

Closed

# [Add support for Cublas, Clblast, Rework build scripts](\#top)\#73

[sandrohanea](/sandrohanea)

wants to merge
1
commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[feature/build-scripts-update](/sandrohanea/whisper.net/tree/feature/build-scripts-update "sandrohanea/whisper.net:feature/build-scripts-update")

+210

−117


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Jun 13, 2023](\#issue-1755802612)•   edited      Loading

Closes [#63](https://github.com/sandrohanea/whisper.net/issues/63)

Sorry, something went wrong.


All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          WIP
        `

`
          ab3902f
        `

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added
the
[wip](/sandrohanea/whisper.net/labels/wip)
label

[Jun 13, 2023](#event-9521935905)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

closed this

[Jun 18, 2023](#event-9561525628)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

feature/build-scripts-update

branch

[June 18, 2023 16:33](#event-9561525750)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F73)

Reviewers


No reviews

Assignees


No one assigned

Labels


[wip](/sandrohanea/whisper.net/labels/wip)

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

[OpenBLAS support](https://github.com/sandrohanea/whisper.net/issues/63)

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# Dotnet Maui Build and Test · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## Dotnet Maui Build and Test     \#\#\# Dotnet Maui Build and Test         \#\# Actions

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

[dotnet-maui.yml](/sandrohanea/whisper.net/blob/main/.github/workflows/dotnet-maui.yml)

will be ignored since log searching is not yet available


**0 workflow runs**

**0 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

![GitHub Actions](https://github.githubassets.com/images/modules/site/features/actions-icon-actions.svg)

### This workflow has no runs yet.

You can’t perform that action at this time.

---

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold · sandrohanea/whisper.net@4504864 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  \#298

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12505816642)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12505816642)

## Summary

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold \#298

[Usage](/sandrohanea/whisper.net/actions/runs/12505816642/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12505816642/workflow)

Triggered via pull request
December 26, 2024 15:59

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=32&v=4)sandrohanea](/sandrohanea)

synchronize [#305](/sandrohanea/whisper.net/pull/305)

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

StatusFailure

Total duration [15m 40s](/sandrohanea/whisper.net/actions/runs/12505816642/usage)

Artifacts [15](#artifacts)

## [build-all.yml](/sandrohanea/whisper.net/actions/runs/12505816642/workflow)

on: pull\_request

[android / native-build\\
\\
1m 43s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889760779) android / native-build[macos / intel-native-build\\
\\
1m 6s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889761386) macos / intel-native-build[macos / arm-native-build\\
\\
2m 29s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889761234) macos / arm-native-build[windows / intel-native-build\\
\\
1m 57s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889761859) windows / intel-native-build[windows / arm-native-build\\
\\
1m 52s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889761709) windows / arm-native-build[wasm / native-build\\
\\
1m 8s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889761568) wasm / native-build[linux / native-build\\
\\
5m 36s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889760995) linux / native-build

[windows-no-avx / native-build\\
\\
1m 36s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889761999) windows-no-avx / native-build[linux-no-avx / native-build\\
\\
1m 12s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889760878) linux-no-avx / native-build

linux-cuda / native-build

linux-cuda / native-build

linux-openvino / native-build

linux-openvino / native-build

linux-vulkan / native-build

linux-vulkan / native-build

macos-coreml / arm-native-build

macos-coreml / arm-native-build

macos-coreml / intel-native-build

macos-coreml / intel-native-build

windows-cuda / native-build

windows-cuda / native-build

windows-openvino / native-build

windows-openvino / native-build

windows-vulkan / native-build

windows-vulkan / native-build

[dotnet-maui-build-and-test / dotnet-maui-build\\
\\
5m 16s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889915821) dotnet-maui-build-and-test / dotnet-maui-build

[dotnet-build / dotnet-macos\\
\\
2m 58s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889915272) dotnet-build / dotnet-macos[dotnet-build / dotnet-windows\\
\\
3m 21s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889916010) dotnet-build / dotnet-windows[dotnet-build / dotnet-linux\\
\\
1m 13s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889915580) dotnet-build / dotnet-linux

[dotnet-maui-build-and-test / dotnet-maui-test-android\\
\\
4m 21s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34890052131) dotnet-maui-build-and-test / dotnet-maui-test-android[dotnet-maui-build-and-test / dotnet-maui-test-ios\\
\\
3m 53s](/sandrohanea/whisper.net/actions/runs/12505816642/job/34890052282) dotnet-maui-build-and-test / dotnet-maui-test-ios

Oh hello! Nice to see you.

Made with ❤️ by [humans.txt](https://actions.github.io/humans.txt)

Fit to window

Zoom out

Zoom in

## Annotations

1 error and 2 warnings

|     |
| --- |
| [**dotnet-maui-build-and-test / dotnet-maui-test-ios**](/sandrohanea/whisper.net/actions/runs/12505816642/job/34890052282#step:7:23)<br>Process completed with exit code 1.<br>Show moreShow less |
| [**dotnet-build / dotnet-linux**](/sandrohanea/whisper.net/actions/runs/12505816642/job/34889915580)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |
| [**dotnet-maui-build-and-test / dotnet-maui-test-android**](/sandrohanea/whisper.net/actions/runs/12505816642/job/34890052131)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |

## Artifacts

Produced during runtime

| Name | Size |  |
| --- | --- | --- |
| android-build | 3.09 MB |  |
| linux-build | 1.67 MB |  |
| linux-noavx-build | 597 KB |  |
| mac-arm-build | 4.5 MB |  |
| mac-intel-build | 611 KB |  |
| maui-build-artifacts | 170 MB |  |
| test-results-linux | 9.12 KB |  |
| test-results-macos | 9.23 KB |  |
| test-results-windows | 15.5 KB |  |
| wasm-build | 431 KB |  |
| windows-arm-build | 462 KB |  |
| windows-build | 948 KB |  |
| windows-noavx-build | 948 KB |  |
| xharness-android-test-results | 16.5 KB |  |
| xharness-ios-test-results | 230 KB |  |

You can’t perform that action at this time.

---

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305) · sandrohanea/whisper.net@ffc0cdb · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (\#305)  \#302

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506804829)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506804829)

## Summary

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (\#305)

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (\#305) \#302

[Usage](/sandrohanea/whisper.net/actions/runs/12506804829/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506804829/workflow)

Triggered via push
December 26, 2024 17:51

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=32&v=4)sandrohanea](/sandrohanea)

pushed [ffc0cdb](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

StatusSuccess

Total duration [13m 17s](/sandrohanea/whisper.net/actions/runs/12506804829/usage)

Artifacts [15](#artifacts)

## [build-all.yml](/sandrohanea/whisper.net/actions/runs/12506804829/workflow)

on: push

[android / native-build\\
\\
1m 51s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892313480) android / native-build[macos / intel-native-build\\
\\
1m 2s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892313795) macos / intel-native-build[macos / arm-native-build\\
\\
2m 53s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892313684) macos / arm-native-build[windows / intel-native-build\\
\\
1m 20s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892314133) windows / intel-native-build[windows / arm-native-build\\
\\
1m 22s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892314027) windows / arm-native-build[wasm / native-build\\
\\
1m 4s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892313878) wasm / native-build[linux / native-build\\
\\
2m 11s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892313372) linux / native-build

[windows-no-avx / native-build\\
\\
2m 2s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892314222) windows-no-avx / native-build[linux-no-avx / native-build\\
\\
1m 17s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892313587) linux-no-avx / native-build

linux-cuda / native-build

linux-cuda / native-build

linux-openvino / native-build

linux-openvino / native-build

linux-vulkan / native-build

linux-vulkan / native-build

macos-coreml / arm-native-build

macos-coreml / arm-native-build

macos-coreml / intel-native-build

macos-coreml / intel-native-build

windows-cuda / native-build

windows-cuda / native-build

windows-openvino / native-build

windows-openvino / native-build

windows-vulkan / native-build

windows-vulkan / native-build

[dotnet-maui-build-and-test / dotnet-maui-build\\
\\
5m 24s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892368365) dotnet-maui-build-and-test / dotnet-maui-build

[dotnet-build / dotnet-macos\\
\\
3m 40s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892368252) dotnet-build / dotnet-macos[dotnet-build / dotnet-windows\\
\\
2m 39s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892368114) dotnet-build / dotnet-windows[dotnet-build / dotnet-linux\\
\\
1m 15s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892368495) dotnet-build / dotnet-linux

[dotnet-maui-build-and-test / dotnet-maui-test-android\\
\\
4m 29s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892467446) dotnet-maui-build-and-test / dotnet-maui-test-android[dotnet-maui-build-and-test / dotnet-maui-test-ios\\
\\
4m 14s](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892467289) dotnet-maui-build-and-test / dotnet-maui-test-ios

Oh hello! Nice to see you.

Made with ❤️ by [humans.txt](https://actions.github.io/humans.txt)

Fit to window

Zoom out

Zoom in

## Annotations

2 warnings

|     |
| --- |
| [**dotnet-build / dotnet-linux**](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892368495)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |
| [**dotnet-maui-build-and-test / dotnet-maui-test-android**](/sandrohanea/whisper.net/actions/runs/12506804829/job/34892467446)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |

## Artifacts

Produced during runtime

| Name | Size |  |
| --- | --- | --- |
| android-build | 3.09 MB |  |
| linux-build | 1.67 MB |  |
| linux-noavx-build | 597 KB |  |
| mac-arm-build | 4.5 MB |  |
| mac-intel-build | 611 KB |  |
| maui-build-artifacts | 170 MB |  |
| test-results-linux | 9.78 KB |  |
| test-results-macos | 9.76 KB |  |
| test-results-windows | 15.3 KB |  |
| wasm-build | 431 KB |  |
| windows-arm-build | 462 KB |  |
| windows-build | 948 KB |  |
| windows-noavx-build | 948 KB |  |
| xharness-android-test-results | 22.8 KB |  |
| xharness-ios-test-results | 218 KB |  |

You can’t perform that action at this time.

---

# Skipped TestCancelEncoder · sandrohanea/whisper.net@01be260  · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  \#301

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506703898%2Fworkflow)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506703898%2Fworkflow)

## Workflow file

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold \#301

[Usage](/sandrohanea/whisper.net/actions/runs/12506703898/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506703898/workflow)

#### Workflow file for this run

[.github/workflows/build-all.yml](/sandrohanea/whisper.net/blob/01be260ce8db0c483dc17732f0a6ce2bbed83e98/.github/workflows/build-all.yml) at
[01be260](/sandrohanea/whisper.net/commit/01be260ce8db0c483dc17732f0a6ce2bbed83e98)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

|     |     |
| --- | --- |
|  | # This workflow will build a .NET project |
|  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |
|  | name: CI (Native + dotnet) |
|  |  |
|  | on: |
|  | push: |
|  | branches: \["main"\] |
|  | pull\_request: |
|  | branches: \["main"\] |
|  | workflow\_dispatch: |
|  | inputs: |
|  | BuildGpuLibs: |
|  | description: 'Enable GPU libraries build and publish' |
|  | required: true |
|  | default: 'false' |
|  | permissions: |
|  | contents: read |
|  | checks: write |
|  |  |
|  | jobs: |
|  | android: |
|  | uses: ./.github/workflows/android-native-build.yml |
|  |  |
|  | macos: |
|  | uses: ./.github/workflows/macos-native-build.yml |
|  |  |
|  | windows: |
|  | uses: ./.github/workflows/windows-native-build.yml |
|  |  |
|  | windows-no-avx: |
|  | uses: ./.github/workflows/windows-noavx-native-build.yml |
|  |  |
|  | wasm: |
|  | uses: ./.github/workflows/wasm-native-build.yml |
|  |  |
|  | linux: |
|  | uses: ./.github/workflows/linux-native-build.yml |
|  |  |
|  | linux-no-avx: |
|  | uses: ./.github/workflows/linux-noavx-native-build.yml |
|  |  |
|  | linux-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-vulkan-native-build.yml |
|  |  |
|  | windows-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-cuda-native-build.yml |
|  |  |
|  | windows-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-vulkan-native-build.yml |
|  |  |
|  | windows-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-openvino-native-build.yml |
|  |  |
|  | linux-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-cuda-native-build.yml |
|  |  |
|  | linux-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-openvino-native-build.yml |
|  |  |
|  | macos-coreml: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/macos-coreml-native-build.yml |
|  |  |
|  | dotnet-build: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet.yml |
|  |  |
|  | dotnet-maui-build-and-test: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet-maui.yml |

You can’t perform that action at this time.

---

# Release/1.5.0 (#132) · sandrohanea/whisper.net@8711b1b · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/8711b1bf6b68cf1323864513d65d532c5469e733)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

Release/1.5.0 ( [#132](https://github.com/sandrohanea/whisper.net/pull/132))


[Browse files](/sandrohanea/whisper.net/tree/8711b1bf6b68cf1323864513d65d532c5469e733) Browse the repository at this point in the history

```
* - Upgraded to Whisper.cpp 1.5.1

 - Improved cancellation using CancellationToken provided => it's using the onabort handler in native library to cancel the processing faster
    => addressing concerns from #23

  - Logging improvements: not logging to stderr by default anymore, but events can be registered (see [LogProvider](https://github.com/sandrohanea/whisper.net/tree/main/Whisper.net/Logger/LogProvider))
     => Added optional logging in simple samples + CoreML sample
     => Logging is now suppressed by default: #129

   - Added `useGpu` on WhisperFactory creation so that GPU usage can be disabled on specific runtimes (e.g. Cublas, CoreML, etc)

   - Upgraded dotnet targets to dotnet 8

   - Added support for whisper large v3 (including downloader + coreml model)
       => Old model Large in downloader should be renamed to LargeV2 see [GgmlType](https://github.com/sandrohanea/whisper.net/blob/main/Whisper.net/Ggml/GgmlType.cs)

   - Added linux-x64 support for Whisper.net.Runtime.Cublas

   - Added support for distil-whisper #126
       => No downloader added, you'll need to load the model yourself
       => How to build the model: https://github.com/ggerganov/whisper.cpp/tree/master/models#distilled-models

   - **Added automated builds for all runtimes using Github Actions**

   - Unified runtime builds with make for linux, macos, ios, tvos, wasm and powershell scripts for windows

   - Added Blazor with InteractivityAuto, InteractivityServer and InteractivityWebAssemly sample with Blazor updated in dotnet 8.

   - Unified Whisper.net.Runtime.Wasm with Whisper.net.Runtime
       => If previously you were using Whisper.net.Runtime.Wasm, just replace it with Whisper.net.Runtime

   - Added metal support for arm-based apple platforms (both Whisper.net.Runtime + Whisper.net.Runtime.CoreML)

* Commented local_whisper nuget source + reset github actions to execute against PRs

* Fixed linux build + changed native github actions to work with PRs as well, not only branches

* Add native changes wasm

* Add native changes android

* Add native changes windows

* Add native changes macos

* Updated readme

* Add native changes linux

---------

Co-authored-by: sandrohanea <sandrohanea@users.noreply.github.com>
```

- [main](/sandrohanea/whisper.net)
- ( [#132](/sandrohanea/whisper.net/pull/132 "Merged Pull Request: Release/1.5.0"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)
- …
- [1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)
- [1.7.3-preview2](/sandrohanea/whisper.net/releases/tag/1.7.3-preview2)
- [1.7.3-preview1](/sandrohanea/whisper.net/releases/tag/1.7.3-preview1)
- [1.7.2](/sandrohanea/whisper.net/releases/tag/1.7.2)
- [1.7.2-preview3](/sandrohanea/whisper.net/releases/tag/1.7.2-preview3)
- [1.7.2-preview2](/sandrohanea/whisper.net/releases/tag/1.7.2-preview2)
- [1.7.2-preview1](/sandrohanea/whisper.net/releases/tag/1.7.2-preview1)
- [1.7.1](/sandrohanea/whisper.net/releases/tag/1.7.1)
- [1.7.1-preview1](/sandrohanea/whisper.net/releases/tag/1.7.1-preview1)
- [1.7.0](/sandrohanea/whisper.net/releases/tag/1.7.0)
- [1.5.0](/sandrohanea/whisper.net/releases/tag/1.5.0)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")
and
[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

authored
Nov 25, 2023

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.


GPG key ID: 4AEE18F83AFDEB23

Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[454ad43](/sandrohanea/whisper.net/commit/454ad43043e3b5cd920e5e3a1cb309861c21d158)commit 8711b1b

Show file tree

Hide file tree

Showing
**157 changed files**
with
**7,150 additions**
and
**1,508 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

60 changes: 60 additions & 0 deletions
60 [.github/workflows/android-native-build.yaml](#diff-5ff5a1aeed02e52ef446e704a392d60bbd32f6104c5e98e310e7425434e2d13c ".github/workflows/android-native-build.yaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/.github/workflows/android-native-build.yaml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,60 @@ |
|  |  |  |
|  |  | name: Android Native build |
|  |  |  |
|  |  | on: |
|  |  | push: |
|  |  | branches: \[ "main" \] |
|  |  | pull\_request: |
|  |  | branches: \[ "main" \] |
|  |  |  |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: ubuntu-20.04 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Check for submodule update |
|  |  | id: check\_submodule |
|  |  | run: \| |
|  |  | cd whisper.cpp |
|  |  | SUBMODULE\_COMMIT\_ID=$(git rev-parse HEAD) |
|  |  | echo "Submodule commit ID: $SUBMODULE\_COMMIT\_ID" |
|  |  | cd $GITHUB\_WORKSPACE |
|  |  | STORED\_COMMIT\_ID=$(cat native-commit-id-android) |
|  |  | echo "Stored commit ID: $STORED\_COMMIT\_ID" |
|  |  | if \[ "$SUBMODULE\_COMMIT\_ID" != "$STORED\_COMMIT\_ID" \]; then |
|  |  | echo "Submodule has new commits. Triggering build." |
|  |  | echo "trigger\_build=true" >> $GITHUB\_OUTPUT |
|  |  | echo $SUBMODULE\_COMMIT\_ID > native-commit-id-android |
|  |  | else |
|  |  | echo "No new commits in submodule." |
|  |  | echo "trigger\_build=false" >> $GITHUB\_OUTPUT |
|  |  | fi |
|  |  |  |
|  |  | \- name: Install Android NDK |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: nttld/setup-ndk@v1.4.2 |
|  |  | with: |
|  |  | ndk-version: r25c |
|  |  |  |
|  |  | \- name: Run android build |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make android |
|  |  |  |
|  |  | \- name: Pull latest commits |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: git pull origin ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Commit and Push |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: stefanzweifel/git-auto-commit-action@v4 |
|  |  | with: |
|  |  | commit\_message: Add native changes android |

71 changes: 71 additions & 0 deletions
71 [.github/workflows/linux-native-build.yml](#diff-ef61418a98b733b21bf6a3c776c31846efb7c4b0da4ce216e912d187135b8b2b ".github/workflows/linux-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/.github/workflows/linux-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,71 @@ |
|  |  | name: Linux Native build |
|  |  |  |
|  |  | on: |
|  |  | push: |
|  |  | branches: \[ "main" \] |
|  |  | pull\_request: |
|  |  | branches: \[ "main" \] |
|  |  |  |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: ubuntu-20.04 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Check for submodule update |
|  |  | id: check\_submodule |
|  |  | run: \| |
|  |  | cd whisper.cpp |
|  |  | SUBMODULE\_COMMIT\_ID=$(git rev-parse HEAD) |
|  |  | echo "Submodule commit ID: $SUBMODULE\_COMMIT\_ID" |
|  |  | cd $GITHUB\_WORKSPACE |
|  |  | STORED\_COMMIT\_ID=$(cat native-commit-id-linux) |
|  |  | echo "Stored commit ID: $STORED\_COMMIT\_ID" |
|  |  | if \[ "$SUBMODULE\_COMMIT\_ID" != "$STORED\_COMMIT\_ID" \]; then |
|  |  | echo "Submodule has new commits. Triggering build." |
|  |  | echo "trigger\_build=true" >> $GITHUB\_OUTPUT |
|  |  | echo $SUBMODULE\_COMMIT\_ID > native-commit-id-linux |
|  |  | else |
|  |  | echo "No new commits in submodule." |
|  |  | echo "trigger\_build=false" >> $GITHUB\_OUTPUT |
|  |  | fi |
|  |  |  |
|  |  | \- name: Install aarch64-linux-gnu-gcc |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-aarch64-linux-gnu && sudo apt-get install -y g++-aarch64-linux-gnu |
|  |  |  |
|  |  | \- name: Install gcc-arm-linux-gnueabihf |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-arm-linux-gnueabihf && sudo apt-get install -y g++-arm-linux-gnueabihf |
|  |  |  |
|  |  | \- name: Install CUDA Toolkit |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: Jimver/cuda-toolkit@v0.2.11 |
|  |  | with: |
|  |  | cuda: '12.1.0' |
|  |  |  |
|  |  | \- name: Run linux |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make linux |
|  |  |  |
|  |  | \- name: Remove CUDA installer |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: rm -rf cuda\_installer-\* |
|  |  |  |
|  |  | \- name: Pull latest commits |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: git pull origin ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Commit and Push |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: stefanzweifel/git-auto-commit-action@v4 |
|  |  | with: |
|  |  | commit\_message: Add native changes linux |

59 changes: 59 additions & 0 deletions
59 [.github/workflows/macos-native-build.yaml](#diff-9e267e70b34f9eb991e1158d3f7ba6530818b7c9c850d4799c3b5ce872c164b6 ".github/workflows/macos-native-build.yaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/.github/workflows/macos-native-build.yaml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,59 @@ |
|  |  |  |
|  |  | name: MacOs Native build |
|  |  |  |
|  |  | on: |
|  |  | push: |
|  |  | branches: \[ "main" \] |
|  |  | pull\_request: |
|  |  | branches: \[ "main" \] |
|  |  |  |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: macos-latest |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Check for submodule update |
|  |  | id: check\_submodule |
|  |  | run: \| |
|  |  | cd whisper.cpp |
|  |  | SUBMODULE\_COMMIT\_ID=$(git rev-parse HEAD) |
|  |  | echo "Submodule commit ID: $SUBMODULE\_COMMIT\_ID" |
|  |  | cd $GITHUB\_WORKSPACE |
|  |  | STORED\_COMMIT\_ID=$(cat native-commit-id-macos) |
|  |  | echo "Stored commit ID: $STORED\_COMMIT\_ID" |
|  |  | if \[ "$SUBMODULE\_COMMIT\_ID" != "$STORED\_COMMIT\_ID" \]; then |
|  |  | echo "Submodule has new commits. Triggering build." |
|  |  | echo "trigger\_build=true" >> $GITHUB\_OUTPUT |
|  |  | echo $SUBMODULE\_COMMIT\_ID > native-commit-id-macos |
|  |  | else |
|  |  | echo "No new commits in submodule." |
|  |  | echo "trigger\_build=false" >> $GITHUB\_OUTPUT |
|  |  | fi |
|  |  |  |
|  |  |  |
|  |  | \- name: Run apple coreml build |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make apple\_coreml |
|  |  |  |
|  |  | \- name: Run apple build |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make apple |
|  |  |  |
|  |  | \- name: Pull latest commits |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: git pull origin ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Commit and Push |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: stefanzweifel/git-auto-commit-action@v4 |
|  |  | with: |
|  |  | commit\_message: Add native changes macos |

27 changes: 0 additions & 27 deletions
27 [.github/workflows/nativebuild.yml](#diff-0febc457cc97929f3100db60304e9b024abb8078f4a0bf26fc333ac1d45e055b ".github/workflows/nativebuild.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/.github/workflows/nativebuild.yml)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

61 changes: 61 additions & 0 deletions
61 [.github/workflows/wasm-native-build.yaml](#diff-394af40cc2905a64bb796320277ba589fbe33228f1a5502ff0c9f7454ea04b85 ".github/workflows/wasm-native-build.yaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/.github/workflows/wasm-native-build.yaml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,61 @@ |
|  |  |  |
|  |  | name: Wasm Native build |
|  |  |  |
|  |  | on: |
|  |  | push: |
|  |  | branches: \[ "main" \] |
|  |  | pull\_request: |
|  |  | branches: \[ "main" \] |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: ubuntu-20.04 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Check for submodule update |
|  |  | id: check\_submodule |
|  |  | run: \| |
|  |  | cd whisper.cpp |
|  |  | SUBMODULE\_COMMIT\_ID=$(git rev-parse HEAD) |
|  |  | echo "Submodule commit ID: $SUBMODULE\_COMMIT\_ID" |
|  |  | cd $GITHUB\_WORKSPACE |
|  |  | STORED\_COMMIT\_ID=$(cat native-commit-id-wasm) |
|  |  | echo "Stored commit ID: $STORED\_COMMIT\_ID" |
|  |  | if \[ "$SUBMODULE\_COMMIT\_ID" != "$STORED\_COMMIT\_ID" \]; then |
|  |  | echo "Submodule has new commits. Triggering build." |
|  |  | echo "trigger\_build=true" >> $GITHUB\_OUTPUT |
|  |  | echo $SUBMODULE\_COMMIT\_ID > native-commit-id-wasm |
|  |  | else |
|  |  | echo "No new commits in submodule." |
|  |  | echo "trigger\_build=false" >> $GITHUB\_OUTPUT |
|  |  | fi |
|  |  |  |
|  |  | \- name: Install Emscripten |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: mymindstorm/setup-emsdk@v13 |
|  |  |  |
|  |  | \- name: Run wasm build |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: make wasm |
|  |  |  |
|  |  | \- name: Remove Emscripten |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: rm -rf emsdk\* |
|  |  |  |
|  |  | \- name: Pull latest commits |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: git pull origin ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Commit and Push |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: stefanzweifel/git-auto-commit-action@v4 |
|  |  | with: |
|  |  | commit\_message: Add native changes wasm |

91 changes: 91 additions & 0 deletions
91 [.github/workflows/windows-native-build.yml](#diff-73fa3ce30928d43579a956dac0964a30739bcb6adffe8d6c9dacaca44da10d1b ".github/workflows/windows-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/.github/workflows/windows-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,91 @@ |
|  |  | name: Windows native build |
|  |  |  |
|  |  | on: |
|  |  | push: |
|  |  | branches: \[ "main" \] |
|  |  | pull\_request: |
|  |  | branches: \[ "main" \] |
|  |  |  |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: windows-2019 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Check for submodule update |
|  |  | id: check\_submodule |
|  |  | run: \| |
|  |  | Set-Location whisper.cpp |
|  |  | $SubmoduleCommitId = git rev-parse HEAD |
|  |  | Write-Host "Submodule commit ID: $SubmoduleCommitId" |
|  |  | Set-Location $Env:GITHUB\_WORKSPACE |
|  |  | $StoredCommitId = Get-Content native-commit-id-windows |
|  |  | Write-Host "Stored commit ID: $StoredCommitId" |
|  |  | if ($SubmoduleCommitId -ne $StoredCommitId) { |
|  |  | Write-Host "Submodule has new commits. Triggering build." |
|  |  | Write-Output "trigger\_build=true" \| Out-File -Append $Env:GITHUB\_OUTPUT |
|  |  | Set-Content -Path native-commit-id-windows -Value $SubmoduleCommitId |
|  |  | } else { |
|  |  | Write-Host "No new commits in submodule." |
|  |  | Write-Output "trigger\_build=false" \| Out-File -Append $Env:GITHUB\_OUTPUT |
|  |  | } |
|  |  | shell: pwsh |
|  |  |  |
|  |  | \- name: Add msbuild to PATH |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: microsoft/setup-msbuild@v1 |
|  |  |  |
|  |  | \- name: Install OpenCl with vcpkg |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: \| |
|  |  | vcpkg --triplet=x64-windows install opencl |
|  |  |  |
|  |  | \- name: Add Clblast to path |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: \| |
|  |  | New-Item -ItemType Directory -Force -Path build |
|  |  | Invoke-WebRequest -Uri "https://github.com/CNugteren/CLBlast/releases/download/1.6.1/CLBlast-1.6.1-windows-x64.zip" -OutFile "build\\clblast.zip" |
|  |  | Expand-Archive -LiteralPath "build\\clblast.zip" -DestinationPath "build/clblast" -Force |
|  |  | 7z x "build/clblast/CLBlast-1.6.1-windows-x64.7z" -o"build/clblast" -y |
|  |  | Remove-Item "./build/clblast.zip" |
|  |  | Remove-Item "./build/clblast/CLBlast-1.6.1-windows-x64.7z" |
|  |  | $currentPath = (Get-Location).Path |
|  |  | $clblastPath = $currentPath + "\\build\\clblast\\CLBlast-1.6.1-windows-x64" |
|  |  | $env:Path = $env:Path + ";" + $clblastPath |
|  |  | Write-Output "PATH=$env:Path" \| Out-File -Append -FilePath $env:GITHUB\_ENV |
|  |  | shell: pwsh |
|  |  |  |
|  |  | \- name: Install CUDA Toolkit |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: Jimver/cuda-toolkit@v0.2.11 |
|  |  | with: |
|  |  | cuda: '12.1.0' |
|  |  |  |
|  |  | \- name: Run Build |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: \| |
|  |  | Import-Module ./windows-scripts.ps1 |
|  |  | BuildWindowsAll |
|  |  | shell: pwsh |
|  |  |  |
|  |  | \- name: Remove CUDA installer |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: Remove-Item -Path 'cuda\_installer-\*' -Recurse -Force -ErrorAction Ignore |
|  |  |  |
|  |  | \- name: Pull latest commits |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | run: git pull origin ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Commit and Push |
|  |  | if: steps.check\_submodule.outputs.trigger\_build == 'true' |
|  |  | uses: stefanzweifel/git-auto-commit-action@v4 |
|  |  | with: |
|  |  | commit\_message: Add native changes windows |

106 changes: 65 additions & 41 deletions
106 [Makefile](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52 "Makefile")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Makefile)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,13 +1,14 @@ |
|  |  | BUILD\_TYPE=Release |
|  |  | VERSION=1.4.7 |
|  |  | VERSION=1.5.0 |
|  |  | CMAKE\_PARAMETERS=-DCMAKE\_BUILD\_TYPE=$(BUILD\_TYPE) |
|  |  | COREML\_SUPPORT=$(CMAKE\_PARAMETERS) -DWHISPER\_COREML=ON -DWHISPER\_COREML\_ALLOW\_FALLBACK=ON |
|  |  | NDK := |
|  |  | ifeq ($(strip$(NDK\_PATH)),) |
|  |  | ifeq ($(shell test -d $(HOME)/Library/Developer/Xamarin/android-sdk-macosx/ndk-bundle && echo yes),yes) |
|  |  | NDK := $(HOME)/Library/Developer/Xamarin/android-sdk-macosx/ndk-bundle |
|  |  | else |
|  |  | $(error NDK\_PATH not defined and NDK not found at default location on Mac.) |
|  |  | $(warn 'NDK\_PATH not defined and NDK not found at default location on Mac. Android cannot be built') |
|  |  | NDK := "" |
|  |  | endif |
|  |  | else |
|  |  | NDK := $(strip$(NDK\_PATH)) |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -27,46 +28,77 @@ clean: |
|  |  | rm -rf build |
|  |  | rm -rf runtimes |
|  |  |  |
|  |  | macos\_host: apple applecoreml android wasm |
|  |  |  |
|  |  | android: android\_x86 android\_x64 android\_arm64-v8a |
|  |  |  |
|  |  | apple: macos ios ios\_64 maccatalyst\_x64 maccatalyst\_arm64 ios\_simulator\_x64 ios\_simulator\_arm64 tvos\_simulator\_x64 tvos\_simulator\_arm64 tvos lipo |
|  |  | apple: copy\_metal macos\_x64 macos\_arm64 ios ios\_64 maccatalyst\_x64 maccatalyst\_arm64 ios\_simulator\_x64 ios\_simulator\_arm64 tvos\_simulator\_x64 tvos\_simulator\_arm64 tvos lipo |
|  |  |  |
|  |  | apple\_coreml: copy\_metal\_coreml macos\_x64\_coreml macos\_arm64\_coreml ios\_coreml maccatalyst\_x64\_coreml maccatalyst\_arm64\_coreml ios\_simulator\_coreml tvos\_simulator\_coreml tvos\_coreml lipo\_coreml |
|  |  |  |
|  |  | linux: linux\_x64\_cublas linux\_x64 linux\_arm64 linux\_arm |
|  |  |  |
|  |  | copy\_metal: |
|  |  | cp whisper.cpp/ggml-metal.metal Whisper.net.Runtime/ggml-metal.metal |
|  |  |  |
|  |  | apple\_coreml: macos\_coreml ios\_coreml maccatalyst\_x64\_coreml maccatalyst\_arm64\_coreml ios\_simulator\_coreml tvos\_simulator\_coreml tvos\_coreml lipo\_coreml |
|  |  | copy\_metal\_coreml: |
|  |  | cp whisper.cpp/ggml-metal.metal Whisper.net.Runtime.CoreML/ggml-metal.metal |
|  |  |  |
|  |  | linux: linux\_x64 linux\_arm64 linux\_arm |
|  |  | wasm: |
|  |  | rm -rf build/wasm |
|  |  | emcmake cmake -S . -B build/wasm -DCMAKE\_BUILD\_TYPE=$(BUILD\_TYPE) |
|  |  | cmake --build build/wasm --config $(BUILD\_TYPE) |
|  |  | cp build/wasm/whisper.cpp/libwhisper.a ./Whisper.net.Runtime/browser-wasm/whisper.a |
|  |  |  |
|  |  | linux\_x64: |
|  |  | rm -rf build/linux-x64 |
|  |  | cmake -S . -B build/linux-x64 |
|  |  | cmake -S . -B build/linux-x64 -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 |
|  |  | cmake --build build/linux-x64 --config $(BUILD\_TYPE) |
|  |  | cp build/linux-x64/whisper.cpp/libwhisper.so ./Whisper.net.Runtime/runtimes/linux-x64/whisper.so |
|  |  | cp build/linux-x64/whisper.cpp/libwhisper.so ./Whisper.net.Runtime/linux-x64/libwhisper.so |
|  |  |  |
|  |  | linux\_arm64: |
|  |  | rm -rf build/linux-arm64 |
|  |  | cmake -S . -B build/linux-arm64 |
|  |  | cmake -S . -B build/linux-arm64 -DCMAKE\_C\_COMPILER=aarch64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=aarch64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=aarch64 |
|  |  | cmake --build build/linux-arm64 --config $(BUILD\_TYPE) |
|  |  | cp build/linux-arm64/whisper.cpp/libwhisper.so ./Whisper.net.Runtime/runtimes/linux-arm64/whisper.so |
|  |  | cp build/linux-arm64/whisper.cpp/libwhisper.so ./Whisper.net.Runtime/linux-arm64/libwhisper.so |
|  |  |  |
|  |  | linux\_arm: |
|  |  | rm -rf build/linux-arm |
|  |  | cmake -S . -B build/linux-arm |
|  |  | cmake -S . -B build/linux-arm -DCMAKE\_C\_COMPILER=arm-linux-gnueabihf-gcc -DCMAKE\_CXX\_COMPILER=arm-linux-gnueabihf-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=arm |
|  |  | cmake --build build/linux-arm --config $(BUILD\_TYPE) |
|  |  | cp build/linux-arm/whisper.cpp/libwhisper.so ./Whisper.net.Runtime/runtimes/linux-arm/whisper.so |
|  |  |  |
|  |  | macos: |
|  |  | rm -rf build/macos |
|  |  | cmake $(CMAKE\_PARAMETERS) -DCMAKE\_TOOLCHAIN\_FILE=ios.toolchain.cmake -DPLATFORM=MAC\_UNIVERSAL -S . -B build/macos |
|  |  | cmake --build build/macos |
|  |  | mkdir -p runtimes/macos |
|  |  | cp build/macos/whisper.cpp/libwhisper.dylib runtimes/macos/libwhisper.dylib |
|  |  |  |
|  |  | macos\_coreml: |
|  |  | rm -rf build/macos-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_ARCHITECTURES="arm64;x86\_64" -S . -B build/macos-coreml |
|  |  | cmake --build build/macos-coreml |
|  |  | mkdir -p runtimes/macos-coreml |
|  |  | cp build/macos-coreml/whisper.cpp/libwhisper.dylib runtimes/macos-coreml/libwhisper.dylib |
|  |  | cp build/macos-coreml/whisper.cpp/libwhisper.coreml.dylib runtimes/macos-coreml/libwhisper.coreml.dylib |
|  |  | cp build/linux-arm/whisper.cpp/libwhisper.so ./Whisper.net.Runtime/linux-arm/libwhisper.so |
|  |  |  |
|  |  | linux\_x64\_cublas: |
|  |  | rm -rf build/linux-x64-cublas |
|  |  | cmake -S . -B build/linux-x64-cublas -DCMAKE\_C\_COMPILER=x86\_64-linux-gnu-gcc -DCMAKE\_CXX\_COMPILER=x86\_64-linux-gnu-g++ -DCMAKE\_SYSTEM\_NAME=Linux -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 -DWHISPER\_CUBLAS=ON |
|  |  | cmake --build build/linux-x64-cublas --config $(BUILD\_TYPE) |
|  |  | cp build/linux-x64-cublas/whisper.cpp/libwhisper.so ./Whisper.net.Runtime.Cublas/linux-x64/libwhisper.so |
|  |  |  |
|  |  | macos\_x64: |
|  |  | rm -rf build/macos-x64 |
|  |  | cmake -S . -DCMAKE\_OSX\_ARCHITECTURES="x86\_64" -DWHISPER\_METAL=OFF -B build/macos-x64 |
|  |  | cmake --build build/macos-x64 |
|  |  | cp build/macos-x64/whisper.cpp/libwhisper.dylib ./Whisper.net.Runtime/macos-x64/libwhisper.dylib |
|  |  |  |
|  |  | macos\_arm64: |
|  |  | rm -rf build/macos-arm64 |
|  |  | cmake -DCMAKE\_OSX\_ARCHITECTURES="arm64" -S . -B build/macos-arm64 |
|  |  | cmake --build build/macos-arm64 |
|  |  | cp build/macos-arm64/whisper.cpp/libwhisper.dylib ./Whisper.net.Runtime/macos-arm64/libwhisper.dylib |
|  |  |  |
|  |  | macos\_x64\_coreml: |
|  |  | rm -rf build/macos-x64-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_ARCHITECTURES="x86\_64" -DWHISPER\_METAL=OFF -S . -B build/macos-x64-coreml |
|  |  | cmake --build build/macos-x64-coreml |
|  |  | cp build/macos-x64-coreml/whisper.cpp/libwhisper.dylib ./Whisper.net.Runtime.CoreML/macos-x64/libwhisper.dylib |
|  |  | cp build/macos-x64-coreml/whisper.cpp/libwhisper.coreml.dylib ./Whisper.net.Runtime.CoreML/macos-x64/libwhisper.coreml.dylib |
|  |  |  |
|  |  | macos\_arm64\_coreml: |
|  |  | rm -rf build/macos-arm64-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_ARCHITECTURES="arm64" -S . -B build/macos-arm64-coreml |
|  |  | cmake --build build/macos-arm64-coreml |
|  |  | cp build/macos-arm64-coreml/whisper.cpp/libwhisper.dylib ./Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.dylib |
|  |  | cp build/macos-arm64-coreml/whisper.cpp/libwhisper.coreml.dylib ./Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.coreml.dylib |
|  |  |  |
|  |  | ios: |
|  |  | rm -rf build/ios |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -77,7 +109,7 @@ ios: |
|  |  |  |
|  |  | ios\_coreml: |
|  |  | rm -rf build/ios-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_ARCHITECTURES="arm64" -DCMAKE\_OSX\_SYSROOT="iphoneos" -S . -B build/ios-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_ARCHITECTURES="arm64" -DWHISPER\_METAL=OFF -DCMAKE\_OSX\_SYSROOT="iphoneos" -S . -B build/ios-coreml |
|  |  | cmake --build build/ios-coreml |
|  |  | mkdir -p runtimes/ios-coreml |
|  |  | cp build/ios-coreml/whisper.cpp/libwhisper.coreml.dylib runtimes/ios-coreml/libwhisper.coreml.dylib |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -92,7 +124,7 @@ ios\_64: |
|  |  |  |
|  |  | maccatalyst\_x64: |
|  |  | rm -rf build/maccatalyst\_x64 |
|  |  | cmake $(CMAKE\_PARAMETERS) -DCMAKE\_TOOLCHAIN\_FILE=ios.toolchain.cmake -DPLATFORM=MAC\_CATALYST -S . -B build/maccatalyst\_x64 |
|  |  | cmake $(CMAKE\_PARAMETERS) -DCMAKE\_TOOLCHAIN\_FILE=ios.toolchain.cmake -DWHISPER\_METAL=OFF -DPLATFORM=MAC\_CATALYST -S . -B build/maccatalyst\_x64 |
|  |  | cmake --build build/maccatalyst\_x64 |
|  |  | mkdir -p runtimes/maccatalyst\_x64 |
|  |  | cp build/maccatalyst\_x64/whisper.cpp/libwhisper.dylib runtimes/maccatalyst\_x64/libwhisper.dylib |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -106,23 +138,23 @@ maccatalyst\_arm64: |
|  |  |  |
|  |  | maccatalyst\_x64\_coreml: |
|  |  | rm -rf build/maccatalyst-x64-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 -DCMAKE\_HOST\_SYSTEM\_PROCESSOR=x86\_64 -DCMAKE\_SYSTEM\_NAME=Darwin -DCMAKE\_OSX\_ARCHITECTURES="x86\_64" -DCMAKE\_CXX\_FLAGS="-target x86\_64-apple-ios13.1-macabi" -DCMAKE\_C\_FLAGS="-target x86\_64-apple-ios13.1-macabi" -S . -B build/maccatalyst-x64-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_SYSTEM\_PROCESSOR=x86\_64 -DCMAKE\_HOST\_SYSTEM\_PROCESSOR=x86\_64  -DWHISPER\_METAL=OFF -DCMAKE\_SYSTEM\_NAME=Darwin -DCMAKE\_OSX\_ARCHITECTURES="x86\_64" -DCMAKE\_CXX\_FLAGS="-target x86\_64-apple-ios13.1-macabi" -DCMAKE\_C\_FLAGS="-target x86\_64-apple-ios13.1-macabi" -S . -B build/maccatalyst-x64-coreml |
|  |  | cmake --build build/maccatalyst-x64-coreml |
|  |  | mkdir -p runtimes/maccatalyst-x64-coreml |
|  |  | cp build/maccatalyst-x64-coreml/whisper.cpp/libwhisper.coreml.dylib runtimes/maccatalyst-x64-coreml/libwhisper.coreml.dylib |
|  |  | cp build/maccatalyst-x64-coreml/whisper.cpp/libwhisper.dylib runtimes/maccatalyst-x64-coreml/libwhisper.dylib |
|  |  |  |
|  |  | maccatalyst\_arm64\_coreml: |
|  |  | rm -rf build/maccatalyst-arm64-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_SYSTEM\_PROCESSOR=arm -DCMAKE\_HOST\_SYSTEM\_PROCESSOR=arm64 -DCMAKE\_SYSTEM\_NAME=Darwin -DCMAKE\_OSX\_ARCHITECTURES="arm64" -DCMAKE\_CXX\_FLAGS="-target arm64-apple-ios13.1-macabi" -DCMAKE\_C\_FLAGS="-target arm64-apple-ios13.1-macabi" -S . -B build/maccatalyst-arm64-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_SYSTEM\_PROCESSOR=arm -DCMAKE\_HOST\_SYSTEM\_PROCESSOR=arm64 -DWHISPER\_METAL=OFF -DCMAKE\_SYSTEM\_NAME=Darwin -DCMAKE\_OSX\_ARCHITECTURES="arm64" -DCMAKE\_CXX\_FLAGS="-target arm64-apple-ios13.1-macabi" -DCMAKE\_C\_FLAGS="-target arm64-apple-ios13.1-macabi" -S . -B build/maccatalyst-arm64-coreml |
|  |  | cmake --build build/maccatalyst-arm64-coreml |
|  |  | mkdir -p runtimes/maccatalyst-arm64-coreml |
|  |  | cp build/maccatalyst-arm64-coreml/whisper.cpp/libwhisper.coreml.dylib runtimes/maccatalyst-arm64-coreml/libwhisper.coreml.dylib |
|  |  | cp build/maccatalyst-arm64-coreml/whisper.cpp/libwhisper.dylib runtimes/maccatalyst-arm64-coreml/libwhisper.dylib |
|  |  |  |
|  |  | ios\_simulator\_coreml: |
|  |  | rm -rf build/ios-simulator-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_SYSROOT="iphonesimulator" -DCMAKE\_OSX\_ARCHITECTURES="arm64;x86\_64" -S . -B build/ios-simulator-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_SYSROOT="iphonesimulator" -DWHISPER\_METAL=OFF -DCMAKE\_OSX\_ARCHITECTURES="arm64;x86\_64" -S . -B build/ios-simulator-coreml |
|  |  | cmake --build build/ios-simulator-coreml |
|  |  | mkdir -p runtimes/ios-simulator-coreml |
|  |  | cp build/ios-simulator-coreml/whisper.cpp/libwhisper.coreml.dylib runtimes/ios-simulator-coreml/libwhisper.coreml.dylib |
| [Expand Down](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand Down [Expand Up](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand Up | @@ -165,15 +197,15 @@ tvos: |
|  |  |  |
|  |  | tvos\_coreml: |
|  |  | rm -rf build/tvos-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_SYSROOT="appletvos" -DCMAKE\_OSX\_ARCHITECTURES="arm64" -S . -B build/tvos-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_SYSROOT="appletvos" -DWHISPER\_METAL=OFF -DCMAKE\_OSX\_ARCHITECTURES="arm64" -S . -B build/tvos-coreml |
|  |  | cmake --build build/tvos-coreml |
|  |  | mkdir -p runtimes/tvos-coreml |
|  |  | cp build/tvos-coreml/whisper.cpp/libwhisper.coreml.dylib runtimes/tvos-coreml/libwhisper.coreml.dylib |
|  |  | cp build/tvos-coreml/whisper.cpp/libwhisper.dylib runtimes/tvos-coreml/libwhisper.dylib |
|  |  |  |
|  |  | tvos\_simulator\_coreml: |
|  |  | rm -rf build/tvos-simulator-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_SYSROOT="appletvsimulator" -DCMAKE\_OSX\_ARCHITECTURES="arm64;x86\_64" -S . -B build/tvos-simulator-coreml |
|  |  | cmake $(COREML\_SUPPORT) -DCMAKE\_OSX\_SYSROOT="appletvsimulator" -DWHISPER\_METAL=OFF -DCMAKE\_OSX\_ARCHITECTURES="arm64;x86\_64" -S . -B build/tvos-simulator-coreml |
|  |  | cmake --build build/tvos-simulator-coreml |
|  |  | mkdir -p runtimes/tvos-simulator-coreml |
|  |  | cp build/tvos-simulator-coreml/whisper.cpp/libwhisper.coreml.dylib runtimes/tvos-simulator-coreml/libwhisper.coreml.dylib |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -196,12 +228,6 @@ lipo\_coreml: |
|  |  | cp runtimes/ios-coreml/libwhisper.dylib Whisper.net.Runtime.CoreML/ios-device/libwhisper.dylib |
|  |  | cp runtimes/ios-coreml/libwhisper.coreml.dylib Whisper.net.Runtime.CoreML/ios-device/libwhisper.coreml.dylib |
|  |  | install\_name\_tool -add\_rpath "@executable\_path/" Whisper.net.Runtime.CoreML/ios-device/libwhisper.dylib |
|  |  | mkdir -p Whisper.net.Runtime.CoreML/macos |
|  |  | cp runtimes/macos-coreml/libwhisper.dylib Whisper.net.Runtime.CoreML/macos/libwhisper.dylib |
|  |  | cp runtimes/macos-coreml/libwhisper.coreml.dylib Whisper.net.Runtime.CoreML/macos/libwhisper.coreml.dylib |
|  |  | install\_name\_tool -add\_rpath "@executable\_path/../MonoBundle" Whisper.net.Runtime.CoreML/macos/libwhisper.dylib |
|  |  | install\_name\_tool -add\_rpath "@executable\_path/runtimes/osx-arm64/" Whisper.net.Runtime.CoreML/macos/libwhisper.dylib |
|  |  | install\_name\_tool -add\_rpath "@executable\_path/runtimes/osx-x64/" Whisper.net.Runtime.CoreML/macos/libwhisper.dylib |
|  |  | mkdir -p Whisper.net.Runtime.CoreML/maccatalyst |
|  |  | lipo -create runtimes/maccatalyst-x64-coreml/libwhisper.dylib -create runtimes/maccatalyst-arm64-coreml/libwhisper.dylib -output Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.dylib |
|  |  | lipo -create runtimes/maccatalyst-x64-coreml/libwhisper.coreml.dylib -create runtimes/maccatalyst-arm64-coreml/libwhisper.coreml.dylib -output Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.coreml.dylib |
| [Expand All](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand All | @@ -218,8 +244,6 @@ lipo: |
|  |  | lipo -create runtimes/maccatalyst\_x64/libwhisper.dylib -create runtimes/maccatalyst\_arm64/libwhisper.dylib -output Whisper.net.Runtime/maccatalyst/libwhisper.dylib |
|  |  | mkdir -p Whisper.net.Runtime/tvos-device |
|  |  | cp runtimes/tvos/libwhisper.dylib Whisper.net.Runtime/tvos-device/libwhisper.dylib |
|  |  | mkdir -p Whisper.net.Runtime/macos |
|  |  | cp runtimes/macos/libwhisper.dylib Whisper.net.Runtime/macos/libwhisper.dylib |
|  |  |  |
|  |  | android\_arm64-v8a: |
|  |  | rm -rf build/android-arm64-v8a |
| [Expand Down](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [Whisper.net.Demo/Whisper.net.Demo.csproj](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a "Whisper.net.Demo/Whisper.net.Demo.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Demo/Whisper.net.Demo.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a) Expand Up | @@ -3,7 +3,7 @@ |
|  |  | <ImportCondition="'$(EnableCoreML)' == 'true'"Project="../Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets" /> |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net7.0;net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net8.0</TargetFrameworks> |
|  |  | <LangVersion>10</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
| [Expand Down](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [Whisper.net.Runtime.Clblast.nuspec](#diff-005e39e7e08dc93b3a221c9c5aac287ab8dabe3c653c6c7044a49a68475fb12d "Whisper.net.Runtime.Clblast.nuspec")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.Clblast.nuspec)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-005e39e7e08dc93b3a221c9c5aac287ab8dabe3c653c6c7044a49a68475fb12d) Expand Up | @@ -3,7 +3,7 @@ |
|  |  | <metadata> |
|  |  | <id>Whisper.net.Runtime.Clblast</id> |
|  |  | <title>Whisper.Net.Runtime.Clblast</title> |
|  |  | <version>1.4.7</version> |
|  |  | <version>1.5.0</version> |
|  |  | <authors>Sandro Hanea</authors> |
|  |  | <owners>Sandro Hanea</owners> |
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |
| [Expand Down](#diff-005e39e7e08dc93b3a221c9c5aac287ab8dabe3c653c6c7044a49a68475fb12d) Expand Down |  |

9 changes: 9 additions & 0 deletions
9 [Whisper.net.Runtime.Clblast/Whisper.net.Runtime.Clblast.targets](#diff-f78cc62fd9c5cb3ad165724b973e39e0b98c1c81f8d3a4b47004ae069eb3b30e "Whisper.net.Runtime.Clblast/Whisper.net.Runtime.Clblast.targets")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.Clblast/Whisper.net.Runtime.Clblast.targets)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-f78cc62fd9c5cb3ad165724b973e39e0b98c1c81f8d3a4b47004ae069eb3b30e) Expand Up | @@ -8,4 +8,13 @@ |
|  |  | <TargetPath>runtimes/win-x64/whisper.dll</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | <ItemGroup |
|  |  | Condition="$(TargetFramework.Contains('-windows')) == true or $(TargetFramework.Contains('-')) == false"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-x64\\clblast.dll"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>clblast.dll</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | </Project> |

Binary file added
BIN

+4.82 MB

[Whisper.net.Runtime.Clblast/win-x64/clblast.dll](#diff-6288a7e73417a11f6769fb447b4c2a544d9d65f1709a14127e2d0ca259011ac7 "Whisper.net.Runtime.Clblast/win-x64/clblast.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.Clblast/win-x64/clblast.dll)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+162 KB

(130%)
[Whisper.net.Runtime.Clblast/win-x64/whisper.dll](#diff-6661647cb0e784c2234c56786238be19d30570fb41ad5e8765a5394149c51875 "Whisper.net.Runtime.Clblast/win-x64/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.Clblast/win-x64/whisper.dll)
Edit file

Delete file


Binary file not shown.


2 changes: 1 addition & 1 deletion
2 [Whisper.net.Runtime.CoreML.nuspec](#diff-e3642e96bcba76195de3f3b72390359d864c7ae4e0ddbbfbdbcc661646731bfe "Whisper.net.Runtime.CoreML.nuspec")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML.nuspec)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-e3642e96bcba76195de3f3b72390359d864c7ae4e0ddbbfbdbcc661646731bfe) Expand Up | @@ -3,7 +3,7 @@ |
|  |  | <metadata> |
|  |  | <id>Whisper.net.Runtime.CoreML</id> |
|  |  | <title>Whisper.Net.Runtime.CoreML</title> |
|  |  | <version>1.4.7</version> |
|  |  | <version>1.5.0</version> |
|  |  | <authors>Sandro Hanea</authors> |
|  |  | <owners>Sandro Hanea</owners> |
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |
| [Expand Down](#diff-e3642e96bcba76195de3f3b72390359d864c7ae4e0ddbbfbdbcc661646731bfe) Expand Down |  |

35 changes: 23 additions & 12 deletions
35 [Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets](#diff-b755f563f084ba0d7874953094a6354ecc0c116c11b6a126344d1eed9d184120 "Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,7 @@ |
|  |  | <ProjectToolsVersion="4.0" |
|  |  | xmlns="http://schemas.microsoft.com/developer/msbuild/2003"> |
|  |  | <ItemGroupCondition="(('$(Platform)' == 'iPhoneSimulator') OR $(RuntimeIdentifier.StartsWith('iossimulator')))"> |
|  |  | <ItemGroup |
|  |  | Condition="(('$(Platform)' == 'iPhoneSimulator') OR $(RuntimeIdentifier.StartsWith('iossimulator')))"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)ios-simulator\\libwhisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
| [Expand All](#diff-b755f563f084ba0d7874953094a6354ecc0c116c11b6a126344d1eed9d184120) Expand All | @@ -14,7 +15,8 @@ |
|  |  | <TargetPath>libwhisper.coreml.dylib</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | <ItemGroupCondition="(('$(Platform)' == 'iPhone') OR ('$(RuntimeIdentifier)' == 'ios') OR $(RuntimeIdentifier.StartsWith('ios-')) OR $(RuntimeIdentifier.StartsWith('ios.')))"> |
|  |  | <ItemGroup |
|  |  | Condition="(('$(Platform)' == 'iPhone') OR ('$(RuntimeIdentifier)' == 'ios') OR $(RuntimeIdentifier.StartsWith('ios-')) OR $(RuntimeIdentifier.StartsWith('ios.')))"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)ios-device\\libwhisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
| [Expand Down](#diff-b755f563f084ba0d7874953094a6354ecc0c116c11b6a126344d1eed9d184120) Expand Down [Expand Up](#diff-b755f563f084ba0d7874953094a6354ecc0c116c11b6a126344d1eed9d184120) Expand Up | @@ -77,38 +79,47 @@ |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>libwhisper.dylib</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)tvos-simulator\\libwhisper.coreml.dylib"> |
|  |  | <NoneVisible="false" |
|  |  | Include="$(MSBuildThisFileDirectory)tvos-simulator\\libwhisper.coreml.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>libwhisper.coreml.dylib</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | <ItemGroup> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)\\ggml-metal.metal"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>ggml-metal.metal</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | <ItemGroupCondition="$(TargetFramework.Contains('-')) == false "> |
|  |  | <!-- If using default runtime, include the split macOS libs rather that the lipoed version --> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos\\libwhisper.dylib"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-x64\\libwhisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/osx-x64/whisper.dylib</TargetPath> |
|  |  | <TargetPath>runtimes/macos-x64/libwhisper.dylib</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos\\libwhisper.dylib"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-x64\\libwhisper.coreml.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/osx-arm64/whisper.dylib</TargetPath> |
|  |  | <TargetPath>runtimes/macos-x64/libwhisper.coreml.dylib</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos\\libwhisper.coreml.dylib"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-arm64\\libwhisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/osx-arm64/libwhisper.coreml.dylib</TargetPath> |
|  |  | <TargetPath>runtimes/macos-arm64/libwhisper.dylib</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos\\libwhisper.coreml.dylib"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-arm64\\libwhisper.coreml.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/osx-x64/libwhisper.coreml.dylib</TargetPath> |
|  |  | <TargetPath>runtimes/macos-arm64/libwhisper.coreml.dylib</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | </Project> |
|  |  | </Project> |

2,929 changes: 2,929 additions & 0 deletions
2,929 [Whisper.net.Runtime.CoreML/ggml-metal.metal](#diff-de2fda35e77e3a7366aa11ec6cbdf130ecec934d6a80f66a5d7279ef67b0a2f4 "Whisper.net.Runtime.CoreML/ggml-metal.metal")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/ggml-metal.metal)
Edit file

Delete file


Load diff

Large diffs are not rendered by default.


Oops, something went wrong.
Retry

Binary file modified
BIN

+576 Bytes

(100%)
[Whisper.net.Runtime.CoreML/ios-device/libwhisper.coreml.dylib](#diff-cc17bb6f3a7b8dea0ea786981ec48c3a0bdf73db041606f5f3307eca3a9a057b "Whisper.net.Runtime.CoreML/ios-device/libwhisper.coreml.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/ios-device/libwhisper.coreml.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+103 KB

(120%)
[Whisper.net.Runtime.CoreML/ios-device/libwhisper.dylib](#diff-2b60a615b659216aede4d2a8793707bfbbad92bbdb2e0d4e37c5468627474cb1 "Whisper.net.Runtime.CoreML/ios-device/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/ios-device/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+576 Bytes

(100%)
[Whisper.net.Runtime.CoreML/ios-simulator/libwhisper.coreml.dylib](#diff-2f3f45a0beb491d43435c96a8e0fbaf7aae65a13334d5616e3c59dc48b63d70d "Whisper.net.Runtime.CoreML/ios-simulator/libwhisper.coreml.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/ios-simulator/libwhisper.coreml.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+248 KB

(120%)
[Whisper.net.Runtime.CoreML/ios-simulator/libwhisper.dylib](#diff-fdfa23ffc9bd3e154659b2221a25802dd4932c94af3fccd142d285a620623350 "Whisper.net.Runtime.CoreML/ios-simulator/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/ios-simulator/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+176 Bytes

(100%)
[Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.coreml.dylib](#diff-e1241b914cc2a48628837806b049e817226a9612f0d775df152cb7ef74ef9d88 "Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.coreml.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.coreml.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+232 KB

(120%)
[Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.dylib](#diff-7ddce8562b0d31e6ead16d009c2b0c492be0a5df47678f606cc892abd659773e "Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/maccatalyst/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+73.9 KB

[Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.coreml.dylib](#diff-646272b7b669cd81fa478635329536ffe3b49c67f765309024439c4257c17ae0 "Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.coreml.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.coreml.dylib)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+727 KB

[Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.dylib](#diff-a6cd3d4ddf523b0193af6ad7045603d6dccb2b5d7c9f855c3631bd1b19cb4432 "Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+71.4 KB

[Whisper.net.Runtime.CoreML/macos-x64/libwhisper.coreml.dylib](#diff-48570e2d512fa45a440a30b986bb2c0748b655c69084eeb86fa35527418bec9a "Whisper.net.Runtime.CoreML/macos-x64/libwhisper.coreml.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/macos-x64/libwhisper.coreml.dylib)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+817 KB

[Whisper.net.Runtime.CoreML/macos-x64/libwhisper.dylib](#diff-1f1a5da52f3c33e6cc9445f72ab33c6e47d202835d93a74eff6987852909cde9 "Whisper.net.Runtime.CoreML/macos-x64/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/macos-x64/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -170 KB

[Whisper.net.Runtime.CoreML/macos/libwhisper.coreml.dylib](#diff-91979f78db1ecc1256eb6988cae24cbab68dcf1f8a7dc9ec85c3696e0c5e09e9 "Whisper.net.Runtime.CoreML/macos/libwhisper.coreml.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime.CoreML/macos/libwhisper.coreml.dylib)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -1.26 MB

[Whisper.net.Runtime.CoreML/macos/libwhisper.dylib](#diff-4069910e0a1b46aab676c4929deb5ff3ff9295d05c27474fc60639f3601b787a "Whisper.net.Runtime.CoreML/macos/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime.CoreML/macos/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+576 Bytes

(100%)
[Whisper.net.Runtime.CoreML/tvos-device/libwhisper.coreml.dylib](#diff-4fcda3049a1aae1e3f250145779419a12fce45501960c24a31be6053de296dc4 "Whisper.net.Runtime.CoreML/tvos-device/libwhisper.coreml.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/tvos-device/libwhisper.coreml.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+103 KB

(120%)
[Whisper.net.Runtime.CoreML/tvos-device/libwhisper.dylib](#diff-cdf29466a3123b6ddce629e046877a9dd944b7d7cbb378d5802e1a9187717d17 "Whisper.net.Runtime.CoreML/tvos-device/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/tvos-device/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+576 Bytes

(100%)
[Whisper.net.Runtime.CoreML/tvos-simulator/libwhisper.coreml.dylib](#diff-1da10910dff611628809dfa939c03f5bcb17e787969f4b169d96eec324669f0b "Whisper.net.Runtime.CoreML/tvos-simulator/libwhisper.coreml.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/tvos-simulator/libwhisper.coreml.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+248 KB

(120%)
[Whisper.net.Runtime.CoreML/tvos-simulator/libwhisper.dylib](#diff-6325e1e3cb13aae5cc6aad1da0b171a287d96cacb2bcb90dad15555d757be43a "Whisper.net.Runtime.CoreML/tvos-simulator/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.CoreML/tvos-simulator/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


2 changes: 1 addition & 1 deletion
2 [Whisper.net.Runtime.Cublas.nuspec](#diff-ace77d0edfb5a931c5e8c5a70d0c1fc2684c89bdd889ef0eb62931e45f23e05c "Whisper.net.Runtime.Cublas.nuspec")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.Cublas.nuspec)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-ace77d0edfb5a931c5e8c5a70d0c1fc2684c89bdd889ef0eb62931e45f23e05c) Expand Up | @@ -3,7 +3,7 @@ |
|  |  | <metadata> |
|  |  | <id>Whisper.net.Runtime.Cublas</id> |
|  |  | <title>Whisper.Net.Runtime.Cublas</title> |
|  |  | <version>1.4.7</version> |
|  |  | <version>1.5.0</version> |
|  |  | <authors>Sandro Hanea</authors> |
|  |  | <owners>Sandro Hanea</owners> |
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |
| [Expand Down](#diff-ace77d0edfb5a931c5e8c5a70d0c1fc2684c89bdd889ef0eb62931e45f23e05c) Expand Down |  |

6 changes: 6 additions & 0 deletions
6 [Whisper.net.Runtime.Cublas/Whisper.net.Runtime.Cublas.targets](#diff-64e12dbb667cadfd8d603104b06a585c7860690c729094767fbdb5ee0f2d94f2 "Whisper.net.Runtime.Cublas/Whisper.net.Runtime.Cublas.targets")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.Cublas/Whisper.net.Runtime.Cublas.targets)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-64e12dbb667cadfd8d603104b06a585c7860690c729094767fbdb5ee0f2d94f2) Expand Up | @@ -7,5 +7,11 @@ |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/win-x64/whisper.dll</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-x64\\libwhisper.so"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/linux-x64/libwhisper.so</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | </Project> |

Binary file added
BIN

+1.49 MB

[Whisper.net.Runtime.Cublas/linux-x64/libwhisper.so](#diff-b3263376285b3135815b9494e3aa2bdc7a49a9fd12f457b7535df1d638173577 "Whisper.net.Runtime.Cublas/linux-x64/libwhisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.Cublas/linux-x64/libwhisper.so)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+510 KB

(180%)
[Whisper.net.Runtime.Cublas/win-x64/whisper.dll](#diff-9ec9626c81e2611f357efbf9a10e802e1697c03d8ec2d8ab751981c008958aad "Whisper.net.Runtime.Cublas/win-x64/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.Cublas/win-x64/whisper.dll)
Edit file

Delete file


Binary file not shown.


2 changes: 1 addition & 1 deletion
2 [Whisper.net.Runtime.Wasm.nuspec](#diff-ec9b457d2af3ce4c3273cd82c832de28ef79a7ea21f0e18cdfcaccd94babd19f "Whisper.net.Runtime.Wasm.nuspec")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.Wasm.nuspec)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-ec9b457d2af3ce4c3273cd82c832de28ef79a7ea21f0e18cdfcaccd94babd19f) Expand Up | @@ -3,7 +3,7 @@ |
|  |  | <metadata> |
|  |  | <id>Whisper.net.Runtime.Wasm</id> |
|  |  | <title>Whisper.Net.Runtime.Wasm</title> |
|  |  | <version>1.4.7</version> |
|  |  | <version>1.5.0</version> |
|  |  | <authors>Sandro Hanea</authors> |
|  |  | <owners>Sandro Hanea</owners> |
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |
| [Expand Down](#diff-ec9b457d2af3ce4c3273cd82c832de28ef79a7ea21f0e18cdfcaccd94babd19f) Expand Down |  |

13 changes: 0 additions & 13 deletions
13 [Whisper.net.Runtime.Wasm/Whisper.net.Runtime.Wasm.targets](#diff-49b868dea09006400739e33c6739be28be2d1cf117e1973d0371afdfd9232dae "Whisper.net.Runtime.Wasm/Whisper.net.Runtime.Wasm.targets")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime.Wasm/Whisper.net.Runtime.Wasm.targets)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

Binary file removed
BIN

 -1.47 MB

[Whisper.net.Runtime.Wasm/whisper.a](#diff-f919a0dbac16627b47e122202fbaef4fabf0da6aa92d7158bb7dce58cd1fd85a "Whisper.net.Runtime.Wasm/whisper.a")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime.Wasm/whisper.a)
Edit file

Delete file


Binary file not shown.


2 changes: 1 addition & 1 deletion
2 [Whisper.net.Runtime.nuspec](#diff-cb95c6a19b3ccd864aa162f32b2fe1fa68b878fc58570783ff9be140a91ddf30 "Whisper.net.Runtime.nuspec")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime.nuspec)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-cb95c6a19b3ccd864aa162f32b2fe1fa68b878fc58570783ff9be140a91ddf30) Expand Up | @@ -3,7 +3,7 @@ |
|  |  | <metadata> |
|  |  | <id>Whisper.net.Runtime</id> |
|  |  | <title>Whisper.Net.Runtime</title> |
|  |  | <version>1.4.7</version> |
|  |  | <version>1.5.0</version> |
|  |  | <authors>Sandro Hanea</authors> |
|  |  | <owners>Sandro Hanea</owners> |
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |
| [Expand Down](#diff-cb95c6a19b3ccd864aa162f32b2fe1fa68b878fc58570783ff9be140a91ddf30) Expand Down |  |

76 changes: 57 additions & 19 deletions
76 [Whisper.net.Runtime/Whisper.net.Runtime.targets](#diff-a8c13609f6afccafa8262f65055fe8c4d625a6e21a99c9bde81d008721b9e36d "Whisper.net.Runtime/Whisper.net.Runtime.targets")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/Whisper.net.Runtime.targets)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,13 +1,15 @@ |
|  |  | <ProjectToolsVersion="4.0"xmlns="http://schemas.microsoft.com/developer/msbuild/2003"> |
|  |  | <ItemGroupCondition="(('$(Platform)' == 'iPhoneSimulator') OR $(RuntimeIdentifier.StartsWith('iossimulator')))"> |
|  |  | <ItemGroup |
|  |  | Condition="(('$(Platform)' == 'iPhoneSimulator') OR $(RuntimeIdentifier.StartsWith('iossimulator')))"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)ios-simulator\\libwhisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>libwhisper.dylib</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | <ItemGroupCondition="(('$(Platform)' == 'iPhone') OR ('$(RuntimeIdentifier)' == 'ios') OR $(RuntimeIdentifier.StartsWith('ios-')) OR $(RuntimeIdentifier.StartsWith('ios.')))"> |
|  |  | <ItemGroup |
|  |  | Condition="(('$(Platform)' == 'iPhone') OR ('$(RuntimeIdentifier)' == 'ios') OR $(RuntimeIdentifier.StartsWith('ios-')) OR $(RuntimeIdentifier.StartsWith('ios.')))"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)ios-device\\libwhisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
| [Expand Down](#diff-a8c13609f6afccafa8262f65055fe8c4d625a6e21a99c9bde81d008721b9e36d) Expand Down [Expand Up](#diff-a8c13609f6afccafa8262f65055fe8c4d625a6e21a99c9bde81d008721b9e36d) Expand Up | @@ -39,7 +41,8 @@ |
|  |  | <TargetPath>libwhisper.dylib</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | <ItemGroupCondition="$(TargetFramework.Contains('-windows')) == true or $(TargetFramework.Contains('-')) == false"> |
|  |  | <ItemGroup |
|  |  | Condition="$(TargetFramework.Contains('-windows')) == true or $(TargetFramework.Contains('-')) == false"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-arm\\whisper.dll"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
| [Expand All](#diff-a8c13609f6afccafa8262f65055fe8c4d625a6e21a99c9bde81d008721b9e36d) Expand All | @@ -65,55 +68,90 @@ |
|  |  | <TargetPath>runtimes/win-x86/whisper.dll</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | <ItemGroupCondition="$(AndroidSupportedAbis.Contains('x86')) or $(RuntimeIdentifiers.Contains('android-x86'))"> |
|  |  | <AndroidNativeLibraryVisible="false"Include="$(MSBuildThisFileDirectory)android-x86\\libwhisper.so"> |
|  |  | <ItemGroup |
|  |  | Condition="$(AndroidSupportedAbis.Contains('x86')) or $(RuntimeIdentifiers.Contains('android-x86'))"> |
|  |  | <AndroidNativeLibraryVisible="false" |
|  |  | Include="$(MSBuildThisFileDirectory)android-x86\\libwhisper.so"> |
|  |  | <Link>whisper-x86\\whisper.so</Link> |
|  |  | <Abi>x86</Abi> |
|  |  | </AndroidNativeLibrary> |
|  |  | </ItemGroup> |
|  |  | <ItemGroupCondition="$(AndroidSupportedAbis.Contains('x86\_64')) or $(RuntimeIdentifiers.Contains('android-x64'))"> |
|  |  | <AndroidNativeLibraryVisible="false"Include="$(MSBuildThisFileDirectory)android-x86\_64\\libwhisper.so"> |
|  |  | <ItemGroup |
|  |  | Condition="$(AndroidSupportedAbis.Contains('x86\_64')) or $(RuntimeIdentifiers.Contains('android-x64'))"> |
|  |  | <AndroidNativeLibraryVisible="false" |
|  |  | Include="$(MSBuildThisFileDirectory)android-x86\_64\\libwhisper.so"> |
|  |  | <Link>whisper-x86\_64\\whisper.so</Link> |
|  |  | <Abi>x86\_64</Abi> |
|  |  | </AndroidNativeLibrary> |
|  |  | </ItemGroup> |
|  |  | <ItemGroupCondition="$(AndroidSupportedAbis.Contains('arm64-v8a')) or $(RuntimeIdentifiers.Contains('android-arm64'))"> |
|  |  | <AndroidNativeLibraryVisible="false"Include="$(MSBuildThisFileDirectory)android-arm64-v8a\\libwhisper.so"> |
|  |  | <ItemGroup |
|  |  | Condition="$(AndroidSupportedAbis.Contains('arm64-v8a')) or $(RuntimeIdentifiers.Contains('android-arm64'))"> |
|  |  | <AndroidNativeLibraryVisible="false" |
|  |  | Include="$(MSBuildThisFileDirectory)android-arm64-v8a\\libwhisper.so"> |
|  |  | <Link>whisper-armv8\\whisper.so</Link> |
|  |  | <Abi>arm64-v8a</Abi> |
|  |  | </AndroidNativeLibrary> |
|  |  | </ItemGroup> |
|  |  | <ItemGroupCondition="$(TargetFramework.Contains('-')) == false "> |
|  |  | <!-- If using default runtime, include the split macOS libs rather that the lipoed version --> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)osx-x64\whisper.dylib"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-x64\libwhisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/osx-x64/whisper.dylib</TargetPath> |
|  |  | <TargetPath>runtimes/macos-x64/libwhisper.dylib</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)osx-arm64\\whisper.dylib"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)/ggml-metal.metal"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/osx-arm64/whisper.dylib</TargetPath> |
|  |  | <TargetPath>runtimes/macos-arm64/ggml-metal.metal</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm64\whisper.so"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-arm64\libwhisper.dylib"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/linux-arm64/whisper.so</TargetPath> |
|  |  | <TargetPath>runtimes/macos-arm64/libwhisper.dylib</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-x64\\whisper.so"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm64\\libwhisper.so"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/linux-x64/whisper.so</TargetPath> |
|  |  | <TargetPath>runtimes/linux-arm64/libwhisper.so</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm\\whisper.so"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-x64\\libwhisper.so"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/linux-arm/whisper.so</TargetPath> |
|  |  | <TargetPath>runtimes/linux-x64/libwhisper.so</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm\\libwhisper.so"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/linux-arm/libwhisper.so</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | <PropertyGroupCondition="'$(UsingMicrosoftNETSdkBlazorWebAssembly)' == 'true'"> |
|  |  | <WasmBuildNativeCondition="'$(WasmBuildNative)' == ''">true</WasmBuildNative> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroupCondition=" '$(UsingMicrosoftNETSdkBlazorWebAssembly)' == 'true' "> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)browser-wasm/whisper.a"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>browser-wasm/whisper.a</TargetPath> |
|  |  | </None> |
|  |  | <NativeFileReferenceInclude="$(MSBuildThisFileDirectory)browser-wasm/whisper.a" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroupCondition="$(TargetFramework.Contains('-')) == false or $(RuntimeIdentifier.StartsWith('tvos-')) or $(RuntimeIdentifier.StartsWith('tvossimulator-')) or (('$(Platform)' == 'iPhone') OR ('$(RuntimeIdentifier)' == 'ios') OR $(RuntimeIdentifier.StartsWith('ios-')) OR $(RuntimeIdentifier.StartsWith('ios.'))) or $(TargetFramework.Contains('-maccatalyst')) == true or (('$(Platform)' == 'iPhoneSimulator') OR $(RuntimeIdentifier.StartsWith('iossimulator')))"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)\\ggml-metal.metal"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>ggml-metal.metal</TargetPath> |
|  |  | <PublishFolderType>RootDirectory</PublishFolderType> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | </Project> |

Binary file modified
BIN

 -369 KB

(94%)
[Whisper.net.Runtime/android-arm64-v8a/libwhisper.so](#diff-807d64e686c3e4a28e375775d36ca01d197989ccf1b59377afddf6f982f476e3 "Whisper.net.Runtime/android-arm64-v8a/libwhisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/android-arm64-v8a/libwhisper.so)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

 -248 KB

(95%)
[Whisper.net.Runtime/android-x86/libwhisper.so](#diff-50868236a2aa29b8b8b9448bcc1a6026c5b023aabc0158c3887cbe15df5eaf47 "Whisper.net.Runtime/android-x86/libwhisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/android-x86/libwhisper.so)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

 -575 KB

(91%)
[Whisper.net.Runtime/android-x86\_64/libwhisper.so](#diff-a4c96f2414e19feabaf1d84734b31dda7405ef303f09943063f4289d4c4bcc9e "Whisper.net.Runtime/android-x86_64/libwhisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/android-x86_64/libwhisper.so)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+3.16 MB

[Whisper.net.Runtime/browser-wasm/whisper.a](#diff-3f9f2bd6fb24718e67f11ddb11f4ea76b4341269310993916b39377ad99502d2 "Whisper.net.Runtime/browser-wasm/whisper.a")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/browser-wasm/whisper.a)
Edit file

Delete file


Binary file not shown.


2,929 changes: 2,929 additions & 0 deletions
2,929 [Whisper.net.Runtime/ggml-metal.metal](#diff-7f902d7b37a8cea897deb5c12c5342f929baf4a8843efd730ef293efee214ddd "Whisper.net.Runtime/ggml-metal.metal")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/ggml-metal.metal)
Edit file

Delete file


Load diff

Large diffs are not rendered by default.


Oops, something went wrong.
Retry

Binary file modified
BIN

+477 KB

(130%)
[Whisper.net.Runtime/ios-device/libwhisper.dylib](#diff-6837110eb320917f5c19468c4f9851690845e309cd5132ccd1cddf0117d74b80 "Whisper.net.Runtime/ios-device/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/ios-device/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+673 KB

(130%)
[Whisper.net.Runtime/ios-simulator/libwhisper.dylib](#diff-c0897553e0769044fea13d4e25fb768d33e43ccc95b0570f9832322a20678634 "Whisper.net.Runtime/ios-simulator/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/ios-simulator/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+625 KB

[Whisper.net.Runtime/linux-arm/libwhisper.so](#diff-49a1f6a0101c16efaace2c65f2ea9ae34942f0fa048950d78562d7c139dd6b6b "Whisper.net.Runtime/linux-arm/libwhisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/linux-arm/libwhisper.so)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -494 KB

[Whisper.net.Runtime/linux-arm/whisper.so](#diff-441fdd3194cc1d8e39d4ead0bed865f0a060c13e74599fe904a8f0b6962c463c "Whisper.net.Runtime/linux-arm/whisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime/linux-arm/whisper.so)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+832 KB

[Whisper.net.Runtime/linux-arm64/libwhisper.so](#diff-7f8b4f998cd46c124e717bd3939baf3bd90ca623234a36a71b0727865d155bdf "Whisper.net.Runtime/linux-arm64/libwhisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/linux-arm64/libwhisper.so)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -668 KB

[Whisper.net.Runtime/linux-arm64/whisper.so](#diff-236632737048c0496ec151ba56ad5ce75b878ec39e73c628cc599e058a9683eb "Whisper.net.Runtime/linux-arm64/whisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime/linux-arm64/whisper.so)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+927 KB

[Whisper.net.Runtime/linux-x64/libwhisper.so](#diff-fa537d1b696cff4c54c339c3bb6ee462f751621ba988589798005211fb09c4d7 "Whisper.net.Runtime/linux-x64/libwhisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/linux-x64/libwhisper.so)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -750 KB

[Whisper.net.Runtime/linux-x64/whisper.so](#diff-6b0ef4ece54a9610763e7bee974bdeed6513a032c1b5e01ac8934e6ba000216b "Whisper.net.Runtime/linux-x64/whisper.so")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime/linux-x64/whisper.so)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+592 KB

(120%)
[Whisper.net.Runtime/maccatalyst/libwhisper.dylib](#diff-98117aab9bee190532b09276e380050c7d12587b0d358872fe36e396e9610f3d "Whisper.net.Runtime/maccatalyst/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/maccatalyst/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+727 KB

[Whisper.net.Runtime/macos-arm64/libwhisper.dylib](#diff-66119594dd1b9e4a140f445f4ce134ed83a2f167b88685e23b972ba7200a3674 "Whisper.net.Runtime/macos-arm64/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/macos-arm64/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file added
BIN

+817 KB

[Whisper.net.Runtime/macos-x64/libwhisper.dylib](#diff-31e6e58cf516bb4de9c628a73c10b77f067deca92334dda43ac44ebfed72d066 "Whisper.net.Runtime/macos-x64/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/macos-x64/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -1.28 MB

[Whisper.net.Runtime/macos/libwhisper.dylib](#diff-a82d2bdfa4fb4105fdd62f82b2af296349cabc3b7cfddbe62c37e80c491b650b "Whisper.net.Runtime/macos/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime/macos/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -568 KB

[Whisper.net.Runtime/osx-arm64/whisper.dylib](#diff-694db5bb7ed54e156b04dd8278c7eaff0706283369e0dd915df84ca7e82212da "Whisper.net.Runtime/osx-arm64/whisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime/osx-arm64/whisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -682 KB

[Whisper.net.Runtime/osx-x64/whisper.dylib](#diff-6b414f190706d63d544adbc75410f69c81add4105e445070ed2ad0bef7a617ac "Whisper.net.Runtime/osx-x64/whisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/Whisper.net.Runtime/osx-x64/whisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+477 KB

(130%)
[Whisper.net.Runtime/tvos-device/libwhisper.dylib](#diff-cfb11e42883e31e3c067fc677500955c7e29d1ca0cbb25a76cb4f80b6b6ff46b "Whisper.net.Runtime/tvos-device/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/tvos-device/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+673 KB

(130%)
[Whisper.net.Runtime/tvos-simulator/libwhisper.dylib](#diff-b361eb28e9f6d42bd73adfcbe050f9b9d9f87b8baccc79d33537ed2c7b41ea85 "Whisper.net.Runtime/tvos-simulator/libwhisper.dylib")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/tvos-simulator/libwhisper.dylib)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+134 KB

(140%)
[Whisper.net.Runtime/win-arm/whisper.dll](#diff-652c94e4c5439561f593bc9334f47cc2026a77ea8d1068fde55e878b48253392 "Whisper.net.Runtime/win-arm/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/win-arm/whisper.dll)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+152 KB

(140%)
[Whisper.net.Runtime/win-arm64/whisper.dll](#diff-ee9346f27569153eb4b44c115579313f3cda5bd3c6d8008cea81c8548151be39 "Whisper.net.Runtime/win-arm64/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/win-arm64/whisper.dll)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+161 KB

(130%)
[Whisper.net.Runtime/win-x64/whisper.dll](#diff-d36b268df3cfefa00c8e7df884f0e5b947e4a185d8ffd60fe0fdce86ac48a49f "Whisper.net.Runtime/win-x64/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/win-x64/whisper.dll)
Edit file

Delete file


Binary file not shown.


Binary file modified
BIN

+127 KB

(130%)
[Whisper.net.Runtime/win-x86/whisper.dll](#diff-9049d81ae09b9d46b2477b7dab13a3f3f042c7f4df857966ec42ef61fe978595 "Whisper.net.Runtime/win-x86/whisper.dll")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Runtime/win-x86/whisper.dll)
Edit file

Delete file


Binary file not shown.


8 changes: 4 additions & 4 deletions
8 [Whisper.net.Tests/Whisper.net.Tests.csproj](#diff-39ca855a07aa77bca3f5af89a12c8a2bdb7d54424695c26459e365c19d036ace "Whisper.net.Tests/Whisper.net.Tests.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.Tests/Whisper.net.Tests.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,7 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk"> |
|  |  | <ImportProject="../Whisper.net.Runtime/Whisper.net.Runtime.targets" /> |
|  |  | <PropertyGroup> |
|  |  | <TargetFramework>net7.0</TargetFramework> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  |  |
| [Expand All](#diff-39ca855a07aa77bca3f5af89a12c8a2bdb7d54424695c26459e365c19d036ace) Expand All | @@ -10,10 +10,10 @@ |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="FluentAssertions"Version="6.12.0" /> |
|  |  | <PackageReferenceInclude="Microsoft.NET.Test.Sdk"Version="17.7.2" /> |
|  |  | <PackageReferenceInclude="NUnit"Version="3.13.3" /> |
|  |  | <PackageReferenceInclude="Microsoft.NET.Test.Sdk"Version="17.8.0" /> |
|  |  | <PackageReferenceInclude="NUnit"Version="3.14.0" /> |
|  |  | <PackageReferenceInclude="NUnit3TestAdapter"Version="4.5.0" /> |
|  |  | <PackageReferenceInclude="NUnit.Analyzers"Version="3.6.1"> |
|  |  | <PackageReferenceInclude="NUnit.Analyzers"Version="3.9.0"> |
|  |  | <PrivateAssets>all</PrivateAssets> |
|  |  | <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets> |
|  |  | </PackageReference> |
| [Expand Down](#diff-39ca855a07aa77bca3f5af89a12c8a2bdb7d54424695c26459e365c19d036ace) Expand Down |  |

6 changes: 5 additions & 1 deletion
6 [Whisper.net.sln](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb "Whisper.net.sln")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net.sln)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Up | @@ -17,8 +17,12 @@ Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Tests", "Whispe |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "github", "github", "{5C865649-4AED-4BBF-A7CA-BD68D21EF48F}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | .github\workflows\codeball.yml= .github\workflows\codeball.yml |
|  |  | .github\workflows\android-native-build.yaml= .github\workflows\android-native-build.yaml |
|  |  | .github\workflows\dotnet.yml = .github\workflows\dotnet.yml |
|  |  | .github\workflows\linux-native-build.yml = .github\workflows\linux-native-build.yml |
|  |  | .github\workflows\macos-native-build.yaml = .github\workflows\macos-native-build.yaml |
|  |  | .github\workflows\wasm-native-build.yaml = .github\workflows\wasm-native-build.yaml |
|  |  | .github\workflows\windows-native-build.yml = .github\workflows\windows-native-build.yml |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "scripts", "scripts", "{52C6C243-3BD7-41CF-A0B0-1DE31AC2C884}" |
| [Expand Down](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Down |  |

3 changes: 2 additions & 1 deletion
3 [Whisper.net/Ggml/GgmlType.cs](#diff-eeaecf73c44b591e6db2f74c6f76ec27e4cdfc3ad21ef38f3ebb58875657278e "Whisper.net/Ggml/GgmlType.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Ggml/GgmlType.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-eeaecf73c44b591e6db2f74c6f76ec27e4cdfc3ad21ef38f3ebb58875657278e) Expand Up | @@ -13,5 +13,6 @@ public enum GgmlType |
|  |  | Medium, |
|  |  | MediumEn, |
|  |  | LargeV1, |
|  |  | Large |
|  |  | LargeV2, |
|  |  | LargeV3 |
|  |  | } |

1 change: 0 additions & 1 deletion
1 [Whisper.net/Ggml/QuantizationType.cs](#diff-f5e71994d7b697c57d5d447bf608ca3737184b0d09cc2395b73226f9cdae88d3 "Whisper.net/Ggml/QuantizationType.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Ggml/QuantizationType.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-f5e71994d7b697c57d5d447bf608ca3737184b0d09cc2395b73226f9cdae88d3) Expand Up | @@ -6,7 +6,6 @@ public enum QuantizationType |
|  |  | NoQuantization, |
|  |  | Q4\_0, |
|  |  | Q4\_1, |
|  |  | Q4\_2, |
|  |  | Q5\_0, |
|  |  | Q5\_1, |
|  |  | Q8\_0 |
| [Expand Down](#diff-f5e71994d7b697c57d5d447bf608ca3737184b0d09cc2395b73226f9cdae88d3) Expand Down |  |

10 changes: 5 additions & 5 deletions
10 [Whisper.net/Ggml/WhisperGgmlDownloader.cs](#diff-96001bb9b01addeb5ad08fd507798f665f57c4d19e2d8d1ec127ca36fd0c63b8 "Whisper.net/Ggml/WhisperGgmlDownloader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Ggml/WhisperGgmlDownloader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-96001bb9b01addeb5ad08fd507798f665f57c4d19e2d8d1ec127ca36fd0c63b8) Expand Up | @@ -20,7 +20,7 @@ public static async Task<Stream> GetGgmlModelAsync(GgmlType type, QuantizationTy |
|  |  | varsubdirectory=GetQuantizationSubdirectory(quantization); |
|  |  | varmodelName=GetModelName(type); |
|  |  |  |
|  |  | varurl=$"https://huggingface.co/sandrohanea/whisper.net/resolve/v1/{subdirectory}/{modelName}.bin"; |
|  |  | varurl=$"https://huggingface.co/sandrohanea/whisper.net/resolve/v2/{subdirectory}/{modelName}.bin"; |
|  |  |  |
|  |  | varrequest=newHttpRequestMessage(HttpMethod.Get,url); |
|  |  | varresponse=awaithttpClient.Value.SendAsync(request,HttpCompletionOption.ResponseHeadersRead,cancellationToken); |
| [Expand All](#diff-96001bb9b01addeb5ad08fd507798f665f57c4d19e2d8d1ec127ca36fd0c63b8) Expand All | @@ -37,15 +37,15 @@ public static async Task<Stream> GetGgmlModelAsync(GgmlType type, QuantizationTy |
|  |  | /// Gets the download stream for the CoreML model, which is a zip file. |
|  |  | /// </summary> |
|  |  | /// <param name="type">The type of the model which needs to be downloaded.</param> |
|  |  | /// <param name="cancellationToken">A cancellation token used to cancell the request to huggingface.</param> |
|  |  | /// <param name="cancellationToken">A cancellation token used to stop the request to huggingface.</param> |
|  |  | /// <remarks> |
|  |  | /// Needs to be extracted on in the same directory as the ggml model, also ggml model needs to be loaded using file path, not stream. |
|  |  | /// </remarks> |
|  |  | /// <exception cref="ArgumentOutOfRangeException"></exception> |
|  |  | publicstaticasyncTask<Stream>GetEncoderCoreMLModelAsync(GgmlTypetype,CancellationTokencancellationToken=default) |
|  |  | { |
|  |  | varmodelName=GetModelName(type); |
|  |  | varurl=$"https://huggingface.co/sandrohanea/whisper.net/resolve/v1/coreml/{modelName}-encoder.zip"; |
|  |  | varurl=$"https://huggingface.co/sandrohanea/whisper.net/resolve/v2/coreml/{modelName}-encoder.zip"; |
|  |  |  |
|  |  | varrequest=newHttpRequestMessage(HttpMethod.Get,url); |
|  |  | varresponse=awaithttpClient.Value.SendAsync(request,HttpCompletionOption.ResponseHeadersRead,cancellationToken); |
| [Expand Down](#diff-96001bb9b01addeb5ad08fd507798f665f57c4d19e2d8d1ec127ca36fd0c63b8) Expand Down [Expand Up](#diff-96001bb9b01addeb5ad08fd507798f665f57c4d19e2d8d1ec127ca36fd0c63b8) Expand Up | @@ -86,7 +86,8 @@ private static string GetModelName(GgmlType type) |
|  |  | GgmlType.Medium=>"ggml-medium", |
|  |  | GgmlType.MediumEn=>"ggml-medium.en", |
|  |  | GgmlType.LargeV1=>"ggml-large-v1", |
|  |  | GgmlType.Large=>"ggml-large", |
|  |  | GgmlType.LargeV2=>"ggml-large-v2", |
|  |  | GgmlType.LargeV3=>"ggml-large-v3", |
|  |  | \_ =>thrownewArgumentOutOfRangeException(nameof(type),type,null) |
|  |  | }; |
|  |  | } |
| [Expand All](#diff-96001bb9b01addeb5ad08fd507798f665f57c4d19e2d8d1ec127ca36fd0c63b8) Expand All | @@ -98,7 +99,6 @@ private static string GetQuantizationSubdirectory(QuantizationType quantization) |
|  |  | QuantizationType.NoQuantization=>"classic", |
|  |  | QuantizationType.Q4\_0=>"q4\_0", |
|  |  | QuantizationType.Q4\_1=>"q4\_1", |
|  |  | QuantizationType.Q4\_2=>"q4\_2", |
|  |  | QuantizationType.Q5\_0=>"q5\_0", |
|  |  | QuantizationType.Q5\_1=>"q5\_1", |
|  |  | QuantizationType.Q8\_0=>"q8\_0", |
| [Expand Down](#diff-96001bb9b01addeb5ad08fd507798f665f57c4d19e2d8d1ec127ca36fd0c63b8) Expand Down |  |

5 changes: 5 additions & 0 deletions
5 [Whisper.net/GlobalSuppressions.cs](#diff-defa6e7f825789b03840fbc01aa6dee7485d401f8e247cf527e9afc05cfed216 "Whisper.net/GlobalSuppressions.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/GlobalSuppressions.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,5 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Diagnostics.CodeAnalysis; |
|  |  |  |
|  |  | \[assembly:SuppressMessage("Interoperability","SYSLIB1054:Use 'LibraryImportAttribute' instead of 'DllImportAttribute' to generate P/Invoke marshalling code at compile time",Justification="Not supported in netstandard, might need to use 2 versions",Scope="member",Target="~M:Whisper.net.Native.NativeMethods.whisper\_init\_state(System.IntPtr)~System.IntPtr")\] |

13 changes: 3 additions & 10 deletions
13 [Whisper.net/Internals/ModelLoader/WhisperProcessorModelBufferLoader.cs](#diff-6f1e580d37e786b820ece2a878302efbbfa0991f4501f72f121bc186184e5fe5 "Whisper.net/Internals/ModelLoader/WhisperProcessorModelBufferLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Internals/ModelLoader/WhisperProcessorModelBufferLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-6f1e580d37e786b820ece2a878302efbbfa0991f4501f72f121bc186184e5fe5) Expand Up | @@ -5,16 +5,9 @@ |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.ModelLoader; |
|  |  |  |
|  |  | internalclassWhisperProcessorModelBufferLoader:IWhisperProcessorModelLoader |
|  |  | internalclassWhisperProcessorModelBufferLoader(byte\[\]buffer,booluseGpu):IWhisperProcessorModelLoader |
|  |  | { |
|  |  | privatereadonlybyte\[\]buffer; |
|  |  | privatereadonlyGCHandlepinnedBuffer; |
|  |  |  |
|  |  | publicWhisperProcessorModelBufferLoader(byte\[\]buffer) |
|  |  | { |
|  |  | this.buffer=buffer; |
|  |  | pinnedBuffer=GCHandle.Alloc(buffer,GCHandleType.Pinned); |
|  |  | } |
|  |  | privatereadonlyGCHandlepinnedBuffer=GCHandle.Alloc(buffer,GCHandleType.Pinned); |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
| [Expand All](#diff-6f1e580d37e786b820ece2a878302efbbfa0991f4501f72f121bc186184e5fe5) Expand All | @@ -24,6 +17,6 @@ public void Dispose() |
|  |  | publicIntPtrLoadNativeContext() |
|  |  | { |
|  |  | varbufferLength=newUIntPtr((uint)buffer.Length); |
|  |  | returnNativeMethods.whisper\_init\_from\_buffer\_no\_state(pinnedBuffer.AddrOfPinnedObject(),bufferLength); |
|  |  | returnNativeMethods.whisper\_init\_from\_buffer\_with\_params\_no\_state(pinnedBuffer.AddrOfPinnedObject(),bufferLength,newWhisperContextParams(){UseGpu=useGpu?(byte)1:(byte)0}); |
|  |  | } |
|  |  | } |

6 changes: 4 additions & 2 deletions
6 [Whisper.net/Internals/ModelLoader/WhisperProcessorModelFileLoader.cs](#diff-3e1dad649bdb65ad3225773c49cacc52ab8606bc08303b0b6094df6b7def9803 "Whisper.net/Internals/ModelLoader/WhisperProcessorModelFileLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Internals/ModelLoader/WhisperProcessorModelFileLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-3e1dad649bdb65ad3225773c49cacc52ab8606bc08303b0b6094df6b7def9803) Expand Up | @@ -7,10 +7,12 @@ namespace Whisper.net.Internals.ModelLoader; |
|  |  | internalsealedclassWhisperProcessorModelFileLoader:IWhisperProcessorModelLoader |
|  |  | { |
|  |  | privatereadonlystringpathModel; |
|  |  | privatereadonlybooluseGpu; |
|  |  |  |
|  |  | publicWhisperProcessorModelFileLoader(stringpathModel) |
|  |  | publicWhisperProcessorModelFileLoader(stringpathModel,booluseGpu) |
|  |  | { |
|  |  | this.pathModel=pathModel; |
|  |  | this.useGpu=useGpu; |
|  |  | } |
|  |  |  |
|  |  | publicvoidDispose() |
| [Expand All](#diff-3e1dad649bdb65ad3225773c49cacc52ab8606bc08303b0b6094df6b7def9803) Expand All | @@ -20,6 +22,6 @@ public void Dispose() |
|  |  |  |
|  |  | publicIntPtrLoadNativeContext() |
|  |  | { |
|  |  | returnNativeMethods.whisper\_init\_from\_file\_no\_state(pathModel); |
|  |  | returnNativeMethods.whisper\_init\_from\_file\_with\_params\_no\_state(pathModel,newWhisperContextParams(){UseGpu=useGpu?(byte)1:(byte)0}); |
|  |  | } |
|  |  | } |

36 changes: 35 additions & 1 deletion
36 [Whisper.net/Internals/Native/Data.cs](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958 "Whisper.net/Internals/Native/Data.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Internals/Native/Data.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand Up | @@ -26,6 +26,13 @@ internal struct WhisperParamBeamSearch |
|  |  | publicfloatPatience; |
|  |  | } |
|  |  |  |
|  |  | internalenumGgmlLogLevel |
|  |  | { |
|  |  | Error=2, |
|  |  | Warning=3, |
|  |  | Info=4, |
|  |  | } |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl)\] |
|  |  | internaldelegatevoidWhisperNewSegmentCallback(IntPtrctx,IntPtrstate,intn\_new,IntPtruser\_data); |
|  |  |  |
| [Expand All](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand All | @@ -36,7 +43,19 @@ internal struct WhisperParamBeamSearch |
|  |  | internaldelegatevoidWhisperProgressCallback(IntPtrctx,IntPtrstate,intprogress,IntPtruser\_data); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl)\] |
|  |  | internaldelegateboolWhisperLogitsFilterCallback(IntPtrctx,IntPtrstate,IntPtrtokens,inttokens\_count,IntPtrlogits,IntPtruser\_data); |
|  |  | internaldelegatebyteWhisperLogitsFilterCallback(IntPtrctx,IntPtrstate,IntPtrtokens,inttokens\_count,IntPtrlogits,IntPtruser\_data); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl)\] |
|  |  | internaldelegatebyteWhisperAbortCallback(IntPtruser\_data); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl)\] |
|  |  | internaldelegatevoidWhisperGgmlLogCallback(GgmlLogLevellevel,IntPtrmessage,IntPtruser\_data); |
|  |  |  |
|  |  | \[StructLayout(LayoutKind.Sequential)\] |
|  |  | internalstructWhisperContextParams |
|  |  | { |
|  |  | publicbyteUseGpu; |
|  |  | } |
|  |  |  |
|  |  | \[StructLayout(LayoutKind.Sequential)\] |
|  |  | internalstructWhisperFullParams |
| [Expand All](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand All | @@ -59,6 +78,8 @@ internal struct WhisperFullParams |
|  |  | // Do not use past transcription (if any) as prompt for the decoder |
|  |  | publicbyteNoContext; |
|  |  |  |
|  |  | publicbyteNoTimestamps; |
|  |  |  |
|  |  | //force single segment output (useful for streaming) |
|  |  | publicbyteSingleSegment; |
|  |  |  |
| [Expand Down](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand Down [Expand Up](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand Up | @@ -164,9 +185,22 @@ internal struct WhisperFullParams |
|  |  |  |
|  |  | publicIntPtrOnEncoderBeginUserData; |
|  |  |  |
|  |  | // Called each time before ggml computation starts |
|  |  | publicIntPtrOnAbort; |
|  |  |  |
|  |  | publicIntPtrOnAbortUserData; |
|  |  |  |
|  |  | publicIntPtrLogitsFilterCallback; |
|  |  |  |
|  |  | publicIntPtrLogitsFilterCallbackData; |
|  |  |  |
|  |  | publicIntPtrWhisperGrammarElement; |
|  |  |  |
|  |  | publicUIntPtrNGrammarRules; |
|  |  |  |
|  |  | publicUIntPtrStartGrammarRule; |
|  |  |  |
|  |  | publicfloatGrammarPenalty; |
|  |  | } |
|  |  |  |
|  |  | \[StructLayout(LayoutKind.Sequential)\] |
| [Expand Down](#diff-f994dcb4cbb4972634c72e2b5f227419953255298ca45e82f358e634787ee958) Expand Down |  |

20 changes: 9 additions & 11 deletions
20 [Whisper.net/Internals/Native/NativeMethods.cs](#diff-38a73c09c4cf822531956cdbffab7076dc7565a77cbc828fcfae6d5a319c5640 "Whisper.net/Internals/Native/NativeMethods.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Internals/Native/NativeMethods.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-38a73c09c4cf822531956cdbffab7076dc7565a77cbc828fcfae6d5a319c5640) Expand Up | @@ -14,16 +14,10 @@ internal static class NativeMethods |
|  |  | #endif |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_file(stringpath); |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_file\_with\_params\_no\_state(stringpath,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer(IntPtrbuffer,UIntPtrbuffer\_size); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_file\_no\_state(stringpath); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_no\_state(IntPtrbuffer,UIntPtrbuffer\_size); |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_with\_params\_no\_state(IntPtrbuffer,UIntPtrbuffer\_size,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free(IntPtrcontext); |
| [Expand Down](#diff-38a73c09c4cf822531956cdbffab7076dc7565a77cbc828fcfae6d5a319c5640) Expand Down [Expand Up](#diff-38a73c09c4cf822531956cdbffab7076dc7565a77cbc828fcfae6d5a319c5640) Expand Up | @@ -68,6 +62,10 @@ internal static class NativeMethods |
|  |  | \[return:MarshalAs(UnmanagedType.I1)\] |
|  |  | publicstaticexternboolwhisper\_full\_get\_segment\_speaker\_turn\_next(IntPtrctx,intiSegment); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl)\] |
|  |  | \[return:MarshalAs(UnmanagedType.I1)\] |
|  |  | publicstaticexternboolwhisper\_full\_get\_segment\_speaker\_turn\_next\_from\_state(IntPtrstate,intiSegment); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_tokenize(IntPtrcontext,IntPtrtext,IntPtrtokens,intnMaxTokens); |
|  |  |  |
| [Expand All](#diff-38a73c09c4cf822531956cdbffab7076dc7565a77cbc828fcfae6d5a319c5640) Expand All | @@ -92,12 +90,12 @@ internal static class NativeMethods |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_state(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_ctx\_init\_openvino\_encoder(IntPtrcontext,stringpath,stringdevice,stringcacheDir); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_lang\_id\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  | } |

14 changes: 7 additions & 7 deletions
14 [Whisper.net/LibraryLoader/NativeLibraryLoader.cs](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea "Whisper.net/LibraryLoader/NativeLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/LibraryLoader/NativeLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand Up | @@ -49,11 +49,11 @@ internal static LoadResult LoadNativeLibrary(string? path = default, bool bypass |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Unsupported OS platform, architecture: {RuntimeInformation.OSArchitecture}") |
|  |  | }; |
|  |  |  |
|  |  | var(platform,extension)=Environment.OSVersion.Platformswitch |
|  |  | var(platform,dynamicLibraryName)=Environment.OSVersion.Platformswitch |
|  |  | { |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.Windows)=>("win","dll"), |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.Linux)=>("linux","so"), |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.OSX)=>("osx","dylib"), |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.Windows)=>("win","whisper.dll"), |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.Linux)=>("linux","libwhisper.so"), |
|  |  | \_ whenRuntimeInformation.IsOSPlatform(OSPlatform.OSX)=>("macos","libwhisper.dylib"), |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Unsupported OS platform, architecture: {RuntimeInformation.OSArchitecture}") |
|  |  | }; |
|  |  |  |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -67,8 +67,8 @@ \_ when RuntimeInformation.IsOSPlatform(OSPlatform.OSX) => ("osx", "dylib"), |
|  |  | }.Where(it =>!string.IsNullOrEmpty(it)).FirstOrDefault(); |
|  |  |  |
|  |  | path=string.IsNullOrEmpty(assemblySearchPath) |
|  |  | ?Path.Combine("runtimes",$"{platform}-{architecture}",$"whisper.{extension}") |
|  |  | :Path.Combine(assemblySearchPath,"runtimes",$"{platform}-{architecture}",$"whisper.{extension}"); |
|  |  | ?Path.Combine("runtimes",$"{platform}-{architecture}",dynamicLibraryName) |
|  |  | :Path.Combine(assemblySearchPath,"runtimes",$"{platform}-{architecture}",dynamicLibraryName); |
|  |  |  |
|  |  | } |
|  |  |  |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -87,7 +87,7 @@ \_ when RuntimeInformation.IsOSPlatform(OSPlatform.OSX) => ("osx", "dylib"), |
|  |  | ILibraryLoaderlibraryLoader=platformswitch |
|  |  | { |
|  |  | "win"=>newWindowsLibraryLoader(), |
|  |  | "osx"=>newMacOsLibraryLoader(), |
|  |  | "macos"=>newMacOsLibraryLoader(), |
|  |  | "linux"=>newLinuxLibraryLoader(), |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Currently {platform} platform is not supported") |
|  |  | }; |
| [Expand Down](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand Down |  |

59 changes: 59 additions & 0 deletions
59 [Whisper.net/Logger/LogProvider.cs](#diff-4c6ff3a237b6f413268d08e276a576833d4548599dd99b466ecaaacbd154dc77 "Whisper.net/Logger/LogProvider.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Logger/LogProvider.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,59 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.Logger; |
|  |  | publicclassLogProvider |
|  |  | { |
|  |  |  |
|  |  | privateLogProvider() |
|  |  | { |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Returns the singleton instance of the <see cref="LogProvider"/> class used to log messages from the Whisper library. |
|  |  | /// </summary> |
|  |  | publicstaticLogProviderInstance{get;}=new(); |
|  |  |  |
|  |  | publiceventAction<WhisperLogLevel,string?>?OnLog; |
|  |  |  |
|  |  | internalstaticvoidInitializeLogging() |
|  |  | { |
|  |  | IntPtrfuncPointer; |
|  |  | #if NET6\_0\_OR\_GREATER |
|  |  | unsafe |
|  |  | { |
|  |  | delegate\* unmanaged\[Cdecl\]<GgmlLogLevel,IntPtr,IntPtr,void>onLogging=&LogUnmanaged; |
|  |  | funcPointer=(IntPtr)onLogging; |
|  |  | } |
|  |  | #else |
|  |  | funcPointer=Marshal.GetFunctionPointerForDelegate(logCallback); |
|  |  | #endif |
|  |  | NativeMethods.whisper\_log\_set(funcPointer,IntPtr.Zero); |
|  |  | } |
|  |  |  |
|  |  | #if NET6\_0\_OR\_GREATER |
|  |  | \[UnmanagedCallersOnly(CallConvs=\[typeof(System.Runtime.CompilerServices.CallConvCdecl)\])\] |
|  |  | \# else |
|  |  |  |
|  |  | privatestaticreadonlyWhisperGgmlLogCallbacklogCallback=LogUnmanaged; |
|  |  | #endif |
|  |  | internalstaticvoidLogUnmanaged(GgmlLogLevellevel,IntPtrmessage,IntPtruser\_data) |
|  |  | { |
|  |  | varmessageString=Marshal.PtrToStringAnsi(message); |
|  |  | varmanagedLevel=levelswitch |
|  |  | { |
|  |  | GgmlLogLevel.Error=>WhisperLogLevel.Error, |
|  |  | GgmlLogLevel.Warning=>WhisperLogLevel.Warning, |
|  |  | \_ =>WhisperLogLevel.Info |
|  |  | }; |
|  |  | Log(managedLevel,messageString); |
|  |  | } |
|  |  |  |
|  |  | internalstaticvoidLog(WhisperLogLevellevel,string?message) |
|  |  | { |
|  |  | Instance.OnLog?.Invoke(level,message); |
|  |  | } |
|  |  | } |

9 changes: 9 additions & 0 deletions
9 [Whisper.net/Logger/WhisperLogLevel.cs](#diff-e470f626c2feb2887a61ebf4b504825c6bdb96d48222d97ec13ae8997bf006f1 "Whisper.net/Logger/WhisperLogLevel.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Logger/WhisperLogLevel.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,9 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net.Logger; |
|  |  | publicenumWhisperLogLevel |
|  |  | { |
|  |  | Error, |
|  |  | Warning, |
|  |  | Info |
|  |  | } |

13 changes: 7 additions & 6 deletions
13 [Whisper.net/Whisper.net.csproj](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8 "Whisper.net/Whisper.net.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/Whisper.net.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand Up | @@ -3,8 +3,8 @@ |
|  |  | <PropertyGroup> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <LangVersion>10</LangVersion> |
|  |  | <Version>1.4.7</Version> |
|  |  | <LangVersion>12</LangVersion> |
|  |  | <Version>1.5.0</Version> |
|  |  | <Authors>Sandro Hanea</Authors> |
|  |  | <Description>Cross-platform dotnet bindings for Whisper.</Description> |
|  |  | <PackageProjectUrl>https://github.com/sandrohanea/whisper.net</PackageProjectUrl> |
| [Expand All](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand All | @@ -21,16 +21,17 @@ |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <PropertyGroupCondition="$(\[MSBuild\]::IsOSPlatform('Linux'))"> |
|  |  | <TargetFrameworks>netstandard2.0;netstandard2.1</TargetFrameworks> |
|  |  | <TargetFrameworks>net8.0</TargetFrameworks> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <PropertyGroupCondition="$(\[MSBuild\]::IsOSPlatform('OSX')) Or $(\[MSBuild\]::IsOSPlatform('Windows'))"> |
|  |  | <TargetFrameworks> |
|  |  | net6.0;netstandard2.0;netstandard2.1;net7.0-ios;net7.0-tvos;net7.0-maccatalyst;net7.0-android</TargetFrameworks> |
|  |  | net8.0;net6.0;netstandard2.0;net8.0-ios;net8.0-tvos;net8.0-maccatalyst |
|  |  | </TargetFrameworks> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroupCondition="'$(TargetFramework)' == 'netstandard2.0'"> |
|  |  | <PackageReferenceInclude="Microsoft.Bcl.AsyncInterfaces"Version="7.0.0" /> |
|  |  | <ItemGroupCondition="'$(TargetFramework)' == 'netstandard2.0'"> |
|  |  | <PackageReferenceInclude="Microsoft.Bcl.AsyncInterfaces"Version="8.0.0" /> |
|  |  | <PackageReferenceInclude="System.Memory"Version="4.5.5" /> |
|  |  | <PackageReferenceInclude="System.IO.Compression"Version="4.3.0" /> |
|  |  | <PackageReferenceInclude="System.Net.Http"Version="4.3.4" /> |
| [Expand Down](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand Down |  |

20 changes: 14 additions & 6 deletions
20 [Whisper.net/WhisperFactory.cs](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea "Whisper.net/WhisperFactory.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/WhisperFactory.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand Up | @@ -2,6 +2,7 @@ |
|  |  |  |
|  |  | usingWhisper.net.Internals.ModelLoader; |
|  |  | usingWhisper.net.LibraryLoader; |
|  |  | usingWhisper.net.Logger; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net; |
| [Expand All](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand All | @@ -22,14 +23,19 @@ public sealed class WhisperFactory : IDisposable |
|  |  |  |
|  |  | privatestaticreadonlyLazy<LoadResult>libraryLoaded=new(()=> |
|  |  | { |
|  |  | returnNativeLibraryLoader.LoadNativeLibrary(WhisperFactory.libraryPath,WhisperFactory.bypassLoading); |
|  |  | varlibraryLoaded=NativeLibraryLoader.LoadNativeLibrary(WhisperFactory.libraryPath,WhisperFactory.bypassLoading); |
|  |  | if(libraryLoaded.IsSuccess) |
|  |  | { |
|  |  | LogProvider.InitializeLogging(); |
|  |  | } |
|  |  | returnlibraryLoaded; |
|  |  | },true); |
|  |  |  |
|  |  | privateWhisperFactory(IWhisperProcessorModelLoaderloader,booldelayInit,string?libraryPath=default,boolbypassLoading=false) |
|  |  | { |
|  |  | WhisperFactory.libraryPath=libraryPath; |
|  |  | WhisperFactory.bypassLoading=bypassLoading; |
|  |  |  |
|  |  |  |
|  |  | if(!libraryLoaded.Value.IsSuccess) |
|  |  | { |
|  |  | thrownewException($"Failed to load native whisper library. Error: {libraryLoaded.Value.ErrorMessage}"); |
| [Expand All](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand All | @@ -54,13 +60,14 @@ private WhisperFactory(IWhisperProcessorModelLoader loader, bool delayInit, stri |
|  |  | /// <param name="delayInitialization">A value indicating if the model should be loaded right away or during the first <see cref="CreateBuilder"/> call.</param> |
|  |  | /// <param name="libraryPath">The path to the library</param> |
|  |  | /// <param name="bypassLoading">Bypass loading the library. Use this if you've already loaded the library through other means.</param> |
|  |  | /// <param name="useGpu">A value indicating if the model should be loaded on the GPU or CPU (if runtime with GPU support is installed)</param> |
|  |  | /// <returns>An instance to the same builder.</returns> |
|  |  | /// <remarks> |
|  |  | /// If you don't know where to find a ggml model, you can use <seealso cref="Ggml.WhisperGgmlDownloader"/> which is downloading a model from huggingface.co. |
|  |  | /// </remarks> |
|  |  | publicstaticWhisperFactoryFromPath(stringpath,booldelayInitialization=false,string?libraryPath=default,boolbypassLoading=false) |
|  |  | publicstaticWhisperFactoryFromPath(stringpath,booldelayInitialization=false,string?libraryPath=default,boolbypassLoading=false,booluseGpu=true) |
|  |  | { |
|  |  | returnnewWhisperFactory(newWhisperProcessorModelFileLoader(path),delayInitialization,libraryPath,bypassLoading); |
|  |  | returnnewWhisperFactory(newWhisperProcessorModelFileLoader(path,useGpu),delayInitialization,libraryPath,bypassLoading); |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
| [Expand All](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand All | @@ -70,13 +77,14 @@ public static WhisperFactory FromPath(string path, bool delayInitialization = fa |
|  |  | /// <param name="delayInitialization">A value indicating if the model should be loaded right away or during the first <see cref="CreateBuilder"/> call.</param> |
|  |  | /// <param name="libraryPath">The path to the library</param> |
|  |  | /// <param name="bypassLoading">Bypass loading the library. Use this if you've already loaded the library though other means.</param> |
|  |  | /// <param name="useGpu">A value indicating if the model should be loaded on the GPU or CPU (if runtime with GPU support is installed)</param> |
|  |  | /// <returns>An instance to the same builder.</returns> |
|  |  | /// <remarks> |
|  |  | /// If you don't know where to find a ggml model, you can use <seealso cref="Ggml.WhisperGgmlDownloader"/> which is downloading a model from huggingface.co. |
|  |  | /// </remarks> |
|  |  | publicstaticWhisperFactoryFromBuffer(byte\[\]buffer,booldelayInitialization=false,string?libraryPath=default,boolbypassLoading=false) |
|  |  | publicstaticWhisperFactoryFromBuffer(byte\[\]buffer,booldelayInitialization=false,string?libraryPath=default,boolbypassLoading=false,booluseGpu=true) |
|  |  | { |
|  |  | returnnewWhisperFactory(newWhisperProcessorModelBufferLoader(buffer),delayInitialization,libraryPath,bypassLoading); |
|  |  | returnnewWhisperFactory(newWhisperProcessorModelBufferLoader(buffer,useGpu),delayInitialization,libraryPath,bypassLoading); |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
| [Expand Down](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand Down |  |

35 changes: 34 additions & 1 deletion
35 [Whisper.net/WhisperProcessor.cs](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050 "Whisper.net/WhisperProcessor.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/WhisperProcessor.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Up | @@ -174,9 +174,19 @@ void OnSegmentHandler(SegmentData segmentData) |
|  |  | resetEvent!.Set(); |
|  |  | } |
|  |  |  |
|  |  | boolOnWhisperAbortHandler() |
|  |  | { |
|  |  | if(currentCancellationToken.HasValue&&currentCancellationToken.Value.IsCancellationRequested) |
|  |  | { |
|  |  | returntrue; |
|  |  | } |
|  |  | returnfalse; |
|  |  | } |
|  |  |  |
|  |  | try |
|  |  | { |
|  |  | options.OnSegmentEventHandlers.Add(OnSegmentHandler); |
|  |  | options.WhisperAbortEventHandler=OnWhisperAbortHandler; |
|  |  |  |
|  |  | currentCancellationToken=cancellationToken; |
|  |  | varwhisperTask=ProcessInternalAsync(samples,cancellationToken) |
| [Expand Down](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Down [Expand Up](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Up | @@ -448,6 +458,7 @@ private WhisperFullParams GetWhisperParams() |
|  |  | varmyIntPtrId=newIntPtr(myId); |
|  |  | whisperParams.OnNewSegmentUserData=myIntPtrId; |
|  |  | whisperParams.OnEncoderBeginUserData=myIntPtrId; |
|  |  | whisperParams.OnAbortUserData=myIntPtrId; |
|  |  |  |
|  |  | #if NET6\_0\_OR\_GREATER |
|  |  | unsafe |
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -458,6 +469,9 @@ private WhisperFullParams GetWhisperParams() |
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,IntPtr,IntPtr,byte>onEncoderBeginDelegate=&OnEncoderBeginStatic; |
|  |  | whisperParams.OnEncoderBegin=(IntPtr)onEncoderBeginDelegate; |
|  |  |  |
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,byte>onWhisperAbortDelegate=&OnWhisperAbortStatic; |
|  |  | whisperParams.OnAbort=(IntPtr)onWhisperAbortDelegate; |
|  |  |  |
|  |  | if(options.OnProgressHandlers.Count>0) |
|  |  | { |
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,IntPtr,int,IntPtr,void>onProgressDelegate=&OnProgressStatic; |
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -477,6 +491,11 @@ private WhisperFullParams GetWhisperParams() |
|  |  | gcHandles.Add(gcHandle); |
|  |  | whisperParams.OnEncoderBegin=Marshal.GetFunctionPointerForDelegate(onEncoderBeginDelegate); |
|  |  |  |
|  |  | varonWhisperAbortDelegate=newWhisperAbortCallback(OnWhisperAbortStatic); |
|  |  | gcHandle=GCHandle.Alloc(onWhisperAbortDelegate); |
|  |  | gcHandles.Add(gcHandle); |
|  |  | whisperParams.OnAbort=Marshal.GetFunctionPointerForDelegate(onWhisperAbortDelegate); |
|  |  |  |
|  |  | if(options.OnProgressHandlers.Count>0) |
|  |  | { |
|  |  | varonProgressDelegate=newWhisperProgressCallback(OnProgressStatic); |
| [Expand Down](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Down [Expand Up](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Up | @@ -504,7 +523,21 @@ private WhisperFullParams GetWhisperParams() |
|  |  | } |
|  |  |  |
|  |  | #if NET6\_0\_OR\_GREATER |
|  |  | \[UnmanagedCallersOnly(CallConvs=new\[\]{typeof(CallConvCdecl)})\] |
|  |  | \[UnmanagedCallersOnly(CallConvs=\[typeof(CallConvCdecl)\])\] |
|  |  | #endif |
|  |  | privatestaticbyteOnWhisperAbortStatic(IntPtruserData) |
|  |  | { |
|  |  | if(!processorInstances.TryGetValue(userData.ToInt64(),outvarprocessor)) |
|  |  | { |
|  |  | thrownewException("Couldn't find processor instance for user data"); |
|  |  | } |
|  |  |  |
|  |  | varshouldCancel=processor.options.WhisperAbortEventHandler?.Invoke()??false; |
|  |  | returnshouldCancel?trueByte:falseByte; |
|  |  | } |
|  |  |  |
|  |  | #if NET6\_0\_OR\_GREATER |
|  |  | \[UnmanagedCallersOnly(CallConvs=\[typeof(CallConvCdecl)\])\] |
|  |  | #endif |
|  |  | privatestaticvoidOnNewSegmentStatic(IntPtrctx,IntPtrstate,intnNew,IntPtruserData) |
|  |  | { |
| [Expand Down](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Down |  |

2 changes: 2 additions & 0 deletions
2 [Whisper.net/WhisperProcessorEvents.cs](#diff-8d962f571b86e84685aea84f551bac0da3cc9b3d25c1636af3f750e2961ed72a "Whisper.net/WhisperProcessorEvents.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/WhisperProcessorEvents.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-8d962f571b86e84685aea84f551bac0da3cc9b3d25c1636af3f750e2961ed72a) Expand Up | @@ -8,6 +8,8 @@ namespace Whisper.net; |
|  |  |  |
|  |  | publicdelegateboolOnEncoderBeginEventHandler(EncoderBeginDatae); |
|  |  |  |
|  |  | publicdelegateboolWhisperAbortEventHandler(); |
|  |  |  |
|  |  | publicclassEncoderBeginData |
|  |  | { |
|  |  |  |
| [Expand Down](#diff-8d962f571b86e84685aea84f551bac0da3cc9b3d25c1636af3f750e2961ed72a) Expand Down |  |

9 changes: 6 additions & 3 deletions
9 [Whisper.net/WhisperProcessorOptions.cs](#diff-5caafefd7f3259443d330cd7cf75203c696a3d4c0c794619770b6c56f720d3ac "Whisper.net/WhisperProcessorOptions.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/Whisper.net/WhisperProcessorOptions.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5caafefd7f3259443d330cd7cf75203c696a3d4c0c794619770b6c56f720d3ac) Expand Up | @@ -67,10 +67,13 @@ internal sealed class WhisperProcessorOptions |
|  |  |  |
|  |  | publicfloat?NoSpeechThreshold{get;set;} |
|  |  |  |
|  |  | publicList<OnSegmentEventHandler>OnSegmentEventHandlers{get;set;}=new(); |
|  |  | publicList<OnSegmentEventHandler>OnSegmentEventHandlers{get;set;}=\[\]; |
|  |  |  |
|  |  | publicList<OnProgressHandler>OnProgressHandlers{get;set;}=new(); |
|  |  | publicList<OnProgressHandler>OnProgressHandlers{get;set;}=\[\]; |
|  |  |  |
|  |  | publicList<OnEncoderBeginEventHandler>OnEncoderBeginEventHandlers{get;set;}=\[\]; |
|  |  |  |
|  |  | publicWhisperAbortEventHandler?WhisperAbortEventHandler{get;set;} |
|  |  |  |
|  |  | publicList<OnEncoderBeginEventHandler>OnEncoderBeginEventHandlers{get;set;}=new(); |
|  |  | publicboolComputeProbabilities{get;set;} |
|  |  | } |

9 changes: 0 additions & 9 deletions
9 [build\_windows\_arm.bat](#diff-3f5da61f347fab54e50cca677480d00d4c4f3f3ee5b44c1b84ebddfc52d9f4b1 "build_windows_arm.bat")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/build_windows_arm.bat)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

9 changes: 0 additions & 9 deletions
9 [build\_windows\_arm64.bat](#diff-325fd0566f5b16189ae3ac3e875d4ff67b603bedbbdcc8f906113322dd641241 "build_windows_arm64.bat")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/build_windows_arm64.bat)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

9 changes: 0 additions & 9 deletions
9 [build\_windows\_x64.bat](#diff-7fdefde3e38e1e7faf30eb6b591b014f88f3acc321fc4981a82cbab961bb39e6 "build_windows_x64.bat")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/build_windows_x64.bat)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

9 changes: 0 additions & 9 deletions
9 [build\_windows\_x86.bat](#diff-9277a42fd28fa219f7630d3fca95dc5e2c66303beddcb68b0f5b7421b831fea8 "build_windows_x86.bat")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/build_windows_x86.bat)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

1 change: 1 addition & 0 deletions
1 [dump.txt](#diff-b8f6a3a215830a152442b52e6062d2761bd4f1d879d3005f280eae0055187f85 "dump.txt")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/dump.txt)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1 @@ |
|  |  | test |

18 changes: 18 additions & 0 deletions
18 [examples/BlazorApp/BlazorApp.Client/BlazorApp.Client.csproj](#diff-dac16f167a4de3a274091683f1f8ed8a8dbd38bb5d963062cf5250b09150b748 "examples/BlazorApp/BlazorApp.Client/BlazorApp.Client.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp.Client/BlazorApp.Client.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,18 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk.BlazorWebAssembly"> |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <NoDefaultLaunchSettingsFile>true</NoDefaultLaunchSettingsFile> |
|  |  | <StaticWebAssetProjectMode>Default</StaticWebAssetProjectMode> |
|  |  | <WasmBuildNative>true</WasmBuildNative> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="Microsoft.AspNetCore.Components.WebAssembly"Version="8.0.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | </Project> |

22 changes: 12 additions & 10 deletions
22 [examples/BlazorWasm/Pages/Index.razor → ...orApp.Client/Pages/WhisperComponent.razor](#diff-66c1bcb9345784e9bc85419eb52982dd5f7a33aa6559cdce7da37999e9e8c6f7 "examples/BlazorWasm/Pages/Index.razor → examples/BlazorApp/BlazorApp.Client/Pages/WhisperComponent.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp.Client/Pages/WhisperComponent.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,15 +1,12 @@ |
|  |  | @page "/" |
|  |  | @usingSystem.Text; |
|  |  | @usingWhisper.net; |
|  |  | @usingWhisper.net.Ggml; |
|  |  | @usingSystem.Text |
|  |  | @usingWhisper.net |
|  |  | @usingWhisper.net.Ggml |
|  |  |  |
|  |  | <PageTitle>Index</PageTitle> |
|  |  |  |
|  |  | <h1>Whisper.net blazor sample with Wasm</h1> |
|  |  | <h1>Whisper.net component which doesn't care if it is executed in client or in server</h1> |
|  |  |  |
|  |  | In order to create a transcript, just select a wave file with 16kHz sample rate, in the input file below and wait for the result. |
|  |  |  |
|  |  | @if(whisperProcessor==null) |
|  |  | @if(whisperProcessor==null) |
|  |  | { |
|  |  | <p>Loading...</p> |
|  |  | } |
| [Expand All](#diff-66c1bcb9345784e9bc85419eb52982dd5f7a33aa6559cdce7da37999e9e8c6f7) Expand All | @@ -31,8 +28,13 @@ else |
|  |  | privatestaticWhisperFactory?whisperFactory=null; |
|  |  | privatestringtxtResult=string.Empty; |
|  |  |  |
|  |  | protectedoverrideasyncTaskOnInitializedAsync() |
|  |  | protectedoverrideasyncTaskOnAfterRenderAsync(boolfirstRender) |
|  |  | { |
|  |  | if (!firstRender) |
|  |  | { |
|  |  | return; |
|  |  | } |
|  |  |  |
|  |  | if (whisperFactory==null) |
|  |  | { |
|  |  | usingvarmemoryStream=newMemoryStream(); |
| [Expand All](#diff-66c1bcb9345784e9bc85419eb52982dd5f7a33aa6559cdce7da37999e9e8c6f7) Expand All | @@ -44,7 +46,7 @@ else |
|  |  | if (whisperProcessor==null) |
|  |  | { |
|  |  | whisperProcessor=whisperFactory.CreateBuilder() |
|  |  | .WithLanguage("en") |
|  |  | .WithLanguage("en") |
|  |  | .Build(); |
|  |  | StateHasChanged(); |
|  |  | } |
| [Expand Down](#diff-66c1bcb9345784e9bc85419eb52982dd5f7a33aa6559cdce7da37999e9e8c6f7) Expand Down |  |

6 changes: 6 additions & 0 deletions
6 [examples/BlazorApp/BlazorApp.Client/Pages/WhisperInteractiveAuto.razor](#diff-243bf3a6c28f9c70f9ce02823dc50089a85636b88f5ef9479a3949051c3ddc99 "examples/BlazorApp/BlazorApp.Client/Pages/WhisperInteractiveAuto.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp.Client/Pages/WhisperInteractiveAuto.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,6 @@ |
|  |  | @page "/whisper-auto" |
|  |  | @rendermode InteractiveAuto |
|  |  |  |
|  |  | <h1>Whisper.net blazor sample with InteractiveAuto: both wasm and server</h1> |
|  |  |  |
|  |  | <WhisperComponent /> |

6 changes: 6 additions & 0 deletions
6 [examples/BlazorApp/BlazorApp.Client/Pages/WhisperWasm.razor](#diff-033d03b537bf670f3ba32811c233424bdffe8469d022f87222b53b12b8b2156f "examples/BlazorApp/BlazorApp.Client/Pages/WhisperWasm.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp.Client/Pages/WhisperWasm.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,6 @@ |
|  |  | @page "/whisper-wasm" |
|  |  | @rendermode InteractiveWebAssembly |
|  |  |  |
|  |  | <h1>Whisper.net blazor sample with InteractiveWebAssembly: runs in the browser</h1> |
|  |  |  |
|  |  | <WhisperComponent /> |

7 changes: 7 additions & 0 deletions
7 [examples/BlazorApp/BlazorApp.Client/Program.cs](#diff-2f6bab65f8202997f42aa69db1ba2c5221878b97df219bf122027dd7fc02c2c8 "examples/BlazorApp/BlazorApp.Client/Program.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp.Client/Program.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,7 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingMicrosoft.AspNetCore.Components.WebAssembly.Hosting; |
|  |  |  |
|  |  | varbuilder=WebAssemblyHostBuilder.CreateDefault(args); |
|  |  |  |
|  |  | awaitbuilder.Build().RunAsync(); |

5 changes: 2 additions & 3 deletions
5 [examples/BlazorWasm/\_Imports.razor → ...BlazorApp/BlazorApp.Client/\_Imports.razor](#diff-d2217a3c1ef1c9f192ac825084209811c5148a7ae2ee22359714222330b10949 "examples/BlazorWasm/_Imports.razor → examples/BlazorApp/BlazorApp.Client/_Imports.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp.Client/_Imports.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d2217a3c1ef1c9f192ac825084209811c5148a7ae2ee22359714222330b10949) Expand Up | @@ -3,8 +3,7 @@ |
|  |  | @usingMicrosoft.AspNetCore.Components.Forms |
|  |  | @usingMicrosoft.AspNetCore.Components.Routing |
|  |  | @usingMicrosoft.AspNetCore.Components.Web |
|  |  | @usingstaticMicrosoft.AspNetCore.Components.Web.RenderMode |
|  |  | @usingMicrosoft.AspNetCore.Components.Web.Virtualization |
|  |  | @usingMicrosoft.AspNetCore.Components.WebAssembly.Http |
|  |  | @usingMicrosoft.JSInterop |
|  |  | @usingBlazorWasm |
|  |  | @usingBlazorWasm.Shared |
|  |  | @usingBlazorApp.Client |

8 changes: 8 additions & 0 deletions
8 [examples/BlazorApp/BlazorApp.Client/wwwroot/appsettings.Development.json](#diff-cbe50e61205dde96f39007528d4d001aad84323c59e514a3fcffb92c9d13c7cf "examples/BlazorApp/BlazorApp.Client/wwwroot/appsettings.Development.json")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp.Client/wwwroot/appsettings.Development.json)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,8 @@ |
|  |  | { |
|  |  | "Logging": { |
|  |  | "LogLevel": { |
|  |  | "Default": "Information", |
|  |  | "Microsoft.AspNetCore": "Warning" |
|  |  | } |
|  |  | } |
|  |  | } |

8 changes: 8 additions & 0 deletions
8 [examples/BlazorApp/BlazorApp.Client/wwwroot/appsettings.json](#diff-30c9d64d1ad0ac7d4bf4704706d4adadcce5614cf7fb229808f08f7fb862a2b5 "examples/BlazorApp/BlazorApp.Client/wwwroot/appsettings.json")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp.Client/wwwroot/appsettings.json)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,8 @@ |
|  |  | { |
|  |  | "Logging": { |
|  |  | "LogLevel": { |
|  |  | "Default": "Information", |
|  |  | "Microsoft.AspNetCore": "Warning" |
|  |  | } |
|  |  | } |
|  |  | } |

14 changes: 14 additions & 0 deletions
14 [examples/BlazorApp/BlazorApp/BlazorApp.csproj](#diff-4e2337db692b8e5561fa265be01d141d0eebbcc6eb185a9804659fcc1e1ed700 "examples/BlazorApp/BlazorApp/BlazorApp.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/BlazorApp.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,14 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk.Web"> |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <Nullable>enable</Nullable> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <ProjectReferenceInclude="..\\BlazorApp.Client\\BlazorApp.Client.csproj" /> |
|  |  | <PackageReferenceInclude="Microsoft.AspNetCore.Components.WebAssembly.Server"Version="8.0.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | </Project> |

20 changes: 20 additions & 0 deletions
20 [examples/BlazorApp/BlazorApp/Components/App.razor](#diff-d7ee5387b80206e0ed0c05b4f394b985ca2f1f02a89198d8b287f71ee75a8ca6 "examples/BlazorApp/BlazorApp/Components/App.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/App.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,20 @@ |
|  |  | <!DOCTYPE html> |
|  |  | <htmllang="en"> |
|  |  |  |
|  |  | <head> |
|  |  | <metacharset="utf-8" /> |
|  |  | <metaname="viewport"content="width=device-width, initial-scale=1.0" /> |
|  |  | <basehref="/" /> |
|  |  | <linkrel="stylesheet"href="bootstrap/bootstrap.min.css" /> |
|  |  | <linkrel="stylesheet"href="app.css" /> |
|  |  | <linkrel="stylesheet"href="BlazorApp.styles.css" /> |
|  |  | <linkrel="icon"type="image/png"href="favicon.png" /> |
|  |  | <HeadOutlet /> |
|  |  | </head> |
|  |  |  |
|  |  | <body> |
|  |  | <Routes /> |
|  |  | <scriptsrc="\_framework/blazor.web.js"></script> |
|  |  | </body> |
|  |  |  |
|  |  | </html> |

8 changes: 7 additions & 1 deletion
8 [examples/BlazorWasm/Shared/MainLayout.razor → ...zorApp/Components/Layout/MainLayout.razor](#diff-c491a4eaa33159a27abe62b8318c1d3479a27380643cf4e409537d7e90f5ebc6 "examples/BlazorWasm/Shared/MainLayout.razor → examples/BlazorApp/BlazorApp/Components/Layout/MainLayout.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/Layout/MainLayout.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-c491a4eaa33159a27abe62b8318c1d3479a27380643cf4e409537d7e90f5ebc6) Expand Up | @@ -7,11 +7,17 @@ |
|  |  |  |
|  |  | <main> |
|  |  | <divclass="top-row px-4"> |
|  |  | <ahref="https://docs.microsoft.com/aspnet/"target="\_blank">About</a> |
|  |  | <ahref="https://learn.microsoft.com/aspnet/core/"target="\_blank">About</a> |
|  |  | </div> |
|  |  |  |
|  |  | <articleclass="content px-4"> |
|  |  | @Body |
|  |  | </article> |
|  |  | </main> |
|  |  | </div> |
|  |  |  |
|  |  | <divid="blazor-error-ui"> |
|  |  | An unhandled error has occurred. |
|  |  | <ahref=""class="reload">Reload</a> |
|  |  | <aclass="dismiss">🗙</a> |
|  |  | </div> |

25 changes: 20 additions & 5 deletions
25 [...es/BlazorWasm/Shared/MainLayout.razor.css → ...pp/Components/Layout/MainLayout.razor.css](#diff-88e8560ff6b7be5aaab2da2f24e96fd36fae1465b62ff6e887750dc9e8c4d77a "examples/BlazorWasm/Shared/MainLayout.razor.css → examples/BlazorApp/BlazorApp/Components/Layout/MainLayout.razor.css")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/Layout/MainLayout.razor.css)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-88e8560ff6b7be5aaab2da2f24e96fd36fae1465b62ff6e887750dc9e8c4d77a) Expand Up | @@ -37,11 +37,7 @@ main { |
|  |  | } |
|  |  |  |
|  |  | @media (max-width:640.98px) { |
|  |  | .top-row:not(.auth) { |
|  |  | display: none; |
|  |  | } |
|  |  |  |
|  |  | .top-row.auth { |
|  |  | .top-row { |
|  |  | justify-content: space-between; |
|  |  | } |
|  |  |  |
| [Expand Down](#diff-88e8560ff6b7be5aaab2da2f24e96fd36fae1465b62ff6e887750dc9e8c4d77a) Expand Down [Expand Up](#diff-88e8560ff6b7be5aaab2da2f24e96fd36fae1465b62ff6e887750dc9e8c4d77a) Expand Up | @@ -79,3 +75,22 @@ main { |
|  |  | padding-right:1.5rem!important; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | #blazor-error-ui { |
|  |  | background: lightyellow; |
|  |  | bottom:0; |
|  |  | box-shadow:0-1px2pxrgba(0,0,0,0.2); |
|  |  | display: none; |
|  |  | left:0; |
|  |  | padding:0.6rem1.25rem0.7rem1.25rem; |
|  |  | position: fixed; |
|  |  | width:100%; |
|  |  | z-index:1000; |
|  |  | } |
|  |  |  |
|  |  | #blazor-error-ui .dismiss { |
|  |  | cursor: pointer; |
|  |  | position: absolute; |
|  |  | right:0.75rem; |
|  |  | top:0.5rem; |
|  |  | } |

37 changes: 37 additions & 0 deletions
37 [examples/BlazorApp/BlazorApp/Components/Layout/NavMenu.razor](#diff-239302588e303605174b37ea904bebf7420c7ada02420d1cea7917ab4006b0b8 "examples/BlazorApp/BlazorApp/Components/Layout/NavMenu.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/Layout/NavMenu.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,37 @@ |
|  |  | <divclass="top-row ps-3 navbar navbar-dark"> |
|  |  | <divclass="container-fluid"> |
|  |  | <aclass="navbar-brand"href="">BlazorApp</a> |
|  |  | </div> |
|  |  | </div> |
|  |  |  |
|  |  | <inputtype="checkbox"title="Navigation menu"class="navbar-toggler" /> |
|  |  |  |
|  |  | <divclass="nav-scrollable"onclick="document.querySelector('.navbar-toggler').click()"> |
|  |  | <navclass="flex-column"> |
|  |  | <divclass="nav-item px-3"> |
|  |  | <NavLinkclass="nav-link"href=""Match="NavLinkMatch.All"> |
|  |  | <spanclass="bi bi-house-door-fill-nav-menu"aria-hidden="true"></span\> Home |
|  |  | </NavLink> |
|  |  | </div> |
|  |  |  |
|  |  | <divclass="nav-item px-3"> |
|  |  | <NavLinkclass="nav-link"href="whisper-auto"> |
|  |  | <spanclass="bi bi-plus-square-fill-nav-menu"aria-hidden="true"></span\> Whisper Auto |
|  |  | </NavLink> |
|  |  | </div> |
|  |  |  |
|  |  | <divclass="nav-item px-3"> |
|  |  | <NavLinkclass="nav-link"href="whisper-wasm"> |
|  |  | <spanclass="bi bi-plus-square-fill-nav-menu"aria-hidden="true"></span\> Whisper Wasm |
|  |  | </NavLink> |
|  |  | </div> |
|  |  |  |
|  |  | <divclass="nav-item px-3"> |
|  |  | <NavLinkclass="nav-link"href="whisper-server"> |
|  |  | <spanclass="bi bi-plus-square-fill-nav-menu"aria-hidden="true"></span\> Whisper Server |
|  |  | </NavLink> |
|  |  | </div> |
|  |  |  |
|  |  | </nav> |
|  |  | </div> |
|  |  |  |

105 changes: 105 additions & 0 deletions
105 [examples/BlazorApp/BlazorApp/Components/Layout/NavMenu.razor.css](#diff-a9bbea0dfa6ac70ea4ba0e70f916c1823477674d2e86bbc076a8307dfdeb6e3d "examples/BlazorApp/BlazorApp/Components/Layout/NavMenu.razor.css")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/Layout/NavMenu.razor.css)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,105 @@ |
|  |  | .navbar-toggler { |
|  |  | appearance: none; |
|  |  | cursor: pointer; |
|  |  | width:3.5rem; |
|  |  | height:2.5rem; |
|  |  | color: white; |
|  |  | position: absolute; |
|  |  | top:0.5rem; |
|  |  | right:1rem; |
|  |  | border:1px solid rgba(255,255,255,0.1); |
|  |  | background:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") no-repeat center/1.75rem rgba(255,255,255,0.1); |
|  |  | } |
|  |  |  |
|  |  | .navbar-toggler:checked { |
|  |  | background-color:rgba(255,255,255,0.5); |
|  |  | } |
|  |  |  |
|  |  | .top-row { |
|  |  | height:3.5rem; |
|  |  | background-color:rgba(0,0,0,0.4); |
|  |  | } |
|  |  |  |
|  |  | .navbar-brand { |
|  |  | font-size:1.1rem; |
|  |  | } |
|  |  |  |
|  |  | .bi { |
|  |  | display: inline-block; |
|  |  | position: relative; |
|  |  | width:1.25rem; |
|  |  | height:1.25rem; |
|  |  | margin-right:0.75rem; |
|  |  | top:-1px; |
|  |  | background-size: cover; |
|  |  | } |
|  |  |  |
|  |  | .bi-house-door-fill-nav-menu { |
|  |  | background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-house-door-fill' viewBox='0 0 16 16'%3E%3Cpath d='M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5Z'/%3E%3C/svg%3E"); |
|  |  | } |
|  |  |  |
|  |  | .bi-plus-square-fill-nav-menu { |
|  |  | background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-plus-square-fill' viewBox='0 0 16 16'%3E%3Cpath d='M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3a.5.5 0 0 1 1 0z'/%3E%3C/svg%3E"); |
|  |  | } |
|  |  |  |
|  |  | .bi-list-nested-nav-menu { |
|  |  | background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-list-nested' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M4.5 11.5A.5.5 0 0 1 5 11h10a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 1 3h10a.5.5 0 0 1 0 1H1a.5.5 0 0 1-.5-.5z'/%3E%3C/svg%3E"); |
|  |  | } |
|  |  |  |
|  |  | .nav-item { |
|  |  | font-size:0.9rem; |
|  |  | padding-bottom:0.5rem; |
|  |  | } |
|  |  |  |
|  |  | .nav-item:first-of-type { |
|  |  | padding-top:1rem; |
|  |  | } |
|  |  |  |
|  |  | .nav-item:last-of-type { |
|  |  | padding-bottom:1rem; |
|  |  | } |
|  |  |  |
|  |  | .nav-item ::deep .nav-link { |
|  |  | color:#d7d7d7; |
|  |  | background: none; |
|  |  | border: none; |
|  |  | border-radius:4px; |
|  |  | height:3rem; |
|  |  | display: flex; |
|  |  | align-items: center; |
|  |  | line-height:3rem; |
|  |  | width:100%; |
|  |  | } |
|  |  |  |
|  |  | .nav-item ::deepa.active { |
|  |  | background-color:rgba(255,255,255,0.37); |
|  |  | color: white; |
|  |  | } |
|  |  |  |
|  |  | .nav-item ::deep .nav-link:hover { |
|  |  | background-color:rgba(255,255,255,0.1); |
|  |  | color: white; |
|  |  | } |
|  |  |  |
|  |  | .nav-scrollable { |
|  |  | display: none; |
|  |  | } |
|  |  |  |
|  |  | .navbar-toggler:checked~ .nav-scrollable { |
|  |  | display: block; |
|  |  | } |
|  |  |  |
|  |  | @media (min-width:641px) { |
|  |  | .navbar-toggler { |
|  |  | display: none; |
|  |  | } |
|  |  |  |
|  |  | .nav-scrollable { |
|  |  | /\\* Never collapse the sidebar for wide screens \*/ |
|  |  | display: block; |
|  |  |  |
|  |  | /\\* Allow sidebar to scroll for tall menus \*/ |
|  |  | height:calc(100vh-3.5rem); |
|  |  | overflow-y: auto; |
|  |  | } |
|  |  | } |

36 changes: 36 additions & 0 deletions
36 [examples/BlazorApp/BlazorApp/Components/Pages/Error.razor](#diff-1fde46848966e3a827d11c53c8a112ed138d1abfd7a920c2392c22a31e42532e "examples/BlazorApp/BlazorApp/Components/Pages/Error.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/Pages/Error.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,36 @@ |
|  |  | @page "/Error" |
|  |  | @usingSystem.Diagnostics |
|  |  |  |
|  |  | <PageTitle>Error</PageTitle> |
|  |  |  |
|  |  | <h1class="text-danger">Error.</h1> |
|  |  | <h2class="text-danger">An error occurred while processing your request.</h2> |
|  |  |  |
|  |  | @if (ShowRequestId) |
|  |  | { |
|  |  | <p> |
|  |  | <strong>RequestID:</strong\> <code>@RequestId</code> |
|  |  | </p> |
|  |  | } |
|  |  |  |
|  |  | <h3>Development Mode</h3> |
|  |  | <p> |
|  |  | Swapping to <strong>Development</strong\> environment will display more detailed information about the error that occurred. |
|  |  | </p> |
|  |  | <p> |
|  |  | <strong>The Development environment shouldn't be enabled for deployed applications.</strong> |
|  |  | It can result in displaying sensitive information from exceptions to end users. |
|  |  | For local debugging, enable the <strong>Development</strong\> environment by setting the <strong>ASPNETCORE\_ENVIRONMENT</strong\> environment variable to <strong>Development</strong> |
|  |  | and restarting the app. |
|  |  | </p> |
|  |  |  |
|  |  | @code{ |
|  |  | \[CascadingParameter\] |
|  |  | privateHttpContext?HttpContext{get; set; } |
|  |  |  |
|  |  | privatestring?RequestId{get; set; } |
|  |  | privateboolShowRequestId=>!string.IsNullOrEmpty(RequestId); |
|  |  |  |
|  |  | protectedoverridevoidOnInitialized() => |
|  |  | RequestId=Activity.Current?.Id??HttpContext?.TraceIdentifier; |
|  |  | } |

10 changes: 10 additions & 0 deletions
10 [examples/BlazorApp/BlazorApp/Components/Pages/Home.razor](#diff-ddaf7dcc8001f18e312356e1c9eff16c64ac0ae7d10c8eb23c05d3baf2b9cd92 "examples/BlazorApp/BlazorApp/Components/Pages/Home.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/Pages/Home.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,10 @@ |
|  |  | @page "/" |
|  |  |  |
|  |  | <PageTitle>Home</PageTitle> |
|  |  |  |
|  |  | <h1>Hello, world!</h1> |
|  |  |  |
|  |  | This is a simple app which is using Whisper.net <ahref="#"></a> |
|  |  | \- Wasm |
|  |  | \- Server |
|  |  | \- InteractiveAuto |

7 changes: 7 additions & 0 deletions
7 [examples/BlazorApp/BlazorApp/Components/Pages/WhisperServer.razor](#diff-2e9102b6019d353139e36b4a8e479c84b3fe80fa32e0aa5ab524399491950901 "examples/BlazorApp/BlazorApp/Components/Pages/WhisperServer.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/Pages/WhisperServer.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,7 @@ |
|  |  | @page "/whisper-server" |
|  |  | @usingBlazorApp.Client.Pages |
|  |  | @rendermode InteractiveServer |
|  |  |  |
|  |  | <h1>Whisper.net blazor sample with InteractiveServer: runs in the server and streams the result back to the client using web socket</h1> |
|  |  |  |
|  |  | <WhisperComponent /> |

6 changes: 6 additions & 0 deletions
6 [examples/BlazorApp/BlazorApp/Components/Routes.razor](#diff-7a1ff0088667f3bb012651f62b9db24f101eaca939cdc74a1a2942863357c720 "examples/BlazorApp/BlazorApp/Components/Routes.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/Routes.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,6 @@ |
|  |  | <RouterAppAssembly="@typeof(Program).Assembly"AdditionalAssemblies="new\[\] { typeof(Client.\_Imports).Assembly }"> |
|  |  | <FoundContext="routeData"> |
|  |  | <RouteViewRouteData="@routeData"DefaultLayout="@typeof(Layout.MainLayout)" /> |
|  |  | <FocusOnNavigateRouteData="@routeData"Selector="h1" /> |
|  |  | </Found> |
|  |  | </Router> |

11 changes: 11 additions & 0 deletions
11 [examples/BlazorApp/BlazorApp/Components/\_Imports.razor](#diff-e71bfeebe78f837bcfabc0dce6f353320182bd9749e21b8e97b9b6989f14aef8 "examples/BlazorApp/BlazorApp/Components/_Imports.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Components/_Imports.razor)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,11 @@ |
|  |  | @usingSystem.Net.Http |
|  |  | @usingSystem.Net.Http.Json |
|  |  | @usingMicrosoft.AspNetCore.Components.Forms |
|  |  | @usingMicrosoft.AspNetCore.Components.Routing |
|  |  | @usingMicrosoft.AspNetCore.Components.Web |
|  |  | @usingstaticMicrosoft.AspNetCore.Components.Web.RenderMode |
|  |  | @usingMicrosoft.AspNetCore.Components.Web.Virtualization |
|  |  | @usingMicrosoft.JSInterop |
|  |  | @usingBlazorApp |
|  |  | @usingBlazorApp.Client |
|  |  | @usingBlazorApp.Components |

37 changes: 37 additions & 0 deletions
37 [examples/BlazorApp/BlazorApp/Program.cs](#diff-c753a37ff71596566e62d774ef704c5a484fd20d64566bd7ccb3f01fc88676a3 "examples/BlazorApp/BlazorApp/Program.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Program.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,37 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingBlazorApp.Client.Pages; |
|  |  | usingBlazorApp.Components; |
|  |  |  |
|  |  | varbuilder=WebApplication.CreateBuilder(args); |
|  |  |  |
|  |  | // Add services to the container. |
|  |  | builder.Services.AddRazorComponents() |
|  |  | .AddInteractiveServerComponents() |
|  |  | .AddInteractiveWebAssemblyComponents(); |
|  |  |  |
|  |  | varapp=builder.Build(); |
|  |  |  |
|  |  | // Configure the HTTP request pipeline. |
|  |  | if(app.Environment.IsDevelopment()) |
|  |  | { |
|  |  | app.UseWebAssemblyDebugging(); |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | app.UseExceptionHandler("/Error",createScopeForErrors:true); |
|  |  | // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts. |
|  |  | app.UseHsts(); |
|  |  | } |
|  |  |  |
|  |  | app.UseHttpsRedirection(); |
|  |  |  |
|  |  | app.UseStaticFiles(); |
|  |  | app.UseAntiforgery(); |
|  |  |  |
|  |  | app.MapRazorComponents<App>() |
|  |  | .AddInteractiveServerRenderMode() |
|  |  | .AddInteractiveWebAssemblyRenderMode() |
|  |  | .AddAdditionalAssemblies(typeof(WhisperComponent).Assembly); |
|  |  |  |
|  |  | app.Run(); |

41 changes: 41 additions & 0 deletions
41 [examples/BlazorApp/BlazorApp/Properties/launchSettings.json](#diff-5c0474fb93e72f6ea68d9ac31542fa3572c709a72dc735ff1f25eb0005bf111e "examples/BlazorApp/BlazorApp/Properties/launchSettings.json")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/Properties/launchSettings.json)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,41 @@ |
|  |  | { |
|  |  | "$schema": "http://json.schemastore.org/launchsettings.json", |
|  |  | "iisSettings": { |
|  |  | "windowsAuthentication": false, |
|  |  | "anonymousAuthentication": true, |
|  |  | "iisExpress": { |
|  |  | "applicationUrl": "http://localhost:13108", |
|  |  | "sslPort": 44304 |
|  |  | } |
|  |  | }, |
|  |  | "profiles": { |
|  |  | "http": { |
|  |  | "commandName": "Project", |
|  |  | "dotnetRunMessages": true, |
|  |  | "launchBrowser": true, |
|  |  | "inspectUri": "{wsProtocol}://{url.hostname}:{url.port}/\_framework/debug/ws-proxy?browser={browserInspectUri}", |
|  |  | "applicationUrl": "http://localhost:5289", |
|  |  | "environmentVariables": { |
|  |  | "ASPNETCORE\_ENVIRONMENT": "Development" |
|  |  | } |
|  |  | }, |
|  |  | "https": { |
|  |  | "commandName": "Project", |
|  |  | "dotnetRunMessages": true, |
|  |  | "launchBrowser": true, |
|  |  | "inspectUri": "{wsProtocol}://{url.hostname}:{url.port}/\_framework/debug/ws-proxy?browser={browserInspectUri}", |
|  |  | "applicationUrl": "https://localhost:7006;http://localhost:5289", |
|  |  | "environmentVariables": { |
|  |  | "ASPNETCORE\_ENVIRONMENT": "Development" |
|  |  | } |
|  |  | }, |
|  |  | "IIS Express": { |
|  |  | "commandName": "IISExpress", |
|  |  | "launchBrowser": true, |
|  |  | "inspectUri": "{wsProtocol}://{url.hostname}:{url.port}/\_framework/debug/ws-proxy?browser={browserInspectUri}", |
|  |  | "environmentVariables": { |
|  |  | "ASPNETCORE\_ENVIRONMENT": "Development" |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | } |

8 changes: 8 additions & 0 deletions
8 [examples/BlazorApp/BlazorApp/appsettings.Development.json](#diff-4a8176512ddfba1cdb518a14fa6b5ee26dc3ea335aeb77be71f5a75ad3b26423 "examples/BlazorApp/BlazorApp/appsettings.Development.json")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/appsettings.Development.json)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,8 @@ |
|  |  | { |
|  |  | "Logging": { |
|  |  | "LogLevel": { |
|  |  | "Default": "Information", |
|  |  | "Microsoft.AspNetCore": "Warning" |
|  |  | } |
|  |  | } |
|  |  | } |

9 changes: 9 additions & 0 deletions
9 [examples/BlazorApp/BlazorApp/appsettings.json](#diff-f473909cd3ba144ea001a6b3a14a45c1776c2065a046b797d9a3a3516b01a09d "examples/BlazorApp/BlazorApp/appsettings.json")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/appsettings.json)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,9 @@ |
|  |  | { |
|  |  | "Logging": { |
|  |  | "LogLevel": { |
|  |  | "Default": "Information", |
|  |  | "Microsoft.AspNetCore": "Warning" |
|  |  | } |
|  |  | }, |
|  |  | "AllowedHosts": "\*" |
|  |  | } |

50 changes: 9 additions & 41 deletions
50 [examples/BlazorWasm/wwwroot/css/app.css → examples/BlazorApp/BlazorApp/wwwroot/app.css](#diff-a3a1c65a09df83244f968fcb82c117778654ef0e5f142b32776814f743bdf03e "examples/BlazorWasm/wwwroot/css/app.css → examples/BlazorApp/BlazorApp/wwwroot/app.css")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/wwwroot/app.css)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,15 +1,9 @@ |
|  |  | @importurl('open-iconic/font/css/open-iconic-bootstrap.min.css'); |
|  |  |  |
|  |  | html,body { |
|  |  | font-family:'Helvetica Neue', Helvetica, Arial, sans-serif; |
|  |  | } |
|  |  |  |
|  |  | h1:focus { |
|  |  | outline: none; |
|  |  | } |
|  |  |  |
|  |  | a, .btn-link { |
|  |  | color:#0071c1; |
|  |  | color:#006bb7; |
|  |  | } |
|  |  |  |
|  |  | .btn-primary { |
| [Expand All](#diff-a3a1c65a09df83244f968fcb82c117778654ef0e5f142b32776814f743bdf03e) Expand All | @@ -26,19 +20,22 @@ a, .btn-link { |
|  |  | padding-top:1.1rem; |
|  |  | } |
|  |  |  |
|  |  | h1:focus { |
|  |  | outline: none; |
|  |  | } |
|  |  |  |
|  |  | .valid.modified:not(\[type=checkbox\]) { |
|  |  | outline:1px solid #26b050; |
|  |  | } |
|  |  |  |
|  |  | .invalid { |
|  |  | outline:1px solid red; |
|  |  | outline:1px solid #e50000; |
|  |  | } |
|  |  |  |
|  |  | .validation-message { |
|  |  | color:red; |
|  |  | color:#e50000; |
|  |  | } |
|  |  |  |
|  |  |  |
|  |  | .blazor-error-boundary { |
|  |  | background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYiIGhlaWdodD0iNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIG92ZXJmbG93PSJoaWRkZW4iPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcDAiPjxyZWN0IHg9IjIzNSIgeT0iNTEiIHdpZHRoPSI1NiIgaGVpZ2h0PSI0OSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzUgLTUxKSI+PHBhdGggZD0iTTI2My41MDYgNTFDMjY0LjcxNyA1MSAyNjUuODEzIDUxLjQ4MzcgMjY2LjYwNiA1Mi4yNjU4TDI2Ny4wNTIgNTIuNzk4NyAyNjcuNTM5IDUzLjYyODMgMjkwLjE4NSA5Mi4xODMxIDI5MC41NDUgOTIuNzk1IDI5MC42NTYgOTIuOTk2QzI5MC44NzcgOTMuNTEzIDI5MSA5NC4wODE1IDI5MSA5NC42NzgyIDI5MSA5Ny4wNjUxIDI4OS4wMzggOTkgMjg2LjYxNyA5OUwyNDAuMzgzIDk5QzIzNy45NjMgOTkgMjM2IDk3LjA2NTEgMjM2IDk0LjY3ODIgMjM2IDk0LjM3OTkgMjM2LjAzMSA5NC4wODg2IDIzNi4wODkgOTMuODA3MkwyMzYuMzM4IDkzLjAxNjIgMjM2Ljg1OCA5Mi4xMzE0IDI1OS40NzMgNTMuNjI5NCAyNTkuOTYxIDUyLjc5ODUgMjYwLjQwNyA1Mi4yNjU4QzI2MS4yIDUxLjQ4MzcgMjYyLjI5NiA1MSAyNjMuNTA2IDUxWk0yNjMuNTg2IDY2LjAxODNDMjYwLjczNyA2Ni4wMTgzIDI1OS4zMTMgNjcuMTI0NSAyNTkuMzEzIDY5LjMzNyAyNTkuMzEzIDY5LjYxMDIgMjU5LjMzMiA2OS44NjA4IDI1OS4zNzEgNzAuMDg4N0wyNjEuNzk1IDg0LjAxNjEgMjY1LjM4IDg0LjAxNjEgMjY3LjgyMSA2OS43NDc1QzI2Ny44NiA2OS43MzA5IDI2Ny44NzkgNjkuNTg3NyAyNjcuODc5IDY5LjMxNzkgMjY3Ljg3OSA2Ny4xMTgyIDI2Ni40NDggNjYuMDE4MyAyNjMuNTg2IDY2LjAxODNaTTI2My41NzYgODYuMDU0N0MyNjEuMDQ5IDg2LjA1NDcgMjU5Ljc4NiA4Ny4zMDA1IDI1OS43ODYgODkuNzkyMSAyNTkuNzg2IDkyLjI4MzcgMjYxLjA0OSA5My41Mjk1IDI2My41NzYgOTMuNTI5NSAyNjYuMTE2IDkzLjUyOTUgMjY3LjM4NyA5Mi4yODM3IDI2Ny4zODcgODkuNzkyMSAyNjcuMzg3IDg3LjMwMDUgMjY2LjExNiA4Ni4wNTQ3IDI2My41NzYgODYuMDU0N1oiIGZpbGw9IiNGRkU1MDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvZz48L3N2Zz4=) no-repeat 1rem/1.8rem,#b32121; |
|  |  | padding:1rem1rem1rem3.7rem; |
| [Expand All](#diff-a3a1c65a09df83244f968fcb82c117778654ef0e5f142b32776814f743bdf03e) Expand All | @@ -49,35 +46,6 @@ a, .btn-link { |
|  |  | content:"An error has occurred." |
|  |  | } |
|  |  |  |
|  |  | .loading-progress { |
|  |  | position: relative; |
|  |  | display: block; |
|  |  | width:8rem; |
|  |  | height:8rem; |
|  |  | margin:20vh auto 1rem auto; |
|  |  | } |
|  |  |  |
|  |  | .loading-progresscircle { |
|  |  | fill: none; |
|  |  | stroke:#e0e0e0; |
|  |  | stroke-width:0.6rem; |
|  |  | transform-origin:50%50%; |
|  |  | transform:rotate(-90deg); |
|  |  | } |
|  |  |  |
|  |  | .loading-progresscircle:last-child { |
|  |  | stroke:#1b6ec2; |
|  |  | stroke-dasharray:calc(3.141\*var(--blazor-load-percentage,0%) \*0.8),500%; |
|  |  | transition: stroke-dasharray 0.05s ease-in-out; |
|  |  | } |
|  |  |  |
|  |  | .loading-progress-text { |
|  |  | position: absolute; |
|  |  | text-align: center; |
|  |  | font-weight: bold; |
|  |  | inset:calc(20vh+3.25rem) 0 auto 0.2rem; |
|  |  | .darker-border-checkbox.form-check-input { |
|  |  | border-color:#929292; |
|  |  | } |
|  |  |  |
|  |  | .loading-progress-text:after { |
|  |  | content:var(--blazor-load-percentage-text,"Loading"); |
|  |  | } |

0
[...m/wwwroot/css/bootstrap/bootstrap.min.css → ...orApp/wwwroot/bootstrap/bootstrap.min.css](#diff-40034c55d65d3471b84badd5344f40a313db9856e36af6b459f32d109e961d48 "examples/BlazorWasm/wwwroot/css/bootstrap/bootstrap.min.css → examples/BlazorApp/BlazorApp/wwwroot/bootstrap/bootstrap.min.css")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/wwwroot/bootstrap/bootstrap.min.css)
Edit file

Delete file


File renamed without changes.


0
[...wroot/css/bootstrap/bootstrap.min.css.map → ...p/wwwroot/bootstrap/bootstrap.min.css.map](#diff-9e1085f30932ee63806e989dfca370c0896546218df5874414c001c6d050ce50 "examples/BlazorWasm/wwwroot/css/bootstrap/bootstrap.min.css.map → examples/BlazorApp/BlazorApp/wwwroot/bootstrap/bootstrap.min.css.map")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/wwwroot/bootstrap/bootstrap.min.css.map)
Edit file

Delete file


File renamed without changes.


0
[examples/BlazorWasm/wwwroot/favicon.png → ...s/BlazorApp/BlazorApp/wwwroot/favicon.png](#diff-fc1294768f7d91e0c51989033947dcbc9b905606a489d0954d69e44ebb934090 "examples/BlazorWasm/wwwroot/favicon.png → examples/BlazorApp/BlazorApp/wwwroot/favicon.png")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/BlazorApp/BlazorApp/wwwroot/favicon.png)
Edit file

Delete file


File renamed without changes


12 changes: 0 additions & 12 deletions
12 [examples/BlazorWasm/App.razor](#diff-36aed2d51fda9ba2a6881b4993a7dec60d13333eec8ff8d2e9f003356c54bf38 "examples/BlazorWasm/App.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/App.razor)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

17 changes: 0 additions & 17 deletions
17 [examples/BlazorWasm/BlazorWasm.csproj](#diff-826eb1dabe4adb0ee92ffde7e28f1532ccb5ade48d7860f98bcf6a31b8c40ce2 "examples/BlazorWasm/BlazorWasm.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/BlazorWasm.csproj)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

13 changes: 0 additions & 13 deletions
13 [examples/BlazorWasm/Program.cs](#diff-3feab3473747dd5f48a18e175d3c9b165a06817f792a0dbf2ceba290144574c5 "examples/BlazorWasm/Program.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/Program.cs)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

40 changes: 0 additions & 40 deletions
40 [examples/BlazorWasm/Properties/launchSettings.json](#diff-fe6b7dbeb70f2099bb28bf8a093f69743606698248eb0f8c7061d43c8f670faf "examples/BlazorWasm/Properties/launchSettings.json")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/Properties/launchSettings.json)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

29 changes: 0 additions & 29 deletions
29 [examples/BlazorWasm/Shared/NavMenu.razor](#diff-f0d61bf2074ec999165a4d14c9e444969a8a2569c901f26dcb467614d48eceec "examples/BlazorWasm/Shared/NavMenu.razor")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/Shared/NavMenu.razor)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

68 changes: 0 additions & 68 deletions
68 [examples/BlazorWasm/Shared/NavMenu.razor.css](#diff-12e8ea6bdd5af0818ad0ac7eb47feece33b7f87aa9352bc6df8606bf4feb0d8c "examples/BlazorWasm/Shared/NavMenu.razor.css")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/Shared/NavMenu.razor.css)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

86 changes: 0 additions & 86 deletions
86 [examples/BlazorWasm/wwwroot/css/open-iconic/FONT-LICENSE](#diff-41b9a09bb0cb7af2994172a9e3dcf38bf8c9573f8ab4ca7b7fdf5a22170e79b9 "examples/BlazorWasm/wwwroot/css/open-iconic/FONT-LICENSE")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/css/open-iconic/FONT-LICENSE)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

21 changes: 0 additions & 21 deletions
21 [examples/BlazorWasm/wwwroot/css/open-iconic/ICON-LICENSE](#diff-22484c356a7bf9e5bf5890c713a0838ddcabd780c0050a0b074fe51555ec3f61 "examples/BlazorWasm/wwwroot/css/open-iconic/ICON-LICENSE")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/css/open-iconic/ICON-LICENSE)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

114 changes: 0 additions & 114 deletions
114 [examples/BlazorWasm/wwwroot/css/open-iconic/README.md](#diff-c865410dacdc012f1934c025fe535f2baad568872476800150c4a35232f1c40f "examples/BlazorWasm/wwwroot/css/open-iconic/README.md")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/css/open-iconic/README.md)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

1 change: 0 additions & 1 deletion
1 [examples/BlazorWasm/wwwroot/css/open-iconic/font/css/open-iconic-bootstrap.min.css](#diff-5b8350b47e3895050d77c236df3cab18995259ac85aee79c28bab8606718d25c "examples/BlazorWasm/wwwroot/css/open-iconic/font/css/open-iconic-bootstrap.min.css")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/css/open-iconic/font/css/open-iconic-bootstrap.min.css)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

Binary file removed
BIN

 -27.5 KB

[examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.eot](#diff-96fe28d8f76de9f2422b7b50a62d6bc665de52485bd1c4a2f6f244e4e33fde70 "examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.eot")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.eot)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -20.5 KB

[examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.otf](#diff-a399e8d72b3641de74b38a71f6d625948cd8838a41ec3f759d5fa2770c750776 "examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.otf")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.otf)
Edit file

Delete file


Binary file not shown.


543 changes: 0 additions & 543 deletions
543 [examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.svg](#diff-1d52ae69d76f28d66815eedc6bea7f73bda239dc9511fb958ee9a6a8de781171 "examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.svg")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.svg)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

Binary file removed
BIN

 -27.4 KB

[examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.ttf](#diff-4dbc836c4cdfd78d9de5286699ad2f6598afb1290619f2945917696f906910ae "examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.ttf")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.ttf)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -14.6 KB

[examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.woff](#diff-082413b8edd46fc6605752d49e5d1f3488003cfd93b79fa91329d4583d76a123 "examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.woff")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/css/open-iconic/font/fonts/open-iconic.woff)
Edit file

Delete file


Binary file not shown.


Binary file removed
BIN

 -2.56 KB

[examples/BlazorWasm/wwwroot/icon-192.png](#diff-60cd27a5b1fe736a141f1b5e0508867429079bafa9cfbc3554bd1db47ef59b70 "examples/BlazorWasm/wwwroot/icon-192.png")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/icon-192.png)
Edit file

Delete file


Binary file not shown.


27 changes: 0 additions & 27 deletions
27 [examples/BlazorWasm/wwwroot/index.html](#diff-143d1a75d036f2a0dde4a1d078b20e17d439fe39b6a53abc5e0c2c5edafdc67a "examples/BlazorWasm/wwwroot/index.html")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/index.html)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

27 changes: 0 additions & 27 deletions
27 [examples/BlazorWasm/wwwroot/sample-data/weather.json](#diff-e3d5edf8e4d04c4719a6f8a4c6664babeed39ba4638512e4d26305e72c7fe713 "examples/BlazorWasm/wwwroot/sample-data/weather.json")

Show comments


[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/examples/BlazorWasm/wwwroot/sample-data/weather.json)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

6 changes: 3 additions & 3 deletions
6 [examples/ClblastGpu/ClblastGpu.csproj](#diff-f2a1746f487542dd9e39bbfbd777e7ed5b5cce605f7720a9f822e5b9ee386596 "examples/ClblastGpu/ClblastGpu.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/ClblastGpu/ClblastGpu.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-f2a1746f487542dd9e39bbfbd777e7ed5b5cce605f7720a9f822e5b9ee386596) Expand Up | @@ -2,13 +2,13 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net6.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <LangVersion>9</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime.Clblast"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime.Clblast"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-f2a1746f487542dd9e39bbfbd777e7ed5b5cce605f7720a9f822e5b9ee386596) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [examples/ContinuousRecognition/ContinuousRecognition.csproj](#diff-01fa19feab66770f8bb2a064c3db635dd84abf34bbefe85800bbd1297247ecf4 "examples/ContinuousRecognition/ContinuousRecognition.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/ContinuousRecognition/ContinuousRecognition.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-01fa19feab66770f8bb2a064c3db635dd84abf34bbefe85800bbd1297247ecf4) Expand Up | @@ -2,14 +2,14 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFramework>net6.0</TargetFramework> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-01fa19feab66770f8bb2a064c3db635dd84abf34bbefe85800bbd1297247ecf4) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [examples/CoreML/CoreML.csproj](#diff-b490c1d02ba128028402ff3ca9e8dc3a5785b71dd2a7d516e46c7ee3e1414af6 "examples/CoreML/CoreML.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/CoreML/CoreML.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-b490c1d02ba128028402ff3ca9e8dc3a5785b71dd2a7d516e46c7ee3e1414af6) Expand Up | @@ -2,13 +2,13 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net6.0</TargetFrameworks> |
|  |  | <TargetFrameworks>net8.0</TargetFrameworks> |
|  |  | <LangVersion>9</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime.CoreML"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime.CoreML"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-b490c1d02ba128028402ff3ca9e8dc3a5785b71dd2a7d516e46c7ee3e1414af6) Expand Down |  |

7 changes: 7 additions & 0 deletions
7 [examples/CoreML/Program.cs](#diff-a0f1148a57c42ab02918f8b2d5ebcead477f4a78171fc2aa3025245372153ff1 "examples/CoreML/Program.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/CoreML/Program.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-a0f1148a57c42ab02918f8b2d5ebcead477f4a78171fc2aa3025245372153ff1) Expand Up | @@ -5,6 +5,7 @@ |
|  |  | usingSystem.Threading.Tasks; |
|  |  | usingWhisper.net; |
|  |  | usingWhisper.net.Ggml; |
|  |  | usingWhisper.net.Logger; |
|  |  |  |
|  |  | publicclassProgram |
|  |  | { |
| [Expand All](#diff-a0f1148a57c42ab02918f8b2d5ebcead477f4a78171fc2aa3025245372153ff1) Expand All | @@ -31,6 +32,12 @@ await WhisperGgmlDownloader.GetEncoderCoreMLModelAsync(ggmlType) |
|  |  | .ExtractToPath("."); |
|  |  | } |
|  |  |  |
|  |  | // Optional logging from the native library |
|  |  | LogProvider.Instance.OnLog+=(level,message)=> |
|  |  | { |
|  |  | Console.Write($"{level}: {message}"); |
|  |  | }; |
|  |  |  |
|  |  | // This section creates the whisperFactory object which is used to create the processor object. |
|  |  | usingvarwhisperFactory=WhisperFactory.FromPath(modelFileName); |
|  |  |  |
| [Expand Down](#diff-a0f1148a57c42ab02918f8b2d5ebcead477f4a78171fc2aa3025245372153ff1) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [examples/Cublas/Cublas.csproj](#diff-6e7e91535e1cd37843852113397e0afe1f9894e769931466707832cc3d5bbbde "examples/Cublas/Cublas.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/Cublas/Cublas.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-6e7e91535e1cd37843852113397e0afe1f9894e769931466707832cc3d5bbbde) Expand Up | @@ -2,13 +2,13 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net6.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <LangVersion>9</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime.Cublas"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime.Cublas"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-6e7e91535e1cd37843852113397e0afe1f9894e769931466707832cc3d5bbbde) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [examples/Diarization/Diarization.csproj](#diff-d340dbb04646c42c7b9a71cede5859ae12bce76be563612d2f2042611a7e1188 "examples/Diarization/Diarization.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/Diarization/Diarization.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d340dbb04646c42c7b9a71cede5859ae12bce76be563612d2f2042611a7e1188) Expand Up | @@ -2,14 +2,14 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFramework>net6.0</TargetFramework> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <ImplicitUsings>enable</ImplicitUsings> |
|  |  | <Nullable>enable</Nullable> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-d340dbb04646c42c7b9a71cede5859ae12bce76be563612d2f2042611a7e1188) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [examples/NAudioMp3/NAudioMp3.csproj](#diff-8410e9bf7a16fdf73fecef8892fc570eb456eafcee26d7135daa041fc53fcb76 "examples/NAudioMp3/NAudioMp3.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/NAudioMp3/NAudioMp3.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-8410e9bf7a16fdf73fecef8892fc570eb456eafcee26d7135daa041fc53fcb76) Expand Up | @@ -2,14 +2,14 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFramework>net6.0</TargetFramework> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <Nullable>enable</Nullable> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="NAudio"Version="2.2.1" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-8410e9bf7a16fdf73fecef8892fc570eb456eafcee26d7135daa041fc53fcb76) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [examples/NAudioResampleWav/NAudioResampleWav.csproj](#diff-21911d6634bd56fb0e79ec9b74dea6fb73e9b1e440df80ad900f1d10374f9c40 "examples/NAudioResampleWav/NAudioResampleWav.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/NAudioResampleWav/NAudioResampleWav.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-21911d6634bd56fb0e79ec9b74dea6fb73e9b1e440df80ad900f1d10374f9c40) Expand Up | @@ -2,14 +2,14 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFramework>net6.0</TargetFramework> |
|  |  | <TargetFramework>net8.0</TargetFramework> |
|  |  | <Nullable>enable</Nullable> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="NAudio"Version="2.2.1" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-21911d6634bd56fb0e79ec9b74dea6fb73e9b1e440df80ad900f1d10374f9c40) Expand Down |  |

7 changes: 7 additions & 0 deletions
7 [examples/Simple/Program.cs](#diff-4f659558dc732439b74accfc01b4f1f92b8bc44b8e28704b7365e3d82b1cadaa "examples/Simple/Program.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/Simple/Program.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-4f659558dc732439b74accfc01b4f1f92b8bc44b8e28704b7365e3d82b1cadaa) Expand Up | @@ -5,6 +5,7 @@ |
|  |  | usingSystem.Threading.Tasks; |
|  |  | usingWhisper.net; |
|  |  | usingWhisper.net.Ggml; |
|  |  | usingWhisper.net.Logger; |
|  |  |  |
|  |  | publicclassProgram |
|  |  | { |
| [Expand All](#diff-4f659558dc732439b74accfc01b4f1f92b8bc44b8e28704b7365e3d82b1cadaa) Expand All | @@ -22,6 +23,12 @@ public static async Task Main(string\[\] args) |
|  |  | awaitDownloadModel(modelFileName,ggmlType); |
|  |  | } |
|  |  |  |
|  |  | // Optional logging from the native library |
|  |  | LogProvider.Instance.OnLog+=(level,message)=> |
|  |  | { |
|  |  | Console.Write($"{level}: {message}"); |
|  |  | }; |
|  |  |  |
|  |  | // This section creates the whisperFactory object which is used to create the processor object. |
|  |  | usingvarwhisperFactory=WhisperFactory.FromPath("ggml-base.bin"); |
|  |  |  |
| [Expand Down](#diff-4f659558dc732439b74accfc01b4f1f92b8bc44b8e28704b7365e3d82b1cadaa) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [examples/Simple/Simple.csproj](#diff-34744e18f4efc3ce65a0ce2c240d0a4f55650799ee71760a78ac6c3b78c54603 "examples/Simple/Simple.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/Simple/Simple.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-34744e18f4efc3ce65a0ce2c240d0a4f55650799ee71760a78ac6c3b78c54603) Expand Up | @@ -2,13 +2,13 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net6.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <LangVersion>9</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-34744e18f4efc3ce65a0ce2c240d0a4f55650799ee71760a78ac6c3b78c54603) Expand Down |  |

7 changes: 7 additions & 0 deletions
7 [examples/SimpleSync/Program.cs](#diff-e01c1e2ae79e6517e505e4f205f4d43777c94d8e1f977259cc683f96c054812a "examples/SimpleSync/Program.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/SimpleSync/Program.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-e01c1e2ae79e6517e505e4f205f4d43777c94d8e1f977259cc683f96c054812a) Expand Up | @@ -5,6 +5,7 @@ |
|  |  | usingSystem.Threading.Tasks; |
|  |  | usingWhisper.net; |
|  |  | usingWhisper.net.Ggml; |
|  |  | usingWhisper.net.Logger; |
|  |  |  |
|  |  | publicclassProgram |
|  |  | { |
| [Expand All](#diff-e01c1e2ae79e6517e505e4f205f4d43777c94d8e1f977259cc683f96c054812a) Expand All | @@ -22,6 +23,12 @@ public static async Task Main(string\[\] args) |
|  |  | awaitDownloadModel(modelFileName,ggmlType); |
|  |  | } |
|  |  |  |
|  |  | // Optional logging from the native library |
|  |  | LogProvider.Instance.OnLog+=(level,message)=> |
|  |  | { |
|  |  | Console.WriteLine($"{level}: {message}"); |
|  |  | }; |
|  |  |  |
|  |  | // This section creates the whisperFactory object which is used to create the processor object. |
|  |  | usingvarwhisperFactory=WhisperFactory.FromPath("ggml-base.bin"); |
|  |  |  |
| [Expand Down](#diff-e01c1e2ae79e6517e505e4f205f4d43777c94d8e1f977259cc683f96c054812a) Expand Down |  |

6 changes: 3 additions & 3 deletions
6 [examples/SimpleSync/SimpleSync.csproj](#diff-f9ed7c34ae738d1ba710f6a5c3b737ca44b19d4466216ca40003562820dfa985 "examples/SimpleSync/SimpleSync.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/SimpleSync/SimpleSync.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-f9ed7c34ae738d1ba710f6a5c3b737ca44b19d4466216ca40003562820dfa985) Expand Up | @@ -2,13 +2,13 @@ |
|  |  |  |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net6.0; net472</TargetFrameworks> |
|  |  | <TargetFrameworks>net8.0; net472</TargetFrameworks> |
|  |  | <LangVersion>9</LangVersion> |
|  |  | </PropertyGroup> |
|  |  |  |
|  |  | <ItemGroup> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.4.7" /> |
|  |  | <PackageReferenceInclude="Whisper.net"Version="1.5.0" /> |
|  |  | <PackageReferenceInclude="Whisper.net.Runtime"Version="1.5.0" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroup> |
| [Expand Down](#diff-f9ed7c34ae738d1ba710f6a5c3b737ca44b19d4466216ca40003562820dfa985) Expand Down |  |

18 changes: 12 additions & 6 deletions
18 [examples/Whisper.net.Examples.sln](#diff-547a3ec10d345377b5be0cb2505c752178d9eb5a5e2230f2e348bce435346897 "examples/Whisper.net.Examples.sln")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/examples/Whisper.net.Examples.sln)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-547a3ec10d345377b5be0cb2505c752178d9eb5a5e2230f2e348bce435346897) Expand Up | @@ -19,12 +19,14 @@ Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "ContinuousRecognition", "Co |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net", "..\\Whisper.net\\Whisper.net.csproj", "{A5A05A97-D880-4F87-BCE3-1A5420846F4D}" |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "BlazorWasm", "BlazorWasm\\BlazorWasm.csproj", "{64860CCB-31C7-4A81-B8D7-882F7FDB5940}" |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Cublas", "Cublas\\Cublas.csproj", "{7AD42B21-D644-4D18-9C89-6A1270581791}" |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "ClblastGpu", "ClblastGpu\\ClblastGpu.csproj", "{CDC1DA51-2EAD-4F69-BD2A-54DEE09EC007}" |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "BlazorApp", "BlazorApp\\BlazorApp\\BlazorApp.csproj", "{7BC244E8-E205-46B8-9C23-AAA53528F8E2}" |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "BlazorApp.Client", "BlazorApp\\BlazorApp.Client\\BlazorApp.Client.csproj", "{C4941505-6AB6-4FA7-AD9D-3FA9F93E499E}" |
|  |  | EndProject |
|  |  | Global |
|  |  | GlobalSection(SolutionConfigurationPlatforms) = preSolution |
|  |  | Debug\|Any CPU = Debug\|Any CPU |
| [Expand Down](#diff-547a3ec10d345377b5be0cb2505c752178d9eb5a5e2230f2e348bce435346897) Expand Down [Expand Up](#diff-547a3ec10d345377b5be0cb2505c752178d9eb5a5e2230f2e348bce435346897) Expand Up | @@ -63,10 +65,6 @@ Global |
|  |  | {A5A05A97-D880-4F87-BCE3-1A5420846F4D}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {A5A05A97-D880-4F87-BCE3-1A5420846F4D}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {A5A05A97-D880-4F87-BCE3-1A5420846F4D}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {64860CCB-31C7-4A81-B8D7-882F7FDB5940}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {64860CCB-31C7-4A81-B8D7-882F7FDB5940}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {64860CCB-31C7-4A81-B8D7-882F7FDB5940}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {64860CCB-31C7-4A81-B8D7-882F7FDB5940}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {7AD42B21-D644-4D18-9C89-6A1270581791}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {7AD42B21-D644-4D18-9C89-6A1270581791}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {7AD42B21-D644-4D18-9C89-6A1270581791}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
| [Expand All](#diff-547a3ec10d345377b5be0cb2505c752178d9eb5a5e2230f2e348bce435346897) Expand All | @@ -75,6 +73,14 @@ Global |
|  |  | {CDC1DA51-2EAD-4F69-BD2A-54DEE09EC007}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {CDC1DA51-2EAD-4F69-BD2A-54DEE09EC007}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {CDC1DA51-2EAD-4F69-BD2A-54DEE09EC007}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {7BC244E8-E205-46B8-9C23-AAA53528F8E2}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {7BC244E8-E205-46B8-9C23-AAA53528F8E2}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {7BC244E8-E205-46B8-9C23-AAA53528F8E2}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {7BC244E8-E205-46B8-9C23-AAA53528F8E2}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {C4941505-6AB6-4FA7-AD9D-3FA9F93E499E}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {C4941505-6AB6-4FA7-AD9D-3FA9F93E499E}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {C4941505-6AB6-4FA7-AD9D-3FA9F93E499E}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {C4941505-6AB6-4FA7-AD9D-3FA9F93E499E}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | EndGlobalSection |
|  |  | GlobalSection(SolutionProperties) = preSolution |
|  |  | HideSolutionNode =FALSE |
| [Expand Down](#diff-547a3ec10d345377b5be0cb2505c752178d9eb5a5e2230f2e348bce435346897) Expand Down |  |

1 change: 1 addition & 0 deletions
1 [native-commit-id-android](#diff-ee356fe62a95d4613c2c84fe8d76224c0e2b1d4cf28f56d8c83722da8a8dd7cc "native-commit-id-android")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/native-commit-id-android)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1 @@ |
|  |  | 447d49530c9af41fe24f2ae510f452903dba330d |

1 change: 1 addition & 0 deletions
1 [native-commit-id-linux](#diff-5c42c58cfed4411472b6f8d286b543b1c17bf0d42dd50a3ca07059497c3095a6 "native-commit-id-linux")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/native-commit-id-linux)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1 @@ |
|  |  | 447d49530c9af41fe24f2ae510f452903dba330d |

1 change: 1 addition & 0 deletions
1 [native-commit-id-macos](#diff-5af36c145bbc6b53095e2f7a65542dfd5df4b62f21d56bc1a8c0d1ef81e47b44 "native-commit-id-macos")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/native-commit-id-macos)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1 @@ |
|  |  | 447d49530c9af41fe24f2ae510f452903dba330d |

1 change: 1 addition & 0 deletions
1 [native-commit-id-wasm](#diff-8af966637c58b739e328a09bd94cce95b747ea9ffbf607af33a265882a58eaf5 "native-commit-id-wasm")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/native-commit-id-wasm)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1 @@ |
|  |  | 447d49530c9af41fe24f2ae510f452903dba330d |

1 change: 1 addition & 0 deletions
1 [native-commit-id-windows](#diff-f87c0acb0367417f0668be9afc21e28399d02eca69627a27ce50ef3be5c00b63 "native-commit-id-windows")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/native-commit-id-windows)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1 @@ |
|  |  | 447d49530c9af41fe24f2ae510f452903dba330d |

9 changes: 9 additions & 0 deletions
9 [nuget.config](#diff-dbd515845a90a91f83cd2dbcdf41150bff6a75806900384a44afb1f0650d9cc9 "nuget.config")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/nuget.config)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,9 @@ |
|  |  | <?xml version="1.0" encoding="utf-8"?> |
|  |  | <configuration> |
|  |  | <packageSources> |
|  |  | <clear /> |
|  |  | <addkey="public\_nugget"value="https://api.nuget.org/v3/index.json" /> |
|  |  | <!--<add |
|  |  | key="local\_whisper" value="./nupkgs" /> --> |
|  |  | </packageSources> |
|  |  | </configuration> |

47 changes: 27 additions & 20 deletions
47 [readme.md](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15 "readme.md")

Show comments


[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/readme.md)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand Up | @@ -3,6 +3,13 @@ Open-Source Whisper.net |
|  |  |  |
|  |  | Dotnet bindings for OpenAI Whisper made possible by \[whisper.cpp\](https://github.com/ggerganov/whisper.cpp) |
|  |  |  |
|  |  | Native builds: |
|  |  |  |
|  |  | \[!\[Linux\](https://github.com/sandrohanea/whisper.net/actions/workflows/linux-native-build.yml/badge.svg?branch=main)\](https://github.com/sandrohanea/whisper.net/actions/workflows/linux-native-build.yml) |
|  |  | \[!\[Windows\](https://github.com/sandrohanea/whisper.net/actions/workflows/windows-native-build.yml/badge.svg?branch=main)\](https://github.com/sandrohanea/whisper.net/actions/workflows/windows-native-build.yml) |
|  |  | \[!\[MacOs\](https://github.com/sandrohanea/whisper.net/actions/workflows/macos-native-build.yaml/badge.svg?branch=main)\](https://github.com/sandrohanea/whisper.net/actions/workflows/macos-native-build.yaml) |
|  |  | \[!\[Android\](https://github.com/sandrohanea/whisper.net/actions/workflows/android-native-build.yaml/badge.svg?branch=main)\](https://github.com/sandrohanea/whisper.net/actions/workflows/android-native-build.yaml) |
|  |  | \[!\[Wasm\](https://github.com/sandrohanea/whisper.net/actions/workflows/wasm-native-build.yaml/badge.svg?branch=main)\](https://github.com/sandrohanea/whisper.net/actions/workflows/wasm-native-build.yaml) |
|  |  |  |
|  |  | \## Getting started |
|  |  |  |
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -14,8 +21,8 @@ To install Whisper.net, run the following command in the \[Package Manager Consol |\
|  |  | or simply add a package reference in your csproj: |\
|  |  |  |\
|  |  | \`\`\` |\
|  |  | <PackageReference Include="Whisper.net" Version="1.4.7" /> |\
|  |  | <PackageReference Include="Whisper.net.Runtime" Version="1.4.7" /> |\
|  |  | <PackageReference Include="Whisper.net" Version="1.5.0" /> |\
|  |  | <PackageReference Include="Whisper.net.Runtime" Version="1.5.0" /> |\
|  |  | \`\`\` |\
|  |  |  |\
|  |  | \## TFL Community |\
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -32,35 +39,40 @@ The runtime package, Whisper.net.Runtime, contains the native whisper.cpp librar |\
|  |  | Whisper.net.Runtime.CoreML contains the native whisper.cpp library with Apple CoreML support enabled. Using this on Apple hardware (macOS, iOS, etc.) can net performance improvements over the core runtimes. To use it, reference the \`Whisper.net.Runtime.CoreML\` nuget, |\
|  |  |  |\
|  |  | \`\`\` |\
|  |  | <PackageReference Include="Whisper.net" Version="1.4.7" /> |\
|  |  | <PackageReference Include="Whisper.net.Runtime.CoreML" Version="1.4.7" /> |\
|  |  | <PackageReference Include="Whisper.net" Version="1.5.0" /> |\
|  |  | <PackageReference Include="Whisper.net.Runtime.CoreML" Version="1.5.0" /> |\
|  |  | \`\`\` |\
|  |  |  |\
|  |  | Note that only the CoreML built libraries are available in this package and does not contain libraries for other platforms (Linux, Windows, etc). If you are creating a cross-platform application you can use conditional target frameworks to install the correct library package for each version. |\
|  |  |  |\
|  |  | Using the ggml whisper models with CoreML requires an additional \`mlmodelc\` file to be placed alongside your whisper model. You can generate these via the \[whisper.cpp scripts\](https://github.com/ggerganov/whisper.cpp#core-ml-support). As whisper.cpp uses filepaths to detect this folder, you must load your whisper model with a file path. If successful, the whisper output logs will announce: |\
|  |  | Using the ggml whisper models with CoreML requires an additional \`mlmodelc\` file to be placed alongside your whisper model. |\
|  |  |  |\
|  |  | You can download and extract these using \[WhisperGgmlDownloader\](https://github.com/sandrohanea/whisper.net/blob/main/Whisper.net/Ggml/WhisperGgmlDownloader.cs#L45). Check the \[CoreML example\](https://github.com/sandrohanea/whisper.net/blob/main/examples/CoreML/Program.cs). |\
|  |  |  |\
|  |  | You can also generate these via the \[whisper.cpp scripts\](https://github.com/ggerganov/whisper.cpp#core-ml-support). As whisper.cpp uses filepaths to detect this folder, you must load your whisper model with a file path. |\
|  |  |  |\
|  |  | If successful, the whisper output logs will announce: |\
|  |  |  |\
|  |  | \`whisper\_init\_state: loading Core ML model from...\` |\
|  |  |  |\
|  |  | If not, it will announce an error and use the original core library instead. |\
|  |  |  |\
|  |  | \## GPU Support on Windows |\
|  |  | \## GPU Support |\
|  |  |  |\
|  |  | Dependeing on your GPU, you can use either \`Whisper.net.Runtime.Cublas\` or \`Whisper.net.Runtime.Clblast\`. |\
|  |  | For now, they are only available on Windows x64. |\
|  |  | For now, they are only available on Windows x64 and Linux x64 (only Cublas). |\
|  |  |  |\
|  |  | Check the Cublas and Clblast examples. |\
|  |  |  |\
|  |  | \## Blazor and WASM |\
|  |  |  |\
|  |  | For Blazor WebAssembly support, check the BlazorWasm example. |\
|  |  | Instead of \`Whisper.net.Runtime\`, you'll need to use \`Whisper.net.Runtime.Wasm\` but you'll need to also switch \`WasmBuildNative\` flag to true. |\
|  |  | Blazor is supported with both InteractivityServer and InteractivityWebAssemly. You can check the Blazor example \[here\](https://github.com/sandrohanea/whisper.net/tree/main/examples/BlazorApp). |\
|  |  |  |\
|  |  | \## Versioning |\
|  |  |  |\
|  |  | Each version of Whisper.net is tied to a specific version of Whisper.cpp. The version of Whisper.net is the same as the version of Whisper it is based on. For example, Whisper.net 1.2.0 is based on Whisper 1.2.0. |\
|  |  | Each version of Whisper.net is tied to a specific version of Whisper.cpp. The version of Whisper.net is the same as the version of Whisper it is based on. For example, Whisper.net 1.2.0 is based on Whisper.cpp 1.2.0. |\
|  |  |  |\
|  |  | However, there can be cases where Whisper.net patch version is incremented without a corresponding Whisper.cpp version change. This is the case when the changes in Whisper.net are not related to the changes in Whisper.cpp. |\
|  |  | However, the patch version is not tied to Whisper.cpp. For example, Whisper.net 1.2.1 is based on Whisper.cpp 1.2.0 and Whisper.net 1.5.0 is based on Whisper.cpp 1.5.1. |\
|  |  |  |\
|  |  | \## Ggml Models |\
|  |  |  |\
| [Expand Down](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand Down [Expand Up](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand Up | @@ -124,10 +136,6 @@ The build scripts are a combination of PowerShell scripts and a Makefile. You ca |\
|  |  |  |\
|  |  | \`make apple\` |\
|  |  |  |\
|  |  | or |\
|  |  |  |\
|  |  | \`pwsh ./scripts/build-osx.ps1\` |\
|  |  |  |\
|  |  | - Compiling the Apple libraries requires a Mac with Xcode installed. |\
|  |  |  |\
|  |  | \### Apple CoreML: |\
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -140,13 +148,11 @@ or |\
|  |  |  |\
|  |  | \`make linux\` |\
|  |  |  |\
|  |  | or |\
|  |  |  |\
|  |  | \`pwsh ./scripts/build-linux.ps1\` |\
|  |  |  |\
|  |  | \### Windows: |\
|  |  |  |\
|  |  | - Run the \`.bat\` files in the root of this repo, or the powershell \`./script/build-windows.ps1\` |\
|  |  | - Import the powershel module \`Import-Module ./windows-scripts.ps1\` |\
|  |  | - Run \`BuildWindowsAll\` to build all Windows libraries |\
|  |  |  |\
|  |  |  |\
|  |  | \## License |\
|  |  |  |\
| [Expand All](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15) Expand All | @@ -169,3 +175,4 @@ Whisper.net is supported on the following platforms: |\
|  |  | - iOS |\
|  |  | - MacCatalyst |\
|  |  | - tvOS |\
|  |  | - WebAssembly |\
\
98 changes: 0 additions & 98 deletions\
98 [scripts/build-linux.ps1](#diff-14b5ec56e5714094a3b90128ede0b97443cea3882e21a3bacc1b1087210e1720 "scripts/build-linux.ps1")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/scripts/build-linux.ps1)\
Edit file\
\
Delete file\
\
\
Load diff\
\
This file was deleted.\
\
\
Oops, something went wrong.\
Retry\
\
64 changes: 0 additions & 64 deletions\
64 [scripts/build-osx.ps1](#diff-22520d90535691cb14db2318eedd96667388928336722c34c71c16d27e42a821 "scripts/build-osx.ps1")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/454ad43043e3b5cd920e5e3a1cb309861c21d158/scripts/build-osx.ps1)\
Edit file\
\
Delete file\
\
\
Load diff\
\
This file was deleted.\
\
\
Oops, something went wrong.\
Retry\
\
2 changes: 1 addition & 1 deletion\
2 [whisper.cpp](#diff-7b638c730017b16cf40fc5b8d402c8729b9d4cce513b1d1f4d2e07c2e62ed9b4 "whisper.cpp")\
\
Show comments\
\
\
Submodule [whisper.cpp](https://github.com/ggerganov/whisper.cpp)\
\
updated\
\
[193 files](/ggerganov/whisper.cpp/compare/2f52783a080e8955e80e4324fed73e2f906bb80c...447d49530c9af41fe24f2ae510f452903dba330d)\
\
48 changes: 27 additions & 21 deletions\
48 [scripts/build-windows.ps1 → windows-scripts.ps1](#diff-cd59811ed54e94b505e27437b0b2c0f9d6c2461a33b1d1659c204eae3dd62b0d "scripts/build-windows.ps1 → windows-scripts.ps1")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/8711b1bf6b68cf1323864513d65d532c5469e733/windows-scripts.ps1)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -1,8 +1,10 @@ |\
|  |  | #call me from the root of the repo |\
|  |  |  |\
|  |  | #if not exist "build" create the directory |\
|  |  | if (!(Test-Path"build")) { |\
|  |  | New-Item-ItemType Directory -Force -Path "build" |\
|  |  | functionPackAllNugets(\[Parameter(Mandatory=$true)\] \[string\]$Version, \[Parameter(Mandatory=$false)\] \[string\]$Configuration="Release") { |\
|  |  | New-Item-ItemType Directory -Force -Path "nupkgs" |\
|  |  | nuget pack Whisper.net.Runtime.nuspec -Version $Version-OutputDirectory ./nupkgs |\
|  |  | dotnet pack Whisper.net/Whisper.net.csproj -p:Version=$Version-o ./nupkgs -c $Configuration |\
|  |  | nuget pack Whisper.net.Runtime.CoreML.nuspec -Version $Version-OutputDirectory ./nupkgs |\
|  |  | nuget pack Whisper.net.Runtime.Cublas.nuspec -Version $Version-OutputDirectory ./nupkgs |\
|  |  | nuget pack Whisper.net.Runtime.Clblast.nuspec -Version $Version-OutputDirectory ./nupkgs |\
|  |  | } |\
|  |  |  |\
|  |  | functionGet-VisualStudioCMakePath() { |\
| [Expand Down](#diff-cd59811ed54e94b505e27437b0b2c0f9d6c2461a33b1d1659c204eae3dd62b0d) Expand Down [Expand Up](#diff-cd59811ed54e94b505e27437b0b2c0f9d6c2461a33b1d1659c204eae3dd62b0d) Expand Up | @@ -39,10 +41,16 @@ function Get-MSBuildPlatform($Arch) { |\
|  |  |  |\
|  |  | functionBuildWindowsBase() { |\
|  |  | param( |\
|  |  | \[Parameter(Mandatory=$true)\] \[string\]$Arch, |\
|  |  | \[Parameter(Mandatory=$false)\] \[bool\]$Cublas=$false, |\
|  |  | \[Parameter(Mandatory=$false)\] \[bool\]$Clblast=$false |\
|  |  | \[Parameter(Mandatory=$true)\] \[string\]$Arch, |\
|  |  | \[Parameter(Mandatory=$false)\] \[bool\]$Cublas=$false, |\
|  |  | \[Parameter(Mandatory=$false)\] \[bool\]$Clblast=$false, |\
|  |  | \[Parameter(Mandatory=$false)\] \[string\]$Configuration="Release" |\
|  |  | ) |\
|  |  | #if not exist "build" create the directory |\
|  |  | if (!(Test-Path"build")) { |\
|  |  | New-Item-ItemType Directory -Force -Path "build" |\
|  |  | } |\
|  |  |  |\
|  |  | Write-Host"Building Windows binaries for $Arch with cublas: $Cublas, and clblast: $Clblast" |\
|  |  |  |\
|  |  |  |\
| [Expand Down](#diff-cd59811ed54e94b505e27437b0b2c0f9d6c2461a33b1d1659c204eae3dd62b0d) Expand Down [Expand Up](#diff-cd59811ed54e94b505e27437b0b2c0f9d6c2461a33b1d1659c204eae3dd62b0d) Expand Up | @@ -70,12 +78,12 @@ function BuildWindowsBase() { |\
|  |  | $options+="-A" |\
|  |  | $options+=$platform |\
|  |  |  |\
|  |  | if((Test-Path$buildDirectory)) { |\
|  |  | if((Test-Path$buildDirectory)) { |\
|  |  | Write-Host"Deleting old build files for $buildDirectory"; |\
|  |  | Remove-Item-Force -Recurse -Path $buildDirectory |\
|  |  | } |\
|  |  |  |\
|  |  | $cmakePath= (Get-Command cmake -ErrorAction SilentlyContinue).Source |\
|  |  | $cmakePath= (Get-Command cmake -ErrorAction SilentlyContinue).Source |\
|  |  | if (\[string\]::IsNullOrEmpty($cmakePath)) { |\
|  |  | # CMake is not defined in the system's path, search for it in Visual Studio |\
|  |  | $visualStudioPath=Get-VisualStudioCMakePath |\
| [Expand All](#diff-cd59811ed54e94b505e27437b0b2c0f9d6c2461a33b1d1659c204eae3dd62b0d) Expand All | @@ -93,7 +101,7 @@ function BuildWindowsBase() { |\
|  |  | Write-Host"Running 'cmake $options'" |\
|  |  |  |\
|  |  | cmake $options |\
|  |  | cmake --build $buildDirectory--config Release |\
|  |  | cmake --build $buildDirectory--config $Configuration |\
|  |  |  |\
|  |  | $runtimePath="./Whisper.net.Runtime" |\
|  |  | if ($Cublas) { |\
| [Expand All](#diff-cd59811ed54e94b505e27437b0b2c0f9d6c2461a33b1d1659c204eae3dd62b0d) Expand All | @@ -116,13 +124,11 @@ function BuildWindowsBase() { |\
|  |  | Move-Item"$buildDirectory/bin/Release/whisper.dll""$runtimePath/whisper.dll"-Force |\
|  |  | } |\
|  |  |  |\
|  |  | functionBuildWindowsAll() { |\
|  |  | BuildWindowsBase -Arch "x64"; |\
|  |  | BuildWindowsBase -Arch "x86"; |\
|  |  | BuildWindowsBase -Arch "arm64"; |\
|  |  | BuildWindowsBase -Arch "arm"; |\
|  |  | BuildWindowsBase -Arch "x64"-Cublas $true; |\
|  |  | BuildWindowsBase -Arch "x64"-Clblast $true; |\
|  |  | } |\
|  |  |  |\
|  |  | BuildWindowsAll |\
|  |  | functionBuildWindowsAll(\[Parameter(Mandatory=$false)\] \[string\]$Configuration="Release") { |\
|  |  | BuildWindowsBase -Arch "x64"-Configuration $Configuration; |\
|  |  | BuildWindowsBase -Arch "x86"-Configuration $Configuration; |\
|  |  | BuildWindowsBase -Arch "arm64"-Configuration $Configuration; |\
|  |  | BuildWindowsBase -Arch "arm"-Configuration $Configuration; |\
|  |  | BuildWindowsBase -Arch "x64"-Cublas $true-Configuration $Configuration; |\
|  |  | BuildWindowsBase -Arch "x64"-Clblast $true-Configuration $Configuration; |\
|  |  | } |\
\
Toggle all file notesToggle all file annotations\
\
### 0 comments  on commit `8711b1b`\
\
\
\
Please\
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2F8711b1bf6b68cf1323864513d65d532c5469e733) to comment.\
\
You can’t perform that action at this time.

---

# whisper.net/examples/Diarization/Program.cs at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Program.cs

Blame

Blame

## Latest commit

![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)![AncientLust](https://avatars.githubusercontent.com/u/84724571?v=4&size=40)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

and

[AncientLust](/sandrohanea/whisper.net/commits?author=AncientLust)

[Bumped versions (](/sandrohanea/whisper.net/commit/71040faf41d4079bbe810feb5bf56bbed3941127) [#276](https://github.com/sandrohanea/whisper.net/pull/276) [)](/sandrohanea/whisper.net/commit/71040faf41d4079bbe810feb5bf56bbed3941127)

Nov 22, 2024

[71040fa](/sandrohanea/whisper.net/commit/71040faf41d4079bbe810feb5bf56bbed3941127) · Nov 22, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/examples/Diarization/Program.cs)

95 lines (77 loc) · 3.77 KB

/

# Program.cs

Top

## File metadata and controls

- Code

- Blame


95 lines (77 loc) · 3.77 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/examples/Diarization/Program.cs)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

62

63

64

65

66

67

68

69

70

71

72

73

74

75

76

77

78

79

80

81

82

83

84

85

86

87

88

89

90

91

92

93

94

95

// Licensed under the MIT license: https://opensource.org/licenses/MIT

usingWhisper.net.Ggml;

usingWhisper.net;

usingWhisper.net.Wave;

// This examples shows how to use Whisper.net to create a transcription from an audio file having multiple channels at 16Khz sample rate.

// Each channel is represented by a speaker.

// Based on the time of the segments, the speaker is identified, and the text is assigned to the speaker.

// We declare three variables which we will use later, ggmlType, modelFileName and inputFileName

varggmlType=GgmlType.Base;

varmodelFileName="ggml-base.bin";

varwavFileName="multichannel.wav";

// This section detects whether the "ggml-base.bin" file exists in our project disk. If it doesn't, it downloads it from the internet

if(!File.Exists(modelFileName))

{

awaitDownloadModel(modelFileName,ggmlType);

}

// This section creates the whisperFactory object which is used to create the processor object.

usingvarwhisperFactory=WhisperFactory.FromPath("ggml-base.bin");

// This section creates the processor object which is used to process the audio file, it uses language \`auto\` to detect the language of the audio file.

usingvarprocessor=whisperFactory.CreateBuilder()

.WithLanguage("auto")

.Build();

// This section opens the audio file and converts it to a wav file.

usingvarfileStream=File.OpenRead(wavFileName);

varwaveParser=newWaveParser(fileStream);

awaitwaveParser.InitializeAsync();

varchannels=waveParser.Channels;

varsampleRate=waveParser.SampleRate;

varbitsPerSample=waveParser.BitsPerSample;

varheaderSize=waveParser.DataChunkPosition;

varframeSize=bitsPerSample/8\*channels;

varsamples=awaitwaveParser.GetAvgSamplesAsync(CancellationToken.None);

// This section processes the audio file and prints the results (start time, end time and text) to the console.

awaitforeach(varresultinprocessor.ProcessAsync(samples))

{

// Get the wave position for the specified time interval

varstartSample=(long)result.Start.TotalMilliseconds\*sampleRate/1000;

varendSample=(long)result.End.TotalMilliseconds\*sampleRate/1000;

// Calculate buffer size.

varbufferSize=(int)(endSample-startSample)\*frameSize;

varreadBuffer=newbyte\[bufferSize\];

// Set fileStream position.

fileStream.Position=headerSize+startSample\*frameSize;

// Read the wave data for the specified time interval, into the readBuffer.

varread=awaitfileStream.ReadAsync(readBuffer.AsMemory());

// Process the readBuffer and convert to shorts.

varbuffer=newshort\[read/2\];

for(vari=0;i<read;i++)

{

// Handle endianess manually and convert bytes to Int16.

buffer\[i\]=BitConverter.IsLittleEndian

?(short)(readBuffer\[i\*2\]\|(readBuffer\[i\*2+1\]<<8))

:(short)((readBuffer\[i\*2\]<<8)\|readBuffer\[i\*2+1\]);

}

// Iterate in the wave data to calculate total energy in each channel, and find the channel with the maximum energy.

varenergy=newdouble\[channels\];

varmaxEnergy=0d;

varmaxEnergyChannel=0;

for(vari=0;i<buffer.Length;i++)

{

varchannel=i%channels;

energy\[channel\]+=Math.Pow(buffer\[i\],2);

if(energy\[channel\]>maxEnergy)

{

maxEnergy=energy\[channel\];

maxEnergyChannel=channel;

}

}

Console.WriteLine($"{result.Start}->{result.End}: {result.Text}. Max energy in channel: {maxEnergyChannel}");

}

staticasyncTaskDownloadModel(stringfileName,GgmlTypeggmlType)

{

Console.WriteLine($"Downloading Model {fileName}");

usingvarmodelStream=awaitWhisperGgmlDownloader.GetGgmlModelAsync(ggmlType);

usingvarfileWriter=File.OpenWrite(fileName);

awaitmodelStream.CopyToAsync(fileWriter);

}

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# Docker on Apple M2: Failed to load native whisper library · Issue #296 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Docker on Apple M2: Failed to load native whisper library\#296

Open

[pavelzaitsau](/pavelzaitsau) opened this issue
Dec 11, 2024
· 2 comments

Open

# [Docker on Apple M2: Failed to load native whisper library](\#top)\#296

[pavelzaitsau](/pavelzaitsau) opened this issue
Dec 11, 2024
· 2 comments

## Comments

[![@pavelzaitsau](https://avatars.githubusercontent.com/u/2665756?s=80&v=4)](/pavelzaitsau)


Copy link

### **[pavelzaitsau](/pavelzaitsau)**     commented   [Dec 11, 2024](\#issue-2733483373)

|     |
| --- |
| \* _Describtion_<br>I use `Whisper.net` ( `AllRuntimes`, v1.7.3) in dotnet9 container running MacOS Docker (both Docker VMM and Apple Virtualisation Framework). I got the error "Failed to load native whisper library". The same Dockerfile and codebase works fine on non-ARM Docker or natively on Mac<br>**To Reproduce**<br>Steps to reproduce the behavior:<br>1. Dockerfile<br>   <br>   [![image](https://private-user-images.githubusercontent.com/2665756/394834589-ccdf98dc-414d-464a-8c56-f57eca036ca0.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTQwOTEsIm5iZiI6MTczNTMxMzc5MSwicGF0aCI6Ii8yNjY1NzU2LzM5NDgzNDU4OS1jY2RmOThkYy00MTRkLTQ2NGEtOGM1Ni1mNTdlY2EwMzZjYTAucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIyNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMjdUMTUzNjMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MzY0ZTc3ZGE1MGNiNTMwNDQ3MTVkMjA0MGQ5MmJjYzE4NjhhNjIyZWViZDVlODA4NWY1MjY2YWQ5YzBkYWUxYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.qBBOYyoYjo_w_KyCjOETF8DlIZ5Vohmu2j8JL9brBpc)](https://private-user-images.githubusercontent.com/2665756/394834589-ccdf98dc-414d-464a-8c56-f57eca036ca0.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTQwOTEsIm5iZiI6MTczNTMxMzc5MSwicGF0aCI6Ii8yNjY1NzU2LzM5NDgzNDU4OS1jY2RmOThkYy00MTRkLTQ2NGEtOGM1Ni1mNTdlY2EwMzZjYTAucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIyNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMjdUMTUzNjMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MzY0ZTc3ZGE1MGNiNTMwNDQ3MTVkMjA0MGQ5MmJjYzE4NjhhNjIyZWViZDVlODA4NWY1MjY2YWQ5YzBkYWUxYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.qBBOYyoYjo_w_KyCjOETF8DlIZ5Vohmu2j8JL9brBpc)<br>   <br>2. Usage<br>   <br>   [![image](https://private-user-images.githubusercontent.com/2665756/394837440-eaaeb0f1-a320-4857-877a-5a3def15e599.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTQwOTEsIm5iZiI6MTczNTMxMzc5MSwicGF0aCI6Ii8yNjY1NzU2LzM5NDgzNzQ0MC1lYWFlYjBmMS1hMzIwLTQ4NTctODc3YS01YTNkZWYxNWU1OTkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIyNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMjdUMTUzNjMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ODFhNDMyY2U3MWYxYzA5M2ZjY2ZmMTU1ZjViZDNkOTE5NjI3YTZhZDg0ZWYzMmMyMTJlNmFkZDkzNDk3ODQ0YyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.7Hg1sv0tmxisrtlnCcJgZ3ChIZtYpauNqswiA-W9OPE)](https://private-user-images.githubusercontent.com/2665756/394837440-eaaeb0f1-a320-4857-877a-5a3def15e599.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTQwOTEsIm5iZiI6MTczNTMxMzc5MSwicGF0aCI6Ii8yNjY1NzU2LzM5NDgzNzQ0MC1lYWFlYjBmMS1hMzIwLTQ4NTctODc3YS01YTNkZWYxNWU1OTkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIyNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMjdUMTUzNjMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ODFhNDMyY2U3MWYxYzA5M2ZjY2ZmMTU1ZjViZDNkOTE5NjI3YTZhZDg0ZWYzMmMyMTJlNmFkZDkzNDk3ODQ0YyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.7Hg1sv0tmxisrtlnCcJgZ3ChIZtYpauNqswiA-W9OPE)<br>   <br>3. Here is runtime directory of the app<br>   <br>   [![image](https://private-user-images.githubusercontent.com/2665756/394835914-a4e74129-7d0f-4d0c-a457-b1097b40f162.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTQwOTEsIm5iZiI6MTczNTMxMzc5MSwicGF0aCI6Ii8yNjY1NzU2LzM5NDgzNTkxNC1hNGU3NDEyOS03ZDBmLTRkMGMtYTQ1Ny1iMTA5N2I0MGYxNjIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIyNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMjdUMTUzNjMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YmYyMjZjMzI0MmM4MGEyNWNjMmQzMDlhNzNhYjg4M2Q4NzBlYjBhNWM2ZWE0MWE4NjQwYjZmOGIwNjk2OTZkZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.HoKydDJm56P98oEKdYlZN8IzsThSRM4FLWLdFqaslbI)](https://private-user-images.githubusercontent.com/2665756/394835914-a4e74129-7d0f-4d0c-a457-b1097b40f162.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTQwOTEsIm5iZiI6MTczNTMxMzc5MSwicGF0aCI6Ii8yNjY1NzU2LzM5NDgzNTkxNC1hNGU3NDEyOS03ZDBmLTRkMGMtYTQ1Ny1iMTA5N2I0MGYxNjIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIyNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMjdUMTUzNjMxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YmYyMjZjMzI0MmM4MGEyNWNjMmQzMDlhNzNhYjg4M2Q4NzBlYjBhNWM2ZWE0MWE4NjQwYjZmOGIwNjk2OTZkZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.HoKydDJm56P98oEKdYlZN8IzsThSRM4FLWLdFqaslbI)<br>   <br>**Expected behaviour:**<br>No error like on x64-based docker<br>**Environment:**<br>- OS Version: Apple M2; MacOS Sequoia 15.1.1 (24B91); Docker (both Docker VMM and Apple Virtualisation Framework)<br>- Whisper Version: v1.7.3<br>- Runtime: `Whisper.net.AllRuntimes`, `Whisper.net.Runtime` |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Dec 12, 2024](\#issuecomment-2538326229)

|     |
| --- |
| Hey [@pavelzaitsau](https://github.com/pavelzaitsau),<br>When running the docker on your M2 mac, which is the base image that you used?<br>Some workarounds:<br>You can try to build and run your docker file on M2 mac using:<br>`docker build --platform linux/amd64 -t <image-name> .`<br>`docker run --platform linux/amd64 <image-name>`<br>However, Whisper.net should support linux arm64 as well, so just running in on that should generally work. Maybe you're missing some dependencies for that base image (e.g. the `libstdc++6` or `glibc 2.31`)<br>You can also debug this further by running `ldd libwhisper.so` and `ldd libggml-whisper.so` in the docker for those linux-arm64 runtimes => that will show you the dependencies and if they are available on that system. |

All reactions

Sorry, something went wrong.


[![@pavelzaitsau](https://avatars.githubusercontent.com/u/2665756?s=80&v=4)](/pavelzaitsau)


Copy link

Author

### **[pavelzaitsau](/pavelzaitsau)**     commented   [Dec 16, 2024](\#issuecomment-2546104327)

|     |
| --- |
| Hi [@sandrohanea](https://github.com/sandrohanea)!<br>I tried both your options with no luck. Probably something does not works especially on ARM64 platform or i missed something with the packages. But all the libraries you mentioned are in place<br>[![image](https://private-user-images.githubusercontent.com/2665756/396162202-71e958c3-a345-4a93-901d-4ec3ffe8abba.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTQwOTIsIm5iZiI6MTczNTMxMzc5MiwicGF0aCI6Ii8yNjY1NzU2LzM5NjE2MjIwMi03MWU5NThjMy1hMzQ1LTRhOTMtOTAxZC00ZWMzZmZlOGFiYmEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIyNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMjdUMTUzNjMyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YzI3NGViMzkzNWE0MTE0ZmYwOTRlZDc0N2ZiMzQ4N2Q5YjRmMzBkMjQ1YmY0ZDFhNTBmNmJjOWIwMmZjMGM0YiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.MOrQ2KUaXL9cXglXXThnCJre_lbzNUh_zrTU-CEw79Y)](https://private-user-images.githubusercontent.com/2665756/396162202-71e958c3-a345-4a93-901d-4ec3ffe8abba.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzUzMTQwOTIsIm5iZiI6MTczNTMxMzc5MiwicGF0aCI6Ii8yNjY1NzU2LzM5NjE2MjIwMi03MWU5NThjMy1hMzQ1LTRhOTMtOTAxZC00ZWMzZmZlOGFiYmEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTIyNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDEyMjdUMTUzNjMyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YzI3NGViMzkzNWE0MTE0ZmYwOTRlZDc0N2ZiMzQ4N2Q5YjRmMzBkMjQ1YmY0ZDFhNTBmNmJjOWIwMmZjMGM0YiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.MOrQ2KUaXL9cXglXXThnCJre_lbzNUh_zrTU-CEw79Y)<br>I'm attaching the complete test project to test on your side if needed<br>```<br>docker build -f test-whisper-net/Dockerfile . -t whisper --platform linux/arm64<br>```<br>`test_whisper_net.csproj` (took test audio files from the repo)<br>```<br><Project Sdk="Microsoft.NET.Sdk"><br>    <PropertyGroup><br>        <OutputType>Exe</OutputType><br>        <TargetFramework>net9.0</TargetFramework><br>        <RootNamespace>test_whisper_net</RootNamespace><br>        <LangVersion>latestmajor</LangVersion><br>        <ImplicitUsings>enable</ImplicitUsings><br>        <Nullable>enable</Nullable><br>        <DockerDefaultTargetOS>Linux</DockerDefaultTargetOS><br>    </PropertyGroup><br>    <ItemGroup><br>        <Content Include="..\.dockerignore"><br>            <Link>.dockerignore</Link><br>        </Content><br>    </ItemGroup><br>    <ItemGroup><br>      <Folder Include="audio\" /><br>      <Folder Include="model\" /><br>    </ItemGroup><br>    <ItemGroup><br>      <PackageReference Include="Whisper.net" Version="1.7.3" /><br>      <PackageReference Include="Whisper.net.AllRuntimes" Version="1.7.3" /><br>    </ItemGroup><br>    <ItemGroup><br>      <None Update="model\ggml-base.bin"><br>        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory><br>      </None><br>      <None Update="audio\bush.wav"><br>        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory><br>      </None><br>      <None Update="audio\kennedy.wav"><br>        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory><br>      </None><br>      <None Update="audio\multichannel.wav"><br>        <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory><br>      </None><br>    </ItemGroup><br></Project><br>```<br>`program.cs`<br>```<br>using System.Diagnostics;<br>using Whisper.net;<br>var result = new List<string>();<br>var whisperFactory = WhisperFactory.FromPath("model/ggml-base.bin");<br>var files = new DirectoryInfo("audio").EnumerateFiles("*", SearchOption.TopDirectoryOnly);<br>foreach (var file in files)<br>{<br>    var stopwatch = Stopwatch.StartNew();<br>    Console.ForegroundColor = ConsoleColor.Green;<br>    Console.WriteLine($"Processing {file}");<br>    using var processor = whisperFactory<br>        .CreateBuilder()<br>        .WithLanguage("auto")<br>        .WithNoContext()<br>        .WithSegmentEventHandler(segment =><br>        {<br>            result.AddRange(<br>                segment.Text<br>                    .Trim()<br>                    .Split(['\n', '\r'], StringSplitOptions.RemoveEmptyEntries)<br>                    .Select(x => x.Trim())<br>                    .Where(x => !string.IsNullOrWhiteSpace(x)));<br>        })<br>        .Build();<br>    await using var stream = file.OpenRead();<br>    try<br>    {<br>        processor.Process(stream);<br>        <br>        Console.ForegroundColor = ConsoleColor.Magenta;<br>        Console.WriteLine($"Processed in {stopwatch.Elapsed.TotalSeconds:0.00}s.");<br>    }<br>    catch (Exception e)<br>    {<br>        Console.ForegroundColor = ConsoleColor.Red;<br>        Console.WriteLine($"Error processing {file}: {e.Message}");<br>        continue;<br>    }<br>    if (result.Count > 0)<br>    {<br>        foreach (var line in result)<br>        {<br>            Console.ForegroundColor = ConsoleColor.Cyan;<br>            Console.WriteLine(line);<br>        }<br>    }<br>    else<br>    {<br>        Console.ForegroundColor = ConsoleColor.Yellow;<br>        Console.WriteLine("No text detected");<br>    }<br>    <br>    Console.WriteLine();<br>}<br>```<br>`Dockerfile`<br>```<br>FROM debian:stable AS base<br>ENV \<br>  APP_UID=1654 \<br>  DOTNET_VERSION=9.0 \<br>  DOTNET_RUNNING_IN_CONTAINER=true \<br>  DOTNET_SYSTEM_GLOBALIZATION_INVARIANT=false<br>USER root<br># Install dependencies<br>RUN apt update && apt install -y --no-install-recommends \<br>    ca-certificates \<br>    curl \<br>    libc6 \<br>    libicu-dev \<br>    libgcc-s1 \<br>    libstdc++6 \<br>    tzdata \<br>    gnupg \<br>    libsndfile1\<br>    xz-utils \<br>    && apt clean && rm -rf /var/lib/apt/lists/*<br># Install dotnet 9.0 runtimes<br>RUN curl -sSL https://dot.net/v1/dotnet-install.sh | bash /dev/stdin -Channel 9.0 -Runtime dotnet -Runtime aspnetcore -InstallDir /usr/share/dotnet \<br>    && ln -s /usr/share/dotnet/dotnet /usr/bin/dotnet<br>USER $APP_UID<br>WORKDIR /app<br>FROM mcr.microsoft.com/dotnet/sdk:9.0 AS build<br>ARG BUILD_CONFIGURATION=Release<br>WORKDIR /src<br>COPY ["test-whisper-net/test-whisper-net.csproj", "test-whisper-net/"]<br>RUN dotnet restore "test-whisper-net/test-whisper-net.csproj"<br>COPY . .<br>WORKDIR "/src/test-whisper-net"<br>RUN dotnet build "test-whisper-net.csproj" -c $BUILD_CONFIGURATION -o /app/build<br>FROM build AS publish<br>ARG BUILD_CONFIGURATION=Release<br>RUN dotnet publish "test-whisper-net.csproj" -c $BUILD_CONFIGURATION -o /app/publish /p:UseAppHost=false<br>FROM base AS final<br>RUN dotnet --list-runtimes<br>WORKDIR /app<br>COPY --from=publish /app/publish .<br>ENTRYPOINT ["dotnet", "test-whisper-net.dll"]<br>``` |

All reactions

Sorry, something went wrong.


[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fissues%2F296)

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


No branches or pull requests

2 participants


[![@pavelzaitsau](https://avatars.githubusercontent.com/u/2665756?s=52&v=4)](/pavelzaitsau)[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

You can’t perform that action at this time.

---

# Labels · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## No labels!

There aren’t any labels for this repository quite yet.

### 26labels

Sort


Sort

[Alphabetically](?sort=name-asc) [Reverse alphabetically](?sort=name-desc) [Most issues](?sort=count-desc) [Fewest issues](?sort=count-asc)

[blocked](/sandrohanea/whisper.net/labels/blocked)

blocked

[bug](/sandrohanea/whisper.net/labels/bug)

bug

Something isn't working

[client-error](/sandrohanea/whisper.net/labels/client-error)

client-error

[codeball:approved](/sandrohanea/whisper.net/labels/codeball%3Aapproved)

codeball:approved

Codeball

[codeball:needs-careful-review](/sandrohanea/whisper.net/labels/codeball%3Aneeds-careful-review)

codeball:needs-careful-review

Codeball

[codeball:needs-review](/sandrohanea/whisper.net/labels/codeball%3Aneeds-review)

codeball:needs-review

Codeball

[configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes)

configuration-runtimes

[4](/sandrohanea/whisper.net/issues?q=label%3A%22configuration-runtimes%22+is%3Aopen "4 open issues and pull requests")

[dependencies](/sandrohanea/whisper.net/labels/dependencies)

dependencies

Pull requests that update a dependency file

[documentation](/sandrohanea/whisper.net/labels/documentation)

documentation

Improvements or additions to documentation

[duplicate](/sandrohanea/whisper.net/labels/duplicate)

duplicate

This issue or pull request already exists

[enhancement](/sandrohanea/whisper.net/labels/enhancement)

enhancement

New feature or request

[2](/sandrohanea/whisper.net/issues?q=label%3A%22enhancement%22+is%3Aopen "2 open issues and pull requests")

[examples](/sandrohanea/whisper.net/labels/examples)

examples

[good first issue](/sandrohanea/whisper.net/labels/good%20first%20issue)

good first issue

Good for newcomers

[GPU](/sandrohanea/whisper.net/labels/GPU)

GPU

[2](/sandrohanea/whisper.net/issues?q=label%3A%22GPU%22+is%3Aopen "2 open issues and pull requests")

[help wanted](/sandrohanea/whisper.net/labels/help%20wanted)

help wanted

Extra attention is needed

[improvement](/sandrohanea/whisper.net/labels/improvement)

improvement

[in progress](/sandrohanea/whisper.net/labels/in%20progress)

in progress

[invalid](/sandrohanea/whisper.net/labels/invalid)

invalid

This doesn't seem right

[pending deployment](/sandrohanea/whisper.net/labels/pending%20deployment)

pending deployment

[planned](/sandrohanea/whisper.net/labels/planned)

planned

[question](/sandrohanea/whisper.net/labels/question)

question

Further information is requested

[1](/sandrohanea/whisper.net/issues?q=label%3A%22question%22+is%3Aopen "1 open issue or pull request")

[regression](/sandrohanea/whisper.net/labels/regression)

regression

[1](/sandrohanea/whisper.net/issues?q=label%3A%22regression%22+is%3Aopen "1 open issue or pull request")

[WaveParser](/sandrohanea/whisper.net/labels/WaveParser)

WaveParser

[wip](/sandrohanea/whisper.net/labels/wip)

wip

[wontfix](/sandrohanea/whisper.net/labels/wontfix)

wontfix

This will not be worked on

[WTD](/sandrohanea/whisper.net/labels/WTD)

WTD

WhatTheDiff Code Review

You can’t perform that action at this time.

---

# CD (Native + dotnet) · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## CD (Native + dotnet)     \#\#\# CD (Native + dotnet)         \#\# Actions

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

[release.yml](/sandrohanea/whisper.net/blob/main/.github/workflows/release.yml)

will be ignored since log searching is not yet available


**25 workflow runs**

**25 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/12507001106)CD (Native + dotnet)
#25:


Manually run


by
[sandrohanea](/sandrohanea)

December 26, 2024 18:14
1h 33m 47s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 26, 2024 18:14
1h 33m 47s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12507001106/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/12106253227)CD (Native + dotnet)
#24:


Manually run


by
[sandrohanea](/sandrohanea)

December 1, 2024 14:19
1h 32m 5s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 1, 2024 14:19
1h 32m 5s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12106253227/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/12087627468)CD (Native + dotnet)
#23:


Manually run


by
[sandrohanea](/sandrohanea)

November 29, 2024 15:55
1h 33m 29s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 29, 2024 15:55
1h 33m 29s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12087627468/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/12084459360)CD (Native + dotnet)
#22:


Manually run


by
[sandrohanea](/sandrohanea)

November 29, 2024 12:07
1h 36m 44s
[fix/nuget-vulkan](/sandrohanea/whisper.net/tree/refs/heads/fix/nuget-vulkan "fix/nuget-vulkan")

[fix/nuget-vulkan](/sandrohanea/whisper.net/tree/refs/heads/fix/nuget-vulkan "fix/nuget-vulkan")

November 29, 2024 12:07
1h 36m 44s


- [View #284](/sandrohanea/whisper.net/pull/284)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12084459360/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/12084408205)CD (Native + dotnet)
#21:


Manually run


by
[sandrohanea](/sandrohanea)

November 29, 2024 12:03
2m 52s
[fix/nuget-vulkan](/sandrohanea/whisper.net/tree/refs/heads/fix/nuget-vulkan "fix/nuget-vulkan")

[fix/nuget-vulkan](/sandrohanea/whisper.net/tree/refs/heads/fix/nuget-vulkan "fix/nuget-vulkan")

November 29, 2024 12:03
2m 52s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12084408205/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/12067711749)CD (Native + dotnet)
#20:


Manually run


by
[sandrohanea](/sandrohanea)

November 28, 2024 11:08
1h 39m 4s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 28, 2024 11:08
1h 39m 4s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12067711749/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/12038208433)CD (Native + dotnet)
#19:


Manually run


by
[sandrohanea](/sandrohanea)

November 26, 2024 20:06
10m 50s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 26, 2024 20:06
10m 50s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12038208433/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11758222690)CD (Native + dotnet)
#18:


Manually run


by
[sandrohanea](/sandrohanea)

November 9, 2024 17:42
1h 7m 0s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 9, 2024 17:42
1h 7m 0s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11758222690/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11693191206)CD (Native + dotnet)
#17:


Manually run


by
[sandrohanea](/sandrohanea)

November 5, 2024 21:59
1h 41m 23s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 5, 2024 21:59
1h 41m 23s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11693191206/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11614296925)CD (Native + dotnet)
#16:


Manually run


by
[sandrohanea](/sandrohanea)

October 31, 2024 14:53
1h 36m 35s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 31, 2024 14:53
1h 36m 35s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11614296925/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11603513897)CD (Native + dotnet)
#15:


Manually run


by
[sandrohanea](/sandrohanea)

October 30, 2024 23:56
1h 38m 8s
[fix/CD-pipeline](/sandrohanea/whisper.net/tree/refs/heads/fix/CD-pipeline "fix/CD-pipeline")

[fix/CD-pipeline](/sandrohanea/whisper.net/tree/refs/heads/fix/CD-pipeline "fix/CD-pipeline")

October 30, 2024 23:56
1h 38m 8s


- [View #248](/sandrohanea/whisper.net/pull/248)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11603513897/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11603506584)CD (Native + dotnet)
#14:


Manually run


by
[sandrohanea](/sandrohanea)

October 30, 2024 23:55
50s
[fix/CD-pipeline](/sandrohanea/whisper.net/tree/refs/heads/fix/CD-pipeline "fix/CD-pipeline")

[fix/CD-pipeline](/sandrohanea/whisper.net/tree/refs/heads/fix/CD-pipeline "fix/CD-pipeline")

October 30, 2024 23:55
50s


- [View #248](/sandrohanea/whisper.net/pull/248)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11603506584/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11541111613)CD (Native + dotnet)
#13:


Manually run


by
[sandrohanea](/sandrohanea)

October 27, 2024 14:02
1h 35m 59s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 27, 2024 14:02
1h 35m 59s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11541111613/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11540891601)CD (Native + dotnet)
#12:


Manually run


by
[sandrohanea](/sandrohanea)

October 27, 2024 13:26
36m 19s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 27, 2024 13:26
36m 19s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11540891601/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11392489914)CD (Native + dotnet)
#11:


Manually run


by
[sandrohanea](/sandrohanea)

October 17, 2024 20:25
1h 32m 57s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 17, 2024 20:25
1h 32m 57s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11392489914/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11326686342)CD (Native + dotnet)
#10:


Manually run


by
[sandrohanea](/sandrohanea)

October 14, 2024 11:33
1h 39m 54s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 14, 2024 11:33
1h 39m 54s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11326686342/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11324881965)CD (Native + dotnet)
#9:


Manually run


by
[sandrohanea](/sandrohanea)

October 14, 2024 09:36
1h 35m 56s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 14, 2024 09:36
1h 35m 56s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11324881965/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11324451005)CD (Native + dotnet)
#8:


Manually run


by
[sandrohanea](/sandrohanea)

October 14, 2024 09:09
23m 10s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 14, 2024 09:09
23m 10s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11324451005/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11323281206)CD (Native + dotnet)
#7:


Manually run


by
[sandrohanea](/sandrohanea)

October 14, 2024 07:56
47s
[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

October 14, 2024 07:56
47s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11323281206/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11323179591)CD (Native + dotnet)
#6:


Manually run


by
[sandrohanea](/sandrohanea)

October 14, 2024 07:48
58s
[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

October 14, 2024 07:48
58s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11323179591/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11317862067)CD (Native + dotnet)
#5:


Manually run


by
[sandrohanea](/sandrohanea)

October 13, 2024 21:30
1h 36m 9s
[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

October 13, 2024 21:30
1h 36m 9s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11317862067/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11317251765)CD (Native + dotnet)
#4:


Manually run


by
[sandrohanea](/sandrohanea)

October 13, 2024 19:52
1h 31m 59s
[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

October 13, 2024 19:52
1h 31m 59s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11317251765/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11316582908)CD (Native + dotnet)
#3:


Manually run


by
[sandrohanea](/sandrohanea)

October 13, 2024 18:06
1h 25m 37s
[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

[sandro/fix-release](/sandrohanea/whisper.net/tree/refs/heads/sandro/fix-release "sandro/fix-release")

October 13, 2024 18:06
1h 25m 37s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11316582908/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11316552778)CD (Native + dotnet)
#2:


Manually run


by
[sandrohanea](/sandrohanea)

October 13, 2024 18:02
2s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 13, 2024 18:02
2s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11316552778/workflow)

[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/runs/11316535912)CD (Native + dotnet)
#1:


Manually run


by
[sandrohanea](/sandrohanea)

October 13, 2024 18:00Failure[main](/sandrohanea/whisper.net "main")

[main](/sandrohanea/whisper.net "main")

October 13, 2024 18:00Failure

- [View workflow file](/sandrohanea/whisper.net/actions/runs/11316535912/workflow)

You can’t perform that action at this time.

---

# CD (Native + dotnet) · sandrohanea/whisper.net@a3ec2f8 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CD (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/release.yml)

# CD (Native + dotnet)  \#25

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12507001106)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12507001106)

## Summary

# CD (Native + dotnet)

## CD (Native + dotnet) \#25

[Usage](/sandrohanea/whisper.net/actions/runs/12507001106/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12507001106/workflow)

Re-run triggered
December 26, 2024 18:47

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=32&v=4)sandrohanea](/sandrohanea)

⁠

[a3ec2f8](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

StatusSuccess

Total duration [1h 33m 47s](/sandrohanea/whisper.net/actions/runs/12507001106/usage)

Artifacts [20](#artifacts)

## [release.yml](/sandrohanea/whisper.net/actions/runs/12507001106/workflow)

on: workflow\_dispatch

[android / native-build\\
\\
1m 58s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893584043) android / native-build[macos / intel-native-build\\
\\
1m 15s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893585243) macos / intel-native-build[macos / arm-native-build\\
\\
2m 37s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893585062) macos / arm-native-build[windows / intel-native-build\\
\\
1m 21s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893586099) windows / intel-native-build[windows / arm-native-build\\
\\
1m 26s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893585949) windows / arm-native-build[windows-no-avx / native-build\\
\\
1m 29s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893586464) windows-no-avx / native-build[wasm / native-build\\
\\
1m 0s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893585744) wasm / native-build[linux / native-build\\
\\
2m 16s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893584223) linux / native-build[linux-no-avx / native-build\\
\\
1m 21s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893584530) linux-no-avx / native-build[windows-cuda / native-build\\
\\
1h 23m](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893586252) windows-cuda / native-build[windows-vulkan / native-build\\
\\
2m 42s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893586779) windows-vulkan / native-build[windows-openvino / native-build\\
\\
1m 57s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893586603) windows-openvino / native-build[linux-cuda / native-build\\
\\
59m 7s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893584347) linux-cuda / native-build[linux-openvino / native-build\\
\\
1m 15s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893584675) linux-openvino / native-build[linux-vulkan / native-build\\
\\
3m 15s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893584872) linux-vulkan / native-build[macos-coreml / intel-native-build\\
\\
1m 14s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893585543) macos-coreml / intel-native-build[macos-coreml / arm-native-build\\
\\
2m 33s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34893585388) macos-coreml / arm-native-build

[pack-all / pack-nupkgs\\
\\
7m 58s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34895351697) pack-all / pack-nupkgs

[push-nuget / push-nupkgs\\
\\
1m 7s](/sandrohanea/whisper.net/actions/runs/12507001106/job/34895526562) push-nuget / push-nupkgs

Oh hello! Nice to see you.

Made with ❤️ by [humans.txt](https://actions.github.io/humans.txt)

Fit to window

Zoom out

Zoom in

## Artifacts

Produced during runtime

| Name | Size |  |
| --- | --- | --- |
| cuda-install-linux-5.15.0-1074-azure-local-log.txt | 40.5 KB |  |
| linux-cuda-build | 146 MB |  |
| nupkgs | 311 MB |  |
| windows-cuda-build | 145 MB |  |

You can’t perform that action at this time.

---

# Fixed #74 · sandrohanea/whisper.net@dd7525c · GitHub



---

# Removed unnecessary instances and simplified LogProviders + RuntimeOp… · sandrohanea/whisper.net@db4a246 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/db4a2469e73d8b62e6d535f0b093296742b13799)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Removed unnecessary instances and simplified LogProviders + RuntimeOp…


[Browse files](/sandrohanea/whisper.net/tree/db4a2469e73d8b62e6d535f0b093296742b13799) Browse the repository at this point in the history

```
…tions (#304)

* Removed unnecessary instances and simplified LogProviders + RuntimeOptions

* Changed logger provider to return IDisposable
```

- Loading branch information

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

authored
Dec 21, 2024

1 parent

[b456f6e](/sandrohanea/whisper.net/commit/b456f6eb47c012f5adefd2113a2e19b8339848ec)commit db4a246

Show file tree

Hide file tree

Showing
**17 changed files**
with
**131 additions**
and
**146 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

3 changes: 3 additions & 0 deletions
3 [.github/workflows/dotnet.yml](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344 ".github/workflows/dotnet.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/db4a2469e73d8b62e6d535f0b093296742b13799/.github/workflows/dotnet.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Up | @@ -51,6 +51,7 @@ jobs: |
|  |  |  |
|  |  | \- name: Upload trx files |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | if: success() \|\| failure() # run this step even if previous step failed |
|  |  | with: |
|  |  | name: test-results-macos |
|  |  | path: ./\*\*/\*.trx |
| [Expand Down](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Down [Expand Up](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Up | @@ -96,6 +97,7 @@ jobs: |
|  |  |  |
|  |  | \- name: Upload trx files |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | if: success() \|\| failure() # run this step even if previous step failed |
|  |  | with: |
|  |  | name: test-results-windows |
|  |  | path: ./\*\*/\*.trx |
| [Expand Down](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Down [Expand Up](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Up | @@ -141,6 +143,7 @@ jobs: |
|  |  |  |
|  |  | \- name: Upload trx files |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | if: success() \|\| failure() # run this step even if previous step failed |
|  |  | with: |
|  |  | name: test-results-linux |
|  |  | path: ./\*\*/\*.trx |
| [Expand Down](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344) Expand Down |  |

8 changes: 4 additions & 4 deletions
8 [Whisper.net/LibraryLoader/CudaHelper.cs](#diff-feaf6c698ad5f5efcfdd4abf24d4fefd72e86b534e20403fef47e50884ca5267 "Whisper.net/LibraryLoader/CudaHelper.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/db4a2469e73d8b62e6d535f0b093296742b13799/Whisper.net/LibraryLoader/CudaHelper.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-feaf6c698ad5f5efcfdd4abf24d4fefd72e86b534e20403fef47e50884ca5267) Expand Up | @@ -10,7 +10,7 @@ internal static class CudaHelper |
|  |  | { |
|  |  | publicstaticboolIsCudaAvailable() |
|  |  | { |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,"Checking for CUDA availability."); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,"Checking for CUDA availability."); |
|  |  | INativeCuda?nativeCuda=null; |
|  |  | varcudaDevices=0; |
|  |  | try |
| [Expand All](#diff-feaf6c698ad5f5efcfdd4abf24d4fefd72e86b534e20403fef47e50884ca5267) Expand All | @@ -22,7 +22,7 @@ public static bool IsCudaAvailable() |
|  |  |  |
|  |  | if(!NativeLibrary.TryLoad(libName,outvarlibrary)) |
|  |  | { |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,"Cudart library couldn't be loaded."); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,"Cudart library couldn't be loaded."); |
|  |  | returnfalse; |
|  |  | } |
|  |  | nativeCuda=newNativeLibraryCuda(library); |
| [Expand All](#diff-feaf6c698ad5f5efcfdd4abf24d4fefd72e86b534e20403fef47e50884ca5267) Expand All | @@ -37,11 +37,11 @@ public static bool IsCudaAvailable() |
|  |  | } |
|  |  | catch |
|  |  | { |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,"Cudart library couldn't be loaded."); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,"Cudart library couldn't be loaded."); |
|  |  | returnfalse; |
|  |  | } |
|  |  | #endif |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"NUmber of CUDA devices found: {cudaDevices}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"NUmber of CUDA devices found: {cudaDevices}"); |
|  |  | returncudaDevices>0; |
|  |  | } |
|  |  | finally |
| [Expand Down](#diff-feaf6c698ad5f5efcfdd4abf24d4fefd72e86b534e20403fef47e50884ca5267) Expand Down |  |

46 changes: 23 additions & 23 deletions
46 [Whisper.net/LibraryLoader/NativeLibraryLoader.cs](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea "Whisper.net/LibraryLoader/NativeLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/db4a2469e73d8b62e6d535f0b093296742b13799/Whisper.net/LibraryLoader/NativeLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand Up | @@ -16,21 +16,21 @@ public static class NativeLibraryLoader |
|  |  | internalstaticLoadResultLoadNativeLibrary() |
|  |  | { |
|  |  | #if IOS\|\|MACCATALYST\|\|TVOS |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,"Using LibraryImportInternalWhisper for whisper librar for ios."); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,"Using LibraryImportInternalWhisper for whisper librar for ios."); |
|  |  | returnLoadResult.Success(newLibraryImportInternalWhisper()); |
|  |  | #elif ANDROID |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,"Using LibraryImportLibWhisper for whisper librar for Android."); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,"Using LibraryImportLibWhisper for whisper librar for Android."); |
|  |  | returnLoadResult.Success(newLibraryImportLibWhisper()); |
|  |  | #else |
|  |  | // If the user has handled loading the library themselves, we don't need to do anything. |
|  |  | if(RuntimeOptions.Instance.BypassLoading |
|  |  | if(RuntimeOptions.LoadedLibrary.HasValue |
|  |  | \|\|RuntimeInformation.OSArchitecture.ToString().Equals("wasm",StringComparison.OrdinalIgnoreCase)) |
|  |  | { |
|  |  | #if NET8\_0\_OR\_GREATER |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,"Using LibraryImportLibWhisper for whisper library with bypassed loading."); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,"Using LibraryImportLibWhisper for whisper library with bypassed loading."); |
|  |  | returnLoadResult.Success(newLibraryImportLibWhisper()); |
|  |  | #else |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,"Using DllImportsNativeLibWhisper for whisper library with bypassed loading."); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,"Using DllImportsNativeLibWhisper for whisper library with bypassed loading."); |
|  |  | returnLoadResult.Success(newDllImportsNativeLibWhisper()); |
|  |  | #endif |
|  |  | } |
| [Expand Down](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand Down [Expand Up](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand Up | @@ -87,30 +87,30 @@ \_ when RuntimeInformation.IsOSPlatform(OSPlatform.OSX) => "macos", |
|  |  |  |
|  |  | varwhisperPath=GetLibraryPath(platform,"whisper",runtimePath); |
|  |  |  |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Trying to load ggml library from {ggmlPath}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Trying to load ggml library from {ggmlPath}"); |
|  |  | if(!libraryLoader.TryOpenLibrary(ggmlPath,outvarggmlLibraryHandle)) |
|  |  | { |
|  |  | lastError=libraryLoader.GetLastError(); |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Failed to load ggml library from {ggmlPath}. Error: {lastError}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Failed to load ggml library from {ggmlPath}. Error: {lastError}"); |
|  |  | continue; |
|  |  | } |
|  |  |  |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Trying to load whisper library from {whisperPath}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Trying to load whisper library from {whisperPath}"); |
|  |  | // Ggml was loaded, for this runtimePath, we need to load whisper as well |
|  |  | if(!libraryLoader.TryOpenLibrary(whisperPath,outvarwhisperHandle)) |
|  |  | { |
|  |  | lastError=libraryLoader.GetLastError(); |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Failed to load whisper library from {whisperPath}. Error: {lastError}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Failed to load whisper library from {whisperPath}. Error: {lastError}"); |
|  |  | continue; |
|  |  | } |
|  |  |  |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Successfully loaded whisper library from {whisperPath}"); |
|  |  | RuntimeOptions.Instance.SetLoadedLibrary(runtimeLibrary); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Successfully loaded whisper library from {whisperPath}"); |
|  |  | RuntimeOptions.LoadedLibrary=runtimeLibrary; |
|  |  | #if NETSTANDARD |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Using DllImportsNativeWhisper for whisper library"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Using DllImportsNativeWhisper for whisper library"); |
|  |  | varnativeWhisper=newDllImportsNativeWhisper(); |
|  |  | #else |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Using NativeLibraryWhisper for whisper library"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Using NativeLibraryWhisper for whisper library"); |
|  |  | varnativeWhisper=newNativeLibraryWhisper(whisperHandle,ggmlLibraryHandle); |
|  |  | #endif |
|  |  |  |
| [Expand Down](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand Down [Expand Up](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand Up | @@ -143,15 +143,15 @@ private static string GetLibraryPath(string platform, string libraryName, string |
|  |  |  |
|  |  | privatestaticboolIsRuntimeSupported(RuntimeLibraryruntime,stringplatform,stringarchitecture,List<RuntimeLibrary>runtimeLibraries) |
|  |  | { |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Checking if runtime {runtime} is supported on the platform: {platform}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Checking if runtime {runtime} is supported on the platform: {platform}"); |
|  |  | #if !NETSTANDARD |
|  |  | // If AVX is not supported, we can't use CPU runtime on Windows and linux (we should use noavx runtime instead). |
|  |  | if(runtime==RuntimeLibrary.Cpu |
|  |  | &&(platform=="win"\|\|platform=="linux") |
|  |  | &&(architecture=="x86"\|\|architecture=="x64") |
|  |  | &&(!Avx.IsSupported\|\|!Avx2.IsSupported\|\|!Fma.IsSupported)) |
|  |  | { |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"No AVX, AVX2 or Fma support is identified on this host. AVX: {Avx.IsSupported} AVX2: {Avx2.IsSupported} FMA: {Fma.IsSupported}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"No AVX, AVX2 or Fma support is identified on this host. AVX: {Avx.IsSupported} AVX2: {Avx2.IsSupported} FMA: {Fma.IsSupported}"); |
|  |  | // If noavx runtime is not available, we should throw an exception, because we can't use CPU runtime without AVX support. |
|  |  | if(!runtimeLibraries.Contains(RuntimeLibrary.CpuNoAvx)) |
|  |  | { |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -166,19 +166,19 @@ private static bool IsRuntimeSupported(RuntimeLibrary runtime, string platform, |
|  |  | { |
|  |  | varcudaIndex=runtimeLibraries.IndexOf(RuntimeLibrary.Cuda); |
|  |  |  |
|  |  | if(cudaIndex==RuntimeOptions.Instance.RuntimeLibraryOrder.Count-1) |
|  |  | if(cudaIndex==RuntimeOptions.RuntimeLibraryOrder.Count-1) |
|  |  | { |
|  |  | // We still can use Cuda as a fallback to the CPU if it's the last runtime in the list. |
|  |  | // This scenario can be used to not install 2 runtimes (CPU and Cuda) on the same host, |
|  |  | // \+ override the default RuntimeLibraryOrder to have only \[ Cuda \]. |
|  |  | // This way, the user can use Cuda if it's available, otherwise, the CPU runtime will be used. |
|  |  | // However, the cudart library should be available in the system. |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,"Cuda runtime is not available, but it's the last runtime in the list. "+ |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,"Cuda runtime is not available, but it's the last runtime in the list. "+ |
|  |  | "It will be used as a fallback to the CPU runtime."); |
|  |  | returntrue; |
|  |  | } |
|  |  |  |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,"Cuda driver is not available or no cuda device is identified."); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,"Cuda driver is not available or no cuda device is identified."); |
|  |  | returnfalse; |
|  |  | } |
|  |  |  |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -193,14 +193,14 @@ private static bool IsRuntimeSupported(RuntimeLibrary runtime, string platform, |
|  |  | // NetFramework and Mono will crash if we try to get the directory of an empty string. |
|  |  | varassemblySearchPaths=new\[\] |
|  |  | { |
|  |  | GetSafeDirectoryName(RuntimeOptions.Instance.LibraryPath), |
|  |  | GetSafeDirectoryName(RuntimeOptions.LibraryPath), |
|  |  | AppDomain.CurrentDomain.RelativeSearchPath, |
|  |  | AppDomain.CurrentDomain.BaseDirectory, |
|  |  | GetSafeDirectoryName(assemblyLocation), |
|  |  | GetSafeDirectoryName(environmentAppStartLocation), |
|  |  | }.Where(it =>!string.IsNullOrEmpty(it)).Distinct(); |
|  |  |  |
|  |  | foreach(varlibraryinRuntimeOptions.Instance.RuntimeLibraryOrder) |
|  |  | foreach(varlibraryinRuntimeOptions.RuntimeLibraryOrder) |
|  |  | { |
|  |  | foreach(varassemblySearchPathinassemblySearchPaths) |
|  |  | { |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -217,15 +217,15 @@ private static bool IsRuntimeSupported(RuntimeLibrary runtime, string platform, |
|  |  | RuntimeLibrary.OpenVino=>Path.Combine(runtimesPath,"openvino",$"{platform}-{architecture}"), |
|  |  | \_ =>thrownewInvalidOperationException("Unknown runtime library") |
|  |  | }; |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Searching for runtime directory {library} in {runtimePath}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Searching for runtime directory {library} in {runtimePath}"); |
|  |  |  |
|  |  | if(Directory.Exists(runtimePath)) |
|  |  | { |
|  |  | yieldreturn(runtimePath,library); |
|  |  | } |
|  |  | else |
|  |  | { |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Runtime directory for {library} not found in {runtimePath}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Runtime directory for {library} not found in {runtimePath}"); |
|  |  | } |
|  |  | } |
|  |  |  |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -245,7 +245,7 @@ private static bool IsRuntimeSupported(RuntimeLibrary runtime, string platform, |
|  |  | } |
|  |  | catch(Exceptionex) |
|  |  | { |
|  |  | LogProvider.Log(WhisperLogLevel.Debug,$"Failed to get directory name from path: {path}. Error: {ex.Message}"); |
|  |  | WhisperLogger.Log(WhisperLogLevel.Debug,$"Failed to get directory name from path: {path}. Error: {ex.Message}"); |
|  |  | returnnull; |
|  |  | } |
|  |  | #endif |
| [Expand Down](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand Down |  |

70 changes: 17 additions & 53 deletions
70 [Whisper.net/LibraryLoader/RuntimeOptions.cs](#diff-aef1726bc422b36cb90b3458d11d126faf9582a0050744272aff4b80a2d15c71 "Whisper.net/LibraryLoader/RuntimeOptions.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/db4a2469e73d8b62e6d535f0b093296742b13799/Whisper.net/LibraryLoader/RuntimeOptions.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-aef1726bc422b36cb90b3458d11d126faf9582a0050744272aff4b80a2d15c71) Expand Up | @@ -2,72 +2,36 @@ |
|  |  |  |
|  |  | namespaceWhisper.net.LibraryLoader; |
|  |  |  |
|  |  | publicclassRuntimeOptions |
|  |  | /// <summary> |
|  |  | /// Provides options for configuring the Whisper runtime. |
|  |  | /// </summary> |
|  |  | /// <remarks> |
|  |  | /// Setting values in this class will affect the behavior of the Whisper runtime only if they are done before any <seealso cref="WhisperFactory"/> is created. |
|  |  | /// </remarks> |
|  |  | publicstaticclassRuntimeOptions |
|  |  | { |
|  |  | privatestaticreadonlyList<RuntimeLibrary>defaultRuntimeOrder=\[RuntimeLibrary.Cuda,RuntimeLibrary.Vulkan,RuntimeLibrary.CoreML,RuntimeLibrary.OpenVino,RuntimeLibrary.Cpu,RuntimeLibrary.CpuNoAvx\]; |
|  |  | internalboolBypassLoading{get;privateset;} |
|  |  | internalstring?LibraryPath{get;privateset;} |
|  |  |  |
|  |  | internalList<RuntimeLibrary>RuntimeLibraryOrder{get;privateset;} |
|  |  | internalRuntimeLibrary?LoadedLibrary{get;privateset;} |
|  |  |  |
|  |  | publicstaticRuntimeOptionsInstance{get;}=new(); |
|  |  |  |
|  |  | privateRuntimeOptions() |
|  |  | { |
|  |  | BypassLoading=false; |
|  |  | LibraryPath=null; |
|  |  | RuntimeLibraryOrder=defaultRuntimeOrder; |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Sets a custom path to the Whisper native library. |
|  |  | /// Gets or sets a custom path to the Whisper native library. |
|  |  | /// </summary> |
|  |  | /// <remarks> |
|  |  | /// By default it is null and automatic path is inferred from the current platform. |
|  |  | /// </remarks> |
|  |  | publicvoidSetLibraryPath(string?path) |
|  |  | { |
|  |  | LibraryPath=path; |
|  |  | } |
|  |  | publicstaticstring?LibraryPath{get;set;} |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Bypasses the automatic loading of the Whisper native library. |
|  |  | /// Gets or sets the order of the runtime libraries to use for processing. |
|  |  | /// </summary> |
|  |  | /// <remarks> |
|  |  | /// By default, it is false. |
|  |  | /// The default order is \[RuntimeLibrary.Cuda, RuntimeLibrary.Vulkan, RuntimeLibrary.CoreML, RuntimeLibrary.OpenVino, RuntimeLibrary.Cpu, RuntimeLibrary.CpuNoAvx\]. |
|  |  | /// </remarks> |
|  |  | publicvoidSetBypassLoading(boolbypass) |
|  |  | { |
|  |  | BypassLoading=bypass; |
|  |  | } |
|  |  | publicstaticList<RuntimeLibrary>RuntimeLibraryOrder{get;set;}=defaultRuntimeOrder; |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Sets the order of the runtime libraries to use for processing. |
|  |  | /// Gets or sets the library that was loaded by the runtime. |
|  |  | /// </summary> |
|  |  | /// <remarks> |
|  |  | /// By default, it is \[RuntimeLibrary.Cuda, RuntimeLibrary.Vulkan, RuntimeLibrary.CoreML, RuntimeLibrary.OpenVino, RuntimeLibrary.Cpu\]. |
|  |  | /// Setting a custom value will bypass the automatic loading of the Whisper native library. |
|  |  | /// If no custom value is used, the library will be loaded automatically based on the <see cref="RuntimeLibraryOrder"/> and the available libraries on the system. |
|  |  | /// Once a library is loaded, it will be used for all subsequent processing. |
|  |  | /// </remarks> |
|  |  | publicvoidSetRuntimeLibraryOrder(List<RuntimeLibrary>order) |
|  |  | { |
|  |  | RuntimeLibraryOrder=order; |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Sets the loaded library if it was loaded manually. |
|  |  | /// </summary> |
|  |  | publicvoidSetLoadedLibrary(RuntimeLibrarylibrary) |
|  |  | { |
|  |  | LoadedLibrary=library; |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Resets the runtime options to their default values. |
|  |  | /// </summary> |
|  |  | publicvoidReset() |
|  |  | { |
|  |  | BypassLoading=false; |
|  |  | LibraryPath=null; |
|  |  | RuntimeLibraryOrder=defaultRuntimeOrder; |
|  |  | } |
|  |  | publicstaticRuntimeLibrary?LoadedLibrary{get;set;} |
|  |  | } |

43 changes: 20 additions & 23 deletions
43 [Whisper.net/Logger/LogProvider.cs](#diff-4c6ff3a237b6f413268d08e276a576833d4548599dd99b466ecaaacbd154dc77 "Whisper.net/Logger/LogProvider.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/db4a2469e73d8b62e6d535f0b093296742b13799/Whisper.net/Logger/LogProvider.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-4c6ff3a237b6f413268d08e276a576833d4548599dd99b466ecaaacbd154dc77) Expand Up | @@ -5,35 +5,37 @@ |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.Logger; |
|  |  | publicclassLogProvider |
|  |  | publicstaticclassLogProvider |
|  |  | { |
|  |  |  |
|  |  | privateLogProvider() |
|  |  | { |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Returns the singleton instance of the <see cref="LogProvider"/> class used to log messages from the Whisper library. |
|  |  | /// </summary> |
|  |  | publicstaticLogProviderInstance{get;}=new(); |
|  |  |  |
|  |  | publiceventAction<WhisperLogLevel,string?>?OnLog; |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Adds a console logger that logs messages with a severity greater than or equal to the specified level. |
|  |  | /// </summary> |
|  |  | /// <param name="minLevel">The minimum severity level to log.</param> |
|  |  | publicstaticvoidAddConsoleLogging(WhisperLogLevelminLevel=WhisperLogLevel.Info) |
|  |  | /// <returns> |
|  |  | /// Returns a disposable object that can be used to remove the logger. |
|  |  | /// </returns> |
|  |  | publicstaticIDisposableAddConsoleLogging(WhisperLogLevelminLevel=WhisperLogLevel.Info) |
|  |  | { |
|  |  | Instance.OnLog+=(level,message)=> |
|  |  | returnnewWhisperLogger((level,message)=> |
|  |  | { |
|  |  | // Higher values are less severe |
|  |  | if(level<minLevel) |
|  |  | { |
|  |  | Console.WriteLine($"\[{level}\] {message}"); |
|  |  | } |
|  |  | }; |
|  |  | }); |
|  |  | } |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// Adds a logger that logs messages with a custom action. |
|  |  | /// </summary> |
|  |  | /// <param name="logAction">The action to log.</param> |
|  |  | /// <returns> |
|  |  | /// Returns a disposable object that can be used to remove the logger. |
|  |  | /// </returns> |
|  |  | publicstaticIDisposableAddLogger(Action<WhisperLogLevel,string?>logAction) |
|  |  | { |
|  |  | returnnewWhisperLogger(logAction); |
|  |  | } |
|  |  |  |
|  |  | internalstaticvoidInitializeLogging(INativeWhispernativeWhisper) |
| [Expand Down](#diff-4c6ff3a237b6f413268d08e276a576833d4548599dd99b466ecaaacbd154dc77) Expand Down [Expand Up](#diff-4c6ff3a237b6f413268d08e276a576833d4548599dd99b466ecaaacbd154dc77) Expand Up | @@ -67,11 +69,6 @@ internal static void LogUnmanaged(GgmlLogLevel level, IntPtr message, IntPtr use |
|  |  | \_ =>WhisperLogLevel.Info |
|  |  | }; |
|  |  |  |
|  |  | Log(managedLevel,messageString); |
|  |  | } |
|  |  |  |
|  |  | internalstaticvoidLog(WhisperLogLevellevel,string?message) |
|  |  | { |
|  |  | Instance.OnLog?.Invoke(level,message); |
|  |  | WhisperLogger.Log(managedLevel,messageString); |
|  |  | } |
|  |  | } |

26 changes: 26 additions & 0 deletions
26 [Whisper.net/Logger/WhisperLogger.cs](#diff-b8d98bdcee1d03d1ac6407b69eebeef1bca3649073be330dea75bcf34aec91c7 "Whisper.net/Logger/WhisperLogger.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/db4a2469e73d8b62e6d535f0b093296742b13799/Whisper.net/Logger/WhisperLogger.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,26 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | namespaceWhisper.net.Logger; |
|  |  |  |
|  |  | internalclassWhisperLogger:IDisposable |
|  |  | { |
|  |  | privatereadonlyAction<WhisperLogLevel,string?>logAction; |
|  |  |  |
|  |  | publicWhisperLogger(Action<WhisperLogLevel,string?>logAction) |
|  |  | { |
|  |  | this.logAction=logAction; |
|  |  | OnLog+=logAction; |
|  |  | } |
|  |  |  |
|  |  | publicstaticeventAction<WhisperLogLevel,string?>?OnLog; |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  | OnLog-=logAction; |
|  |  | } |
|  |  |  |
|  |  | publicstaticvoidLog(WhisperLogLevellevel,string?message) |
|  |  | { |
|  |  | OnLog?.Invoke(level,message); |
|  |  | } |
|  |  | } |

Loading

Oops, something went wrong.
Retry

Toggle all file notesToggle all file annotations

### 0 comments  on commit `db4a246`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2Fdb4a2469e73d8b62e6d535f0b093296742b13799) to comment.

You can’t perform that action at this time.

---

# whisper.net/readme.md at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# readme.md

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Removed unnecessary instances and simplified LogProviders + RuntimeOp…](/sandrohanea/whisper.net/commit/db4a2469e73d8b62e6d535f0b093296742b13799)

Dec 21, 2024

[db4a246](/sandrohanea/whisper.net/commit/db4a2469e73d8b62e6d535f0b093296742b13799) · Dec 21, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/readme.md)

281 lines (176 loc) · 9.05 KB

/

# readme.md

Top

## File metadata and controls

- Preview

- Code

- Blame


281 lines (176 loc) · 9.05 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/readme.md)

# Whisper.net

[Permalink: Whisper.net](#whispernet)

Open-Source Whisper.net

Dotnet bindings for OpenAI Whisper made possible by [whisper.cpp](https://github.com/ggerganov/whisper.cpp)

## Build Status

[Permalink: Build Status](#build-status)

| Build type | Build Status |
| --- | --- |
| CI Status (Native + dotnet) | [![CI (Native + dotnet)](https://github.com/sandrohanea/whisper.net/actions/workflows/build-all.yml/badge.svg?branch=main)](https://github.com/sandrohanea/whisper.net/actions/workflows/build-all.yml) |

## Getting Started

[Permalink: Getting Started](#getting-started)

To install Whisper.net with all the available runtimes, run the following command in the [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console):

```
    PM> Install-Package Whisper.net.AllRuntimes

```

Or add a package reference in your `.csproj` file:

```
    <PackageReference Include="Whisper.net.AllRuntimes" Version="1.7.3" />

```

`Whisper.net` is the main package that contains the core functionality but does not include any runtimes. `Whisper.net.AllRuntimes` includes all available runtimes for Whisper.net.

### Installing Specific Runtimes

[Permalink: Installing Specific Runtimes](#installing-specific-runtimes)

To install a specific runtime, you can install them individually and combine them as needed. For example, to install the CPU runtime, add the following package references:

```
    <PackageReference Include="Whisper.net" Version="1.7.3" />

```

```
    <PackageReference Include="Whisper.net.Runtime" Version="1.7.3" />

```

## GPT for Whisper

[Permalink: GPT for Whisper](#gpt-for-whisper)

We also have a custom-built GPT inside ChatGPT, which can help you with information based on this code, previous issues, and releases. Available [here](https://chat.openai.com/g/g-GQU8iEnAa-whisper-net-helper).

Please try to ask it before publishing a new question here, as it can help you a lot faster.

## Runtimes Description

[Permalink: Runtimes Description](#runtimes-description)

Whisper.net comes with multiple runtimes to support different platforms and hardware acceleration. Below are the available runtimes:

### Whisper.net.Runtime

[Permalink: Whisper.net.Runtime](#whispernetruntime)

The default runtime that uses the CPU for inference. It is available on all platforms and does not require any additional dependencies.

#### Examples:

[Permalink: Examples:](#examples)

- [Simple usage example](https://github.com/sandrohanea/whisper.net/tree/main/examples/Simple)
- [Simple usage example (without Async processing)](https://github.com/sandrohanea/whisper.net/blob/main/examples/SimpleSync/Program.cs)
- [NAudio integration for mp3](https://github.com/sandrohanea/whisper.net/blob/main/examples/NAudioMp3/Program.cs)
- [NAudio integration for resampled wav](https://github.com/sandrohanea/whisper.net/blob/main/examples/NAudioResampleWav/Program.cs)
- [Simple channel diarization](https://github.com/sandrohanea/whisper.net/blob/main/examples/Diarization/Program.cs)
- [Blazor example](https://github.com/sandrohanea/whisper.net/tree/main/examples/BlazorApp)

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites)

- Windows: Microsoft Visual C++ Redistributable for at least Visual Studio 2019 (x64) [Download Link](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version)
- Linux: `libstdc++6`, `glibc 2.31`
- macOS: TBD
- For x86/x64 platforms, the CPU must support AVX, AVX2, FMA and F16C instructions. If your CPU does not support these instructions, you'll need to use the `Whisper.net.Runtime.NoAvx` runtime instead.

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms)

- Windows x86, x64, ARM64
- Linux x64, ARM64, ARM
- macOS x64, ARM64 (Apple Silicon)
- Android
- iOS
- MacCatalyst
- tvOS
- WebAssembly

### Whisper.net.Runtime.NoAvx

[Permalink: Whisper.net.Runtime.NoAvx](#whispernetruntimenoavx)

For CPUs that do not support AVX instructions.

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites-1)

- Windows: Microsoft Visual C++ Redistributable for at least Visual Studio 2019 (x64) [Download Link](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version)
- Linux: `libstdc++6`, `glibc 2.31`
- macOS: TBD

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-1)

- Windows x86, x64, ARM64
- Linux x64, ARM64, ARM

### Whisper.net.Runtime.Cuda

[Permalink: Whisper.net.Runtime.Cuda](#whispernetruntimecuda)

Contains the native whisper.cpp library with NVidia CUDA support enabled.

#### Examples

[Permalink: Examples](#examples-1)

- [CUDA usage example](https://github.com/sandrohanea/whisper.net/tree/main/examples/NvidiaCuda)

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites-2)

- Everything from Whisper.net.Runtime pre-requisites
- NVidia GPU with CUDA support
- [CUDA Toolkit (>= 12.1)](https://developer.nvidia.com/cuda-downloads)

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-2)

- Windows x64
- Linux x64

### Whisper.net.Runtime.CoreML

[Permalink: Whisper.net.Runtime.CoreML](#whispernetruntimecoreml)

Contains the native whisper.cpp library with Apple CoreML support enabled.

#### Examples:

[Permalink: Examples:](#examples-2)

- [CoreML example](https://github.com/sandrohanea/whisper.net/tree/main/examples/CoreML)

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-3)

- macOS x64, ARM64 (Apple Silicon)
- iOS
- MacCatalyst
- tvOS

### Whisper.net.Runtime.OpenVino

[Permalink: Whisper.net.Runtime.OpenVino](#whispernetruntimeopenvino)

Contains the native whisper.cpp library with Intel OpenVino support enabled.

#### Examples

[Permalink: Examples](#examples-3)

- [OpenVino Example](https://github.com/sandrohanea/whisper.net/tree/main/examples/OpenVinoExample)

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites-3)

- Everything from Whisper.net.Runtime pre-requisites
- [OpenVino Toolkit (>= 2024.4)](https://github.com/openvinotoolkit/openvino)

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-4)

- Windows x64
- Linux x64

### Whisper.net.Runtime.Vulkan

[Permalink: Whisper.net.Runtime.Vulkan](#whispernetruntimevulkan)

Contains the native whisper.cpp library with Vulkan support enabled.

#### Examples

[Permalink: Examples](#examples-4)

- [Vulkan Example](https://github.com/sandrohanea/whisper.net/tree/main/examples/Vulkan)

#### Pre-requisites

[Permalink: Pre-requisites](#pre-requisites-4)

- Everything from Whisper.net.Runtime pre-requisites
- [Vulkan Toolkit (>= 1.3.290.0)](https://vulkan.lunarg.com/sdk/home)\]

#### Supported Platforms

[Permalink: Supported Platforms](#supported-platforms-5)

- Windows x64

## Multiple Runtimes Support

[Permalink: Multiple Runtimes Support](#multiple-runtimes-support)

You can install and use multiple runtimes in the same project. The runtime will be automatically selected based on the platform you are running the application on and the availability of the native runtime.

The following order of priority will be used by default:

1. `Whisper.net.Runtime.Cuda` (NVidia devices with all drivers installed)
2. `Whisper.net.Runtime.Vulkan` (Windows x64 with Vulkan installed)
3. `Whisper.net.Runtime.CoreML` (Apple devices)
4. `Whisper.net.Runtime.OpenVino` (Intel devices)
5. `Whisper.net.Runtime` (CPU inference)
6. `Whisper.net.Runtime.NoAvx` (CPU inference without AVX support)

To change the order or force a specific runtime, set the `RuntimeLibraryOrder` on the `RuntimeOptions`:

```
RuntimeOptions.RuntimeLibraryOrder =
[\
    RuntimeLibrary.CoreML,\
    RuntimeLibrary.OpenVino,\
    RuntimeLibrary.Cuda,\
    RuntimeLibrary.Cpu\
];
```

## Versioning

[Permalink: Versioning](#versioning)

Each version of Whisper.net is tied to a specific version of Whisper.cpp. The version of Whisper.net is the same as the version of Whisper it is based on. For example, Whisper.net 1.2.0 is based on Whisper.cpp 1.2.0.

However, the patch version is not tied to Whisper.cpp. For example, Whisper.net 1.2.1 is based on Whisper.cpp 1.2.0 and Whisper.net 1.7.0 is based on Whisper.cpp 1.7.1.

## Ggml Models

[Permalink: Ggml Models](#ggml-models)

Whisper.net uses Ggml models to perform speech recognition and translation. You can find more about Ggml models [here](https://github.com/ggerganov/whisper.cpp/tree/master/models).

For easier integration, Whisper.net provides a Downloader using [Hugging Face](https://huggingface.co).

```
var modelName = "ggml-base.bin";
if (!File.Exists(modelName))
{
    using var modelStream = await WhisperGgmlDownloader.GetGgmlModelAsync(GgmlType.Base);
    using var fileWriter = File.OpenWrite(modelName);
    await modelStream.CopyToAsync(fileWriter);
}
```

## Usage

[Permalink: Usage](#usage)

```
using var whisperFactory = WhisperFactory.FromPath("ggml-base.bin");

using var processor = whisperFactory.CreateBuilder()
    .WithLanguage("auto")
    .Build();

using var fileStream = File.OpenRead(wavFileName);

await foreach (var result in processor.ProcessAsync(fileStream))
{
    Console.WriteLine($"{result.Start}->{result.End}: {result.Text}");
}
```

## Documentation

[Permalink: Documentation](#documentation)

You can find the documentation and code samples [here](https://github.com/sandrohanea/whisper.net).

## Building The Runtime

[Permalink: Building The Runtime](#building-the-runtime)

This section describes how to build the native runtime libraries for Whisper.net.
Normally, you would not need to build the runtime libraries yourself, as they are available as NuGet packages.

The build scripts are a combination of PowerShell scripts and a Makefile. You can read each of them for the underlying `cmake` commands being used, or run them directly from the scripts.

You can also check the github actions available [here](https://github.com/sandrohanea/whisper.net/tree/main/.github/workflows)

### Android

[Permalink: Android](#android)

`make android`

Before running, create an environment variable for `NDK_PATH` with the path to your Android NDK. For example:

`NDK_PATH=/Users/UserName/Library/Developer/Xamarin/android-sdk-macosx/ndk-bundle`

### Apple

[Permalink: Apple](#apple)

`make apple`

Compiling the Apple libraries requires a Mac with Xcode installed.

### Apple CoreML

[Permalink: Apple CoreML](#apple-coreml)

`make apple_coreml`

Compiling the Apple libraries requires a Mac with Xcode installed.

### Linux

[Permalink: Linux](#linux)

`make linux`

### Windows

[Permalink: Windows](#windows)

Import the PowerShell module:

`Import-Module ./windows-scripts.ps1`

Run `BuildWindowsAll` to build all Windows libraries.
Alternatively, you can run `BuildWindows` with the desired parameters.

```
BuildWindows -Arch "x64" -Configuration "Release"  -NoAvx $true

```

## License

[Permalink: License](#license)

MIT License. See [LICENSE](https://github.com/sandrohanea/whisper.net/blob/main/LICENSE) for details.

You can’t perform that action at this time.

---

# Fixed vulkan and coreml targets by sandrohanea · Pull Request #218 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Fixed vulkan and coreml targets\#218

Merged

[sandrohanea](/sandrohanea)
merged 1 commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[sandro/fix-vulkan-coreml](/sandrohanea/whisper.net/tree/sandro/fix-vulkan-coreml "sandrohanea/whisper.net:sandro/fix-vulkan-coreml")

Oct 14, 2024

Merged

# [Fixed vulkan and coreml targets](\#top)\#218

[sandrohanea](/sandrohanea)
merged 1 commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[sandro/fix-vulkan-coreml](/sandrohanea/whisper.net/tree/sandro/fix-vulkan-coreml "sandrohanea/whisper.net:sandro/fix-vulkan-coreml")

Oct 14, 2024

+27

−2


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Oct 14, 2024](\#issue-2585415964)•   edited      Loading

This pull request includes several updates to the build configurations for the Whisper.net runtime, specifically targeting different platforms and frameworks. The most important changes involve adding support for Metal and Vulkan assets and ensuring proper handling of these assets across various platforms.

### Updates to Metal and Vulkan asset handling:

- [`runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets`](https://github.com/sandrohanea/whisper.net/pull/218/files#diff-43931768d430a4d2f29c47b1d3745781ad50e92fcf78eb782952e58100f45e40L106-R121): Added conditions to include the `ggml-metal.metal` asset for maccatalyst, iOS, tvOS, and their simulators, and ensured the asset is copied correctly for MacOS targets.

- [`runtimes/Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets`](https://github.com/sandrohanea/whisper.net/pull/218/files#diff-06af01bfa48360bebc6c9fc706d493cab542edb77a60f7c921454c664432dc5aR1-R17): Introduced a new project file to handle Vulkan assets for Windows targets, ensuring the `whisper.dll` and `ggml.dll` are included and copied to the output directory.


Sorry, something went wrong.


All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Fixed vulkan and coreml targets
        `

Loading

Loading status checks…

`
          acb6982
        `

Hide detailsView details[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`5f8c302`](/sandrohanea/whisper.net/commit/5f8c302a699db8b04fe89f6064ed423b82d9219a)
into

main[Oct 14, 2024](https://github.com/sandrohanea/whisper.net/pull/218#event-14630105582)

6 of 15 checks passed


6 of 15 checks passed

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**android / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490514473)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490516100)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490515661)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490517583)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490517186)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490518116)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**wasm / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490516764)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490514035)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490514911)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490512861)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490513652)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490513207)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490511360)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490512391)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos-coreml**

[Details](/sandrohanea/whisper.net/actions/runs/11324851279/job/31490511880)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

sandro/fix-vulkan-coreml

branch

[October 14, 2024 09:35](#event-14630106588)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F218)

Reviewers


No reviews

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# Bumping version 1.7.4 in examples by sandrohanea · Pull Request #312 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Bumping version 1.7.4 in examples\#312

Open

[sandrohanea](/sandrohanea)

wants to merge
1
commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

_base:_ main

BranchesTags

Could not load branches

Branch not found: **{{ refName }}**

Loading

{{ refName }}default

Could not load tags

Nothing to show

{{ refName }}default

Loading

### Are you sure you want to change the base?

Some commits from the old base branch may be removed from the timeline,
and old review comments may become outdated.


LoadingChange base

from

[bump/174](/sandrohanea/whisper.net/tree/bump/174 "sandrohanea/whisper.net:bump/174")

Open

# [Bumping version 1.7.4 in examples](\#top)\#312

[sandrohanea](/sandrohanea)

wants to merge
1
commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[bump/174](/sandrohanea/whisper.net/tree/bump/174 "sandrohanea/whisper.net:bump/174")

+32

−32


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Dec 27, 2024](\#issue-2761008073)

_No description provided._

Sorry, something went wrong.


All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Bumping version 1.7.4 in examples
        `

Loading

Loading status checks…

`
          7b61402
        `

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F312)

Reviewers


No reviews

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# Bumping version 1.7.4 in examples · sandrohanea/whisper.net@7b61402 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumping version 1.7.4 in examples  \#305

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12517787748)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12517787748)

## Summary

# Bumping version 1.7.4 in examples

## Bumping version 1.7.4 in examples \#305

[Usage](/sandrohanea/whisper.net/actions/runs/12517787748/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12517787748/workflow)

Triggered via pull request
December 27, 2024 15:27

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=32&v=4)sandrohanea](/sandrohanea)

opened [#312](/sandrohanea/whisper.net/pull/312)

[bump/174](/sandrohanea/whisper.net/tree/refs/heads/bump/174 "bump/174")

StatusIn progress

Total duration [–](/sandrohanea/whisper.net/actions/runs/12517787748/usage)

Artifacts [13](#artifacts)

## [build-all.yml](/sandrohanea/whisper.net/actions/runs/12517787748/workflow)

on: pull\_request

[android / native-build\\
\\
2m 10s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919155267) android / native-build[macos / intel-native-build\\
\\
59s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919156114) macos / intel-native-build[macos / arm-native-build\\
\\
2m 32s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919155938) macos / arm-native-build[windows / intel-native-build\\
\\
1m 24s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919156497) windows / intel-native-build[windows / arm-native-build\\
\\
1m 57s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919156725) windows / arm-native-build[wasm / native-build\\
\\
59s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919156314) wasm / native-build[linux / native-build\\
\\
2m 17s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919155522) linux / native-build

[windows-no-avx / native-build\\
\\
2m 31s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919156921) windows-no-avx / native-build[linux-no-avx / native-build\\
\\
1m 7s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919155714) linux-no-avx / native-build

linux-cuda / native-build

linux-cuda / native-build

linux-openvino / native-build

linux-openvino / native-build

linux-vulkan / native-build

linux-vulkan / native-build

macos-coreml / arm-native-build

macos-coreml / arm-native-build

macos-coreml / intel-native-build

macos-coreml / intel-native-build

windows-cuda / native-build

windows-cuda / native-build

windows-openvino / native-build

windows-openvino / native-build

windows-vulkan / native-build

windows-vulkan / native-build

[dotnet-maui-build-and-test / dotnet-maui-build\\
\\
6m 11s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919226047) dotnet-maui-build-and-test / dotnet-maui-build

[dotnet-build / dotnet-macos\\
\\
2m 52s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919225768) dotnet-build / dotnet-macos[dotnet-build / dotnet-windows\\
\\
3m 18s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919225476) dotnet-build / dotnet-windows[dotnet-build / dotnet-linux\\
\\
1m 15s](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919226259) dotnet-build / dotnet-linux

[dotnet-maui-build-and-test / dotnet-maui-test-android](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919391087) dotnet-maui-build-and-test / dotnet-maui-test-android[dotnet-maui-build-and-test / dotnet-maui-test-ios](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919391257) dotnet-maui-build-and-test / dotnet-maui-test-ios

Oh hello! Nice to see you.

Made with ❤️ by [humans.txt](https://actions.github.io/humans.txt)

Fit to window

Zoom out

Zoom in

## Annotations

1 warning

|     |
| --- |
| [**dotnet-build / dotnet-linux**](/sandrohanea/whisper.net/actions/runs/12517787748/job/34919226259)<br>ubuntu-latest pipelines will use ubuntu-24.04 soon. For more details, see [https://github.com/actions/runner-images/issues/10636](https://github.com/actions/runner-images/issues/10636)<br>Show moreShow less |

## Artifacts

Produced during runtime

| Name | Size |  |
| --- | --- | --- |
| android-build | 3.09 MB |  |
| linux-build | 1.67 MB |  |
| linux-noavx-build | 597 KB |  |
| mac-arm-build | 4.5 MB |  |
| mac-intel-build | 611 KB |  |
| maui-build-artifacts | 170 MB |  |
| test-results-linux | 9.89 KB |  |
| test-results-macos | 11.2 KB |  |
| test-results-windows | 15.3 KB |  |
| wasm-build | 431 KB |  |
| windows-arm-build | 462 KB |  |
| windows-build | 948 KB |  |
| windows-noavx-build | 948 KB |  |

You can’t perform that action at this time.

---

# CI (Native + dotnet) · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## CI (Native + dotnet)     \#\#\# CI (Native + dotnet)         \#\# Actions

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

[build-all.yml](/sandrohanea/whisper.net/blob/main/.github/workflows/build-all.yml)

will be ignored since log searching is not yet available


**300 workflow runs**

**300 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

[Bumping version 1.7.4 in examples](/sandrohanea/whisper.net/actions/runs/12517787748)CI (Native + dotnet)
#305:


Pull request [#312](/sandrohanea/whisper.net/pull/312)

opened
by
[sandrohanea](/sandrohanea)

December 27, 2024 15:27In progress[bump/174](/sandrohanea/whisper.net/tree/refs/heads/bump/174 "bump/174")

[bump/174](/sandrohanea/whisper.net/tree/refs/heads/bump/174 "bump/174")

December 27, 2024 15:27In progress

- [View #312](/sandrohanea/whisper.net/pull/312)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12517787748/workflow)

[Removed continuous recognition example and replaced it with a link th…](/sandrohanea/whisper.net/actions/runs/12506857126)CI (Native + dotnet)
#304:


Commit [a3ec2f8](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)

pushed
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:59
14m 30s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 26, 2024 17:59
14m 30s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506857126/workflow)

[Removed continuous recognition example and replaced it with a link the echosharp](/sandrohanea/whisper.net/actions/runs/12506853099)CI (Native + dotnet)
#303:


Pull request [#309](/sandrohanea/whisper.net/pull/309)

opened
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:59
12m 33s
[echosharp/removedcontinuousrecognition](/sandrohanea/whisper.net/tree/refs/heads/echosharp/removedcontinuousrecognition "echosharp/removedcontinuousrecognition")

[echosharp/removedcontinuousrecognition](/sandrohanea/whisper.net/tree/refs/heads/echosharp/removedcontinuousrecognition "echosharp/removedcontinuousrecognition")

December 26, 2024 17:59
12m 33s


- [View #309](/sandrohanea/whisper.net/pull/309)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506853099/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (#305)](/sandrohanea/whisper.net/actions/runs/12506804829)CI (Native + dotnet)
#302:


Commit [ffc0cdb](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)

pushed
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:51
13m 17s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

December 26, 2024 17:51
13m 17s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506804829/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12506703898)CI (Native + dotnet)
#301:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:37
12m 43s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 17:37
12m 43s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506703898/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12506514905)CI (Native + dotnet)
#300:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 17:17
14m 9s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 17:17
14m 9s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506514905/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12506280835)CI (Native + dotnet)
#299:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 16:51
13m 5s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 16:51
13m 5s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12506280835/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505816642)CI (Native + dotnet)
#298:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:59
15m 40s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:59
15m 40s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505816642/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505697487)CI (Native + dotnet)
#297:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:44
12m 57s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:44
12m 57s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505697487/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505689391)CI (Native + dotnet)
#296:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:43
13m 1s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:43
13m 1s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505689391/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505473559)CI (Native + dotnet)
#295:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:20
5m 51s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:20
5m 51s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505473559/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505318725)CI (Native + dotnet)
#294:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 15:05
9m 34s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 15:05
9m 34s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505318725/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12505249370)CI (Native + dotnet)
#293:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 14:58
23m 55s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 14:58
23m 55s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12505249370/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504767100)CI (Native + dotnet)
#292:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 14:05
21m 56s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 14:05
21m 56s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504767100/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504698498)CI (Native + dotnet)
#291:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:59
6m 37s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:59
6m 37s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504698498/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504608727)CI (Native + dotnet)
#290:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:47
18m 46s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:47
18m 46s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504608727/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504303921)CI (Native + dotnet)
#289:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:14
5m 41s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:14
5m 41s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504303921/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504227071)CI (Native + dotnet)
#288:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:07
5m 50s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:07
5m 50s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504227071/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12504159019)CI (Native + dotnet)
#287:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 13:00
5m 46s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 13:00
5m 46s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12504159019/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12503994619)CI (Native + dotnet)
#286:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 12:42
6m 29s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 12:42
6m 29s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12503994619/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12503912421)CI (Native + dotnet)
#285:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 26, 2024 12:33
6m 5s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 26, 2024 12:33
6m 5s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12503912421/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12493385892)CI (Native + dotnet)
#284:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 25, 2024 13:06
6m 23s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 25, 2024 13:06
6m 23s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12493385892/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12481734976)CI (Native + dotnet)
#283:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 24, 2024 12:32
6m 51s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 24, 2024 12:32
6m 51s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12481734976/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12481672907)CI (Native + dotnet)
#282:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 24, 2024 12:26
6m 10s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 24, 2024 12:26
6m 10s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12481672907/workflow)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold](/sandrohanea/whisper.net/actions/runs/12481580646)CI (Native + dotnet)
#281:


Pull request [#305](/sandrohanea/whisper.net/pull/305)

synchronize
by
[sandrohanea](/sandrohanea)

December 24, 2024 12:18
6m 10s
[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

[bump/whispercpp-173](/sandrohanea/whisper.net/tree/refs/heads/bump/whispercpp-173 "bump/whispercpp-173")

December 24, 2024 12:18
6m 10s


- [View #305](/sandrohanea/whisper.net/pull/305)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/12481580646/workflow)

Previous _1_ [2](/sandrohanea/whisper.net/actions/workflows/build-all.yml?page=2) [3](/sandrohanea/whisper.net/actions/workflows/build-all.yml?page=3) [4](/sandrohanea/whisper.net/actions/workflows/build-all.yml?page=4) [5](/sandrohanea/whisper.net/actions/workflows/build-all.yml?page=5)… [11](/sandrohanea/whisper.net/actions/workflows/build-all.yml?page=11) [12](/sandrohanea/whisper.net/actions/workflows/build-all.yml?page=12) [Next](/sandrohanea/whisper.net/actions/workflows/build-all.yml?page=2)

You can’t perform that action at this time.

---

# whisper.net/windows-scripts.ps1 at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# windows-scripts.ps1

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold (](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251) [#305](https://github.com/sandrohanea/whisper.net/pull/305) [)](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251)

Dec 26, 2024

[ffc0cdb](/sandrohanea/whisper.net/commit/ffc0cdb6376deab76cb79ff6dbdf649049214251) · Dec 26, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/windows-scripts.ps1)

177 lines (142 loc) · 6.39 KB

/

# windows-scripts.ps1

Top

## File metadata and controls

- Code

- Blame


177 lines (142 loc) · 6.39 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/windows-scripts.ps1)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

62

63

64

65

66

67

68

69

70

71

72

73

74

75

76

77

78

79

80

81

82

83

84

85

86

87

88

89

90

91

92

93

94

95

96

97

98

99

100

101

104

105

106

107

108

109

110

111

112

113

114

115

116

117

118

119

120

121

122

123

124

125

126

127

128

129

130

131

132

133

134

135

136

137

138

139

140

141

142

143

144

145

146

147

148

149

150

151

152

153

154

155

156

157

158

159

160

161

162

163

164

165

166

167

168

169

170

171

172

173

174

175

176

177

functionGet-VisualStudioCMakePath() {

$vsWherePath=Join-Path${env:ProgramFiles(x86)}'Microsoft Visual Studio\\Installer\\vswhere.exe'

if (-not (Test-Path$vsWherePath)) {

return$null

}

$vsWhereOutput=&$vsWherePath-latest -requires Microsoft.Component.MSBuild -property installationPath

if (-not (\[string\]::IsNullOrEmpty($vsWhereOutput))) {

$cmakePath=Join-Path$vsWhereOutput'Common7\\IDE\\CommonExtensions\\Microsoft\\CMake\\CMake\\bin'

if (Test-Path$cmakePath) {

return$cmakePath

}

}

return$null

}

functionGet-MSBuildPlatform($Arch) {

$platforms=@{

"x64"="x64"

"x86"="Win32"

"arm64"="ARM64"

"arm"="ARM"

}

if ($platforms.ContainsKey($Arch)) {

return$platforms\[$Arch\]

}

return$null

}

functionBuildWindows() {

param(

\[Parameter(Mandatory=$true)\] \[string\]$Arch,

\[Parameter(Mandatory=$false)\] \[bool\]$Cuda=$false,

\[Parameter(Mandatory=$false)\] \[bool\]$Vulkan=$false,

\[Parameter(Mandatory=$false)\] \[bool\]$OpenVino=$false,

\[Parameter(Mandatory=$false)\] \[bool\]$NoAvx=$false,

\[Parameter(Mandatory=$false)\] \[string\]$Configuration="Release"

)

#if not exist "build" create the directory

if (!(Test-Path"build")) {

New-Item-ItemType Directory -Force -Path "build"

}

Write-Host"Building Windows binaries for $Arch with cuda: $Cuda"

$platform=Get-MSBuildPlatform$Arch

if (\[string\]::IsNullOrEmpty($platform)) {

Write-Host"Unknown architecture $Arch"

return

}

$buildDirectory="build/win-$Arch"

$options=@("-S",".","-DGGML\_NATIVE=OFF");

$avxOptions=@("-DGGML\_AVX=ON","-DGGML\_AVX2=ON","-DGGML\_FMA=ON","-DGGML\_F16C=ON");

$runtimePath="./runtimes/Whisper.net.Runtime"

if ($Cuda) {

$options+="-DGGML\_CUDA=1"

$buildDirectory+="-cuda"

$runtimePath+=".Cuda.Windows"

}

if ($Vulkan) {

$options+="-DGGML\_VULKAN=1"

$buildDirectory+="-vulkan"

$runtimePath+=".Vulkan"

}

if ($OpenVino) {

$options+="-DWHISPER\_OPENVINO=1"

$buildDirectory+="-openvino"

$runtimePath+=".OpenVino"

}

if ($NoAvx) {

$avxOptions=@("-DGGML\_AVX=OFF","-DGGML\_AVX2=OFF","-DGGML\_FMA=OFF","-DGGML\_F16C=OFF");

$buildDirectory+="-noavx"

$runtimePath+=".NoAvx"

}

$options+="-B"

$options+=$buildDirectory

$options+="-A"

$options+=$platform

$options+=$avxOptions

if ((Test-Path$buildDirectory)) {

Write-Host"Deleting old build files for $buildDirectory";

Remove-Item-Force -Recurse -Path $buildDirectory

}

$cmakePath= (Get-Command cmake -ErrorAction SilentlyContinue).Source

if (\[string\]::IsNullOrEmpty($cmakePath)) {

# CMake is not defined in the system's path, search for it in Visual Studio

$visualStudioPath=Get-VisualStudioCMakePath

if (\[string\]::IsNullOrEmpty($visualStudioPath)) {

}

$env:Path+=";$visualStudioPath"

}

New-Item-ItemType Directory -Force -Path $buildDirectory

# call CMake to generate the makefiles

Write-Host"Running 'cmake $options'"

cmake $options

cmake --build $buildDirectory--config $Configuration

if (-not(Test-Path$runtimePath)) {

New-Item-ItemType Directory -Force -Path $runtimePath

}

$runtimePath+="/win-$Arch"

if (-not(Test-Path$runtimePath)) {

New-Item-ItemType Directory -Force -Path $runtimePath

}

Move-Item"$buildDirectory/bin/Release/whisper.dll""$runtimePath/whisper.dll"-Force

Move-Item"$buildDirectory/bin/Release/ggml-whisper.dll""$runtimePath/ggml-whisper.dll"-Force

Move-Item"$buildDirectory/bin/Release/ggml-base-whisper.dll""$runtimePath/ggml-base-whisper.dll"-Force

Move-Item"$buildDirectory/bin/Release/ggml-cpu-whisper.dll""$runtimePath/ggml-cpu-whisper.dll"-Force

if ($Cuda) {

Move-Item"$buildDirectory/bin/Release/ggml-cuda-whisper.dll""$runtimePath/ggml-cuda-whisper.dll"-Force

}

if ($Vulkan) {

Move-Item"$buildDirectory/bin/Release/ggml-vulkan-whisper.dll""$runtimePath/ggml-vulkan-whisper.dll"-Force

}

}

functionBuildWindowsArm(\[Parameter(Mandatory=$false)\] \[string\]$Configuration="Release") {

BuildWindows -Arch "arm64"-Configuration $Configuration;

# BuildWindows -Arch "arm" -Configuration $Configuration;

# Arm build not working anymore with VS

}

functionBuildWindowsIntel(\[Parameter(Mandatory=$false)\] \[string\]$Configuration="Release") {

BuildWindows -Arch "x64"-Configuration $Configuration;

BuildWindows -Arch "x86"-Configuration $Configuration;

}

functionBuildWindowsAll(\[Parameter(Mandatory=$false)\] \[string\]$Configuration="Release") {

BuildWindows -Arch "arm64"-Configuration $Configuration;

BuildWindows -Arch "arm"-Configuration $Configuration;

BuildWindows -Arch "x64"-Cuda $true-Configuration $Configuration;

BuildWindows -Arch "x64"-Configuration $Configuration;

BuildWindows -Arch "x86"-Configuration $Configuration;

}

functionPackAll(\[Parameter(Mandatory=$true)\] \[string\]$Version) {

if (-not(Test-Path"nupkgs")) {

New-Item-ItemType Directory -Force -Path "nupkgs"

}

nuget pack runtimes/Whisper.net.Runtime.nuspec -Version $Version-OutputDirectory ./nupkgs

dotnet pack Whisper.net/Whisper.net.csproj -p:Version=$Version-o ./nupkgs -c Release

nuget pack runtimes/Whisper.net.Runtime.CoreML.nuspec -Version $Version-OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.Cuda.Linux.nuspec -Version $Version-OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.Cuda.Windows.nuspec -Version $Version-OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.Cuda.nuspec -Version $Version-OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.Vulkan.nuspec -Version $Version-OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.OpenVino.nuspec -Version $Version-OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.Runtime.NoAvx.nuspec -Version $Version-OutputDirectory ./nupkgs

nuget pack runtimes/Whisper.net.AllRuntimes.nuspec -Version $Version-OutputDirectory ./nupkgs

}

You can’t perform that action at this time.

---

# Slow performance on MacOs · Issue #152 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Slow performance on MacOs\#152

Open

[Sing303](/Sing303) opened this issue
Jan 15, 2024
· 2 comments

Open

# [Slow performance on MacOs](\#top)\#152

[Sing303](/Sing303) opened this issue
Jan 15, 2024
· 2 comments

Labels

[question](/sandrohanea/whisper.net/labels/question) Further information is requested

## Comments

[![@Sing303](https://avatars.githubusercontent.com/u/19262319?s=80&u=0fde17892dae7e1f89055dc8d991750887f89bbb&v=4)](/Sing303)


Copy link

Contributor

### **[Sing303](/Sing303)**     commented   [Jan 15, 2024](\#issue-2082278595)•   edited      Loading

|     |
| --- |
| When using main.exe from Whisper.Cpp and this library with the same settings/model/audio, main.exe runs ~60-80% faster than this library on a Mac M1 Arm processor (metal lib)<br>On Windows there are no such dependencies, the speeds are the same |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Feb 3, 2024](\#issuecomment-1925360549)

|     |
| --- |
| Hello,<br>That is interesting as the main.exe from the whisper.cpp should be Windows executable. How are you running that one? |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added
the
[question](/sandrohanea/whisper.net/labels/question) Further information is requested
label

[Feb 3, 2024](#event-11692860194)

[![@Sing303](https://avatars.githubusercontent.com/u/19262319?s=80&u=0fde17892dae7e1f89055dc8d991750887f89bbb&v=4)](/Sing303)


Copy link

ContributorAuthor

### **[Sing303](/Sing303)**     commented   [Feb 6, 2024](\#issuecomment-1929269341)•   edited      Loading

|     |
| --- |
| I'm talking about the macos executable "main". When I get my hands on it, I can throw in a sample .net application and main file with time differences |

All reactions

Sorry, something went wrong.


[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fissues%2F152)

Assignees


No one assigned

Labels


[question](/sandrohanea/whisper.net/labels/question) Further information is requested

Projects


None yet

Milestone


No milestone

Development


No branches or pull requests

2 participants


[![@Sing303](https://avatars.githubusercontent.com/u/19262319?s=52&v=4)](/Sing303)[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

You can’t perform that action at this time.

---

# Removed continuous recognition example and replaced it with a link the echosharp (#309) · sandrohanea/whisper.net@a3ec2f8  · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Removed continuous recognition example and replaced it with a link th…  \#304

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506857126%2Fworkflow)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506857126%2Fworkflow)

## Workflow file

# Removed continuous recognition example and replaced it with a link th…

## Removed continuous recognition example and replaced it with a link th… \#304

[Usage](/sandrohanea/whisper.net/actions/runs/12506857126/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506857126/workflow)

#### Workflow file for this run

[.github/workflows/build-all.yml](/sandrohanea/whisper.net/blob/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd/.github/workflows/build-all.yml) at
[a3ec2f8](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)

[Edit workflow file](/sandrohanea/whisper.net/edit/main/.github/workflows/build-all.yml)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

|     |     |
| --- | --- |
|  | # This workflow will build a .NET project |
|  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |
|  | name: CI (Native + dotnet) |
|  |  |
|  | on: |
|  | push: |
|  | branches: \["main"\] |
|  | pull\_request: |
|  | branches: \["main"\] |
|  | workflow\_dispatch: |
|  | inputs: |
|  | BuildGpuLibs: |
|  | description: 'Enable GPU libraries build and publish' |
|  | required: true |
|  | default: 'false' |
|  | permissions: |
|  | contents: read |
|  | checks: write |
|  |  |
|  | jobs: |
|  | android: |
|  | uses: ./.github/workflows/android-native-build.yml |
|  |  |
|  | macos: |
|  | uses: ./.github/workflows/macos-native-build.yml |
|  |  |
|  | windows: |
|  | uses: ./.github/workflows/windows-native-build.yml |
|  |  |
|  | windows-no-avx: |
|  | uses: ./.github/workflows/windows-noavx-native-build.yml |
|  |  |
|  | wasm: |
|  | uses: ./.github/workflows/wasm-native-build.yml |
|  |  |
|  | linux: |
|  | uses: ./.github/workflows/linux-native-build.yml |
|  |  |
|  | linux-no-avx: |
|  | uses: ./.github/workflows/linux-noavx-native-build.yml |
|  |  |
|  | linux-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-vulkan-native-build.yml |
|  |  |
|  | windows-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-cuda-native-build.yml |
|  |  |
|  | windows-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-vulkan-native-build.yml |
|  |  |
|  | windows-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-openvino-native-build.yml |
|  |  |
|  | linux-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-cuda-native-build.yml |
|  |  |
|  | linux-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-openvino-native-build.yml |
|  |  |
|  | macos-coreml: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/macos-coreml-native-build.yml |
|  |  |
|  | dotnet-build: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet.yml |
|  |  |
|  | dotnet-maui-build-and-test: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet-maui.yml |

You can’t perform that action at this time.

---

# Repository search results · GitHub



---

# whisper.net/Directory.Build.props at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Directory.Build.props

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[A lot of changes for 1.7.0 (](/sandrohanea/whisper.net/commit/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f) [#201](https://github.com/sandrohanea/whisper.net/pull/201) [)](/sandrohanea/whisper.net/commit/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f)

Oct 7, 2024

[0c2adaf](/sandrohanea/whisper.net/commit/0c2adafa752c5ce65f46b0ad13e7bd954cf5fe1f) · Oct 7, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/Directory.Build.props)

8 lines (8 loc) · 298 Bytes

/

# Directory.Build.props

Top

## File metadata and controls

- Code

- Blame


8 lines (8 loc) · 298 Bytes

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/Directory.Build.props)

1

2

3

4

5

6

7

8

<Project>

<PropertyGroup>

<ImplicitUsings>enable</ImplicitUsings>

<Nullable>enable</Nullable>

<ManagePackageVersionsCentrally>true</ManagePackageVersionsCentrally>

<CentralPackageTransitivePinningEnabled>true</CentralPackageTransitivePinningEnabled>

</PropertyGroup>

</Project>

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# Milestones - sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[0\\
Open](/sandrohanea/whisper.net/milestones?state=open) [0\\
Closed](/sandrohanea/whisper.net/milestones?state=closed)

Sort

Sort

[Recently updated](/sandrohanea/whisper.net/milestones) [Furthest due date](/sandrohanea/whisper.net/milestones?direction=desc&sort=due_date&state=open) [Closest due date](/sandrohanea/whisper.net/milestones?direction=asc&sort=due_date&state=open) [Least complete](/sandrohanea/whisper.net/milestones?direction=asc&sort=completeness&state=open) [Most complete](/sandrohanea/whisper.net/milestones?direction=desc&sort=completeness&state=open) [Alphabetically](/sandrohanea/whisper.net/milestones?direction=asc&sort=title&state=open) [Reverse alphabetically](/sandrohanea/whisper.net/milestones?direction=desc&sort=title&state=open) [Most issues](/sandrohanea/whisper.net/milestones?direction=desc&sort=count&state=open) [Least issues](/sandrohanea/whisper.net/milestones?direction=asc&sort=count&state=open)

## No Milestones found!

If this project had milestones, we’d show you them here. Promise!

You can’t perform that action at this time.

---

# Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0 by dependabot[bot] · Pull Request #306 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0\#306

Merged

[sandrohanea](/sandrohanea)
merged 1 commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[dependabot/nuget/xunit.runner.visualstudio-3.0.0](/sandrohanea/whisper.net/tree/dependabot/nuget/xunit.runner.visualstudio-3.0.0 "sandrohanea/whisper.net:dependabot/nuget/xunit.runner.visualstudio-3.0.0")

Dec 23, 2024

Merged

# [Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0](\#top)\#306

[sandrohanea](/sandrohanea)
merged 1 commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[dependabot/nuget/xunit.runner.visualstudio-3.0.0](/sandrohanea/whisper.net/tree/dependabot/nuget/xunit.runner.visualstudio-3.0.0 "sandrohanea/whisper.net:dependabot/nuget/xunit.runner.visualstudio-3.0.0")

Dec 23, 2024

+1

−1


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![dependabot[bot]](https://avatars.githubusercontent.com/in/29110?s=60&v=4)](/apps/dependabot)


Copy link

Contributor

### ![@dependabot](https://avatars.githubusercontent.com/in/29110?s=48&v=4)**[dependabot](/apps/dependabot) bot**     commented  on behalf of **github** [Dec 23, 2024](\#issue-2756020925)

Bumps [xunit.runner.visualstudio](https://github.com/xunit/visualstudio.xunit) from 2.8.2 to 3.0.0.

Commits

- [`e341b93`](https://github.com/xunit/visualstudio.xunit/commit/e341b939fe3d484f0561a44597cfff4b3fba9465) v3.0.0
- [`56f71f3`](https://github.com/xunit/visualstudio.xunit/commit/56f71f3842c6b424473e1663dd7c815c20f36bdc) Second location where PreEnumerateTheories needs to be turned off for [#426](https://redirect.github.com/xunit/visualstudio.xunit/issues/426)
- [`d94ab88`](https://github.com/xunit/visualstudio.xunit/commit/d94ab8875fd1883b1dc3cad1d0b67720d4e22222) [#426](https://redirect.github.com/xunit/visualstudio.xunit/issues/426): Can't filter by traits on ITheoryDataRow
- [`9154f3f`](https://github.com/xunit/visualstudio.xunit/commit/9154f3ffa002ce582633f9e1997f2d3ad9620966) Latest dependencies
- [`feff8e2`](https://github.com/xunit/visualstudio.xunit/commit/feff8e290c1f51b4455502287d81f24d8570af4c) Stick to .NET SDK 8
- [`62ae086`](https://github.com/xunit/visualstudio.xunit/commit/62ae086cb53576c39c60a0018769233061c3525c) Conditional verbosity when packing packages based on the .NET SDK version
- [`a7f5dc0`](https://github.com/xunit/visualstudio.xunit/commit/a7f5dc0cba14433ce2134e02963560304765e8a1) Latest dependencies
- [`d5676ac`](https://github.com/xunit/visualstudio.xunit/commit/d5676ac3ac8b2fed71947137cfb0e8796168b9d3) [#422](https://redirect.github.com/xunit/visualstudio.xunit/issues/422): Add XunitSkipReason property to VSTest test case
- [`3d3b241`](https://github.com/xunit/visualstudio.xunit/commit/3d3b2413c471774d2df97276c2c4388f83d7b1fe) Back-fill tests for VsDiscoverySink
- [`e2d5be2`](https://github.com/xunit/visualstudio.xunit/commit/e2d5be27c4c4b9349e32794090d46630fbd3425d) Enable nullable in test project
- Additional commits viewable in [compare view](https://github.com/xunit/visualstudio.xunit/compare/2.8.2...3.0.0)

[![Dependabot compatibility score](https://camo.githubusercontent.com/70d06525bae769a8d161be4bc1ab297cddf84ff93ae94ddab8bda61429a99997/68747470733a2f2f646570656e6461626f742d6261646765732e6769746875626170702e636f6d2f6261646765732f636f6d7061746962696c6974795f73636f72653f646570656e64656e63792d6e616d653d78756e69742e72756e6e65722e76697375616c73747564696f267061636b6167652d6d616e616765723d6e756765742670726576696f75732d76657273696f6e3d322e382e32266e65772d76657273696f6e3d332e302e30)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

* * *

Dependabot commands and options

You can trigger Dependabot actions by commenting on this PR:

- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency
- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)

Sorry, something went wrong.


All reactions

[![@dependabot](https://avatars.githubusercontent.com/in/29110?s=40&v=4)](/apps/dependabot)

`
          Bump xunit.runner.visualstudio from 2.8.2 to 3.0.0
        ` …

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

Loading

Loading status checks…

`
          a7f9efd
        `

```
Bumps [xunit.runner.visualstudio](https://github.com/xunit/visualstudio.xunit) from 2.8.2 to 3.0.0.
- [Release notes](https://github.com/xunit/visualstudio.xunit/releases)
- [Commits](xunit/visualstudio.xunit@2.8.2...3.0.0)

---
updated-dependencies:
- dependency-name: xunit.runner.visualstudio
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
```

[![@dependabot](https://avatars.githubusercontent.com/in/29110?s=40&v=4)](/apps/dependabot)[dependabot](/apps/dependabot) bot

added
the
[dependencies](/sandrohanea/whisper.net/labels/dependencies) Pull requests that update a dependency file
label

[Dec 23, 2024](#event-15748058116)

Hide detailsView details[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`0b9bb5d`](/sandrohanea/whisper.net/commit/0b9bb5d664fcb449d093155f0d52317bde3e8dca)
into

main[Dec 23, 2024](https://github.com/sandrohanea/whisper.net/pull/306#event-15748179423)

24 checks passed


24 checks passed

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**android / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795929668)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795930182)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795929869)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795930882)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795930676)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795931085)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**wasm / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795930424)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795929021)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795929359)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795927777)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795928196)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795928708)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795928465)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795927158)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795927557)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos-coreml**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34795927973)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-macos**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34796005595)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-windows**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34796005339)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-build / dotnet-linux**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34796005044)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-maui-build-and-test / dotnet-maui-build**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34796005802)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**dotnet-maui-build-and-test / dotnet-maui-test-android**

[Details](/sandrohanea/whisper.net/actions/runs/12467151033/job/34796192735)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**Whisper.net Linux Test Results**
38 passed, 0 failed and 0 skipped

[Details](/sandrohanea/whisper.net/runs/34796047968)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**Whisper.net MacOs Test Results**
38 passed, 0 failed and 0 skipped

[Details](/sandrohanea/whisper.net/runs/34796081959)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**Whisper.net Windows Test Results**
57 passed, 0 failed and 0 skipped

[Details](/sandrohanea/whisper.net/runs/34796110404)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

dependabot/nuget/xunit.runner.visualstudio-3.0.0

branch

[December 23, 2024 13:09](#event-15748179795)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F306)

Reviewers


No reviews

Assignees


No one assigned

Labels


[dependencies](/sandrohanea/whisper.net/labels/dependencies) Pull requests that update a dependency file

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# Collect data for ChatGPT assistant · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## Collect data for ChatGPT assistant     \#\#\# Collect data for ChatGPT assistant         \#\# Actions

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

[collect-gpt-data.yml](/sandrohanea/whisper.net/blob/main/.github/workflows/collect-gpt-data.yml)

will be ignored since log searching is not yet available


**9 workflow runs**

**9 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

[Collect data for ChatGPT assistant](/sandrohanea/whisper.net/actions/runs/11766920247)Collect data for ChatGPT assistant
#9:


Manually run


by
[sandrohanea](/sandrohanea)

November 10, 2024 16:55
48s
[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

November 10, 2024 16:55
48s


- [View #261](/sandrohanea/whisper.net/pull/261)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/11766920247/workflow)

[Collect data for ChatGPT assistant](/sandrohanea/whisper.net/actions/runs/11766893140)Collect data for ChatGPT assistant
#8:


Manually run


by
[sandrohanea](/sandrohanea)

November 10, 2024 16:50
1m 0s
[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

November 10, 2024 16:50
1m 0s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11766893140/workflow)

[Collect data for ChatGPT assistant](/sandrohanea/whisper.net/actions/runs/11766856113)Collect data for ChatGPT assistant
#7:


Manually run


by
[sandrohanea](/sandrohanea)

November 10, 2024 16:44
53s
[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

November 10, 2024 16:44
53s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11766856113/workflow)

[Collect data for ChatGPT assistant](/sandrohanea/whisper.net/actions/runs/11766826528)Collect data for ChatGPT assistant
#6:


Manually run


by
[sandrohanea](/sandrohanea)

November 10, 2024 16:39
46s
[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

November 10, 2024 16:39
46s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11766826528/workflow)

[Collect data for ChatGPT assistant](/sandrohanea/whisper.net/actions/runs/11766786106)Collect data for ChatGPT assistant
#5:


Manually run


by
[sandrohanea](/sandrohanea)

November 10, 2024 16:33
43s
[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

November 10, 2024 16:33
43s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11766786106/workflow)

[Collect data for ChatGPT assistant](/sandrohanea/whisper.net/actions/runs/11766709462)Collect data for ChatGPT assistant
#4:


Manually run


by
[sandrohanea](/sandrohanea)

November 10, 2024 16:21
50s
[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

November 10, 2024 16:21
50s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11766709462/workflow)

[Collect data for ChatGPT assistant](/sandrohanea/whisper.net/actions/runs/11766690940)Collect data for ChatGPT assistant
#3:


Manually run


by
[sandrohanea](/sandrohanea)

November 10, 2024 16:18
1m 19s
[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/refs/heads/sandro/custom-gpt-data "sandro/custom-gpt-data")

November 10, 2024 16:18
1m 19s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11766690940/workflow)

[Added more data to collection.](/sandrohanea/whisper.net/actions/runs/11766679969)Collect data for ChatGPT assistant
#2:


Commit [176e209](/sandrohanea/whisper.net/commit/176e209a05e3e97d8ae9ef6558e4494c504f9666)

pushed
by
[sandrohanea](/sandrohanea)

November 10, 2024 16:16Failure[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/sandro/custom-gpt-data "sandro/custom-gpt-data")

[sandro/custom-gpt-data](/sandrohanea/whisper.net/tree/sandro/custom-gpt-data "sandro/custom-gpt-data")

November 10, 2024 16:16Failure

- [View workflow file](/sandrohanea/whisper.net/actions/runs/11766679969/workflow)

[Collect data for ChatGPT assistant](/sandrohanea/whisper.net/actions/runs/11766500298)Collect data for ChatGPT assistant
#1:


Manually run


by
[sandrohanea](/sandrohanea)

November 10, 2024 15:49
1m 29s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

November 10, 2024 15:49
1m 29s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11766500298/workflow)

You can’t perform that action at this time.

---

# Fixed vulkan and coreml targets (#218) · sandrohanea/whisper.net@5f8c302 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/5f8c302a699db8b04fe89f6064ed423b82d9219a)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

Fixed vulkan and coreml targets ( [#218](https://github.com/sandrohanea/whisper.net/pull/218))


[Browse files](/sandrohanea/whisper.net/tree/5f8c302a699db8b04fe89f6064ed423b82d9219a) Browse the repository at this point in the history

- [main](/sandrohanea/whisper.net)
- ( [#218](/sandrohanea/whisper.net/pull/218 "Merged Pull Request: Fixed vulkan and coreml targets"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)
- …
- [1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)
- [1.7.3-preview2](/sandrohanea/whisper.net/releases/tag/1.7.3-preview2)
- [1.7.3-preview1](/sandrohanea/whisper.net/releases/tag/1.7.3-preview1)
- [1.7.2](/sandrohanea/whisper.net/releases/tag/1.7.2)
- [1.7.2-preview3](/sandrohanea/whisper.net/releases/tag/1.7.2-preview3)
- [1.7.2-preview2](/sandrohanea/whisper.net/releases/tag/1.7.2-preview2)
- [1.7.2-preview1](/sandrohanea/whisper.net/releases/tag/1.7.2-preview1)
- [1.7.1](/sandrohanea/whisper.net/releases/tag/1.7.1)
- [1.7.1-preview1](/sandrohanea/whisper.net/releases/tag/1.7.1-preview1)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

authored
Oct 14, 2024

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[a411f45](/sandrohanea/whisper.net/commit/a411f4525876203fc1fdfad66e1c4770140515cd)commit 5f8c302

Show file tree

Hide file tree

Showing
**3 changed files**
with
**27 additions**
and
**2 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion
2 [.gitignore](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947 ".gitignore")

Show comments


[View file](/sandrohanea/whisper.net/blob/5f8c302a699db8b04fe89f6064ed423b82d9219a/.gitignore)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947) Expand Up | @@ -363,7 +363,7 @@ MigrationBackup/ |
|  |  | !/runtimes/Whisper.net.Runtime.Cuda.\*/Whisper.net.Runtime.Cuda.\*.targets |
|  |  |  |
|  |  | /runtimes/Whisper.net.Runtime.Vulkan/\* |
|  |  | !/Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets |
|  |  | !/runtimes/Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets |
|  |  |  |
|  |  | /runtimes/Whisper.net.Runtime.CoreML/\* |
|  |  | !/runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets |
| [Expand Down](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947) Expand Down |  |

10 changes: 9 additions & 1 deletion
10 [runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets](#diff-43931768d430a4d2f29c47b1d3745781ad50e92fcf78eb782952e58100f45e40 "runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets")

Show comments


[View file](/sandrohanea/whisper.net/blob/5f8c302a699db8b04fe89f6064ed423b82d9219a/runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-43931768d430a4d2f29c47b1d3745781ad50e92fcf78eb782952e58100f45e40) Expand Up | @@ -103,14 +103,22 @@ |
|  |  | <TargetPath>libwhisper.coreml.dylib</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | <ItemGroup> |
|  |  | <!-- Metal Maui asset for maccatalyst, ios, tvos and their simulators --> |
|  |  | <ItemGroupCondition="$(RuntimeIdentifier.StartsWith('tvos-')) or $(RuntimeIdentifier.StartsWith('tvossimulator-')) or (('$(Platform)' == 'iPhone') OR ('$(RuntimeIdentifier)' == 'ios') OR $(RuntimeIdentifier.StartsWith('ios-')) OR $(RuntimeIdentifier.StartsWith('ios.'))) or $(TargetFramework.Contains('-maccatalyst')) == true or (('$(Platform)' == 'iPhoneSimulator') OR $(RuntimeIdentifier.StartsWith('iossimulator')))"> |
|  |  | <MauiAssetInclude="$(MSBuildThisFileDirectory)\\ggml-metal.metal"LogicalName="ggml-metal.metal" /> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <!-- Metal Copy For MacOS --> |
|  |  | <ItemGroupCondition="$(TargetFramework.Contains('-')) == false"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)\\ggml-metal.metal"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>ggml-metal.metal</TargetPath> |
|  |  | <PublishFolderType>RootDirectory</PublishFolderType> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  |  |
|  |  | <ItemGroupCondition="$(TargetFramework.Contains('-')) == false "> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-x64\\libwhisper.dylib"> |
|  |  | <Pack>true</Pack> |
| [Expand Down](#diff-43931768d430a4d2f29c47b1d3745781ad50e92fcf78eb782952e58100f45e40) Expand Down |  |

17 changes: 17 additions & 0 deletions
17 [runtimes/Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets](#diff-06af01bfa48360bebc6c9fc706d493cab542edb77a60f7c921454c664432dc5a "runtimes/Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets")

Show comments


[View file](/sandrohanea/whisper.net/blob/5f8c302a699db8b04fe89f6064ed423b82d9219a/runtimes/Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,17 @@ |
|  |  | <ProjectToolsVersion="4.0"xmlns="http://schemas.microsoft.com/developer/msbuild/2003"> |
|  |  | <ItemGroup |
|  |  | Condition="$(TargetFramework.Contains('-windows')) == true or $(TargetFramework.Contains('-')) == false"> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-x64\\whisper.dll"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/vulkan/win-x64/whisper.dll</TargetPath> |
|  |  | </None> |
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-x64\\ggml.dll"> |
|  |  | <Pack>true</Pack> |
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |
|  |  | <TargetPath>runtimes/vulkan/win-x64/ggml.dll</TargetPath> |
|  |  | </None> |
|  |  | </ItemGroup> |
|  |  | </Project> |

Toggle all file notesToggle all file annotations

### 0 comments  on commit `5f8c302`



Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2F5f8c302a699db8b04fe89f6064ed423b82d9219a) to comment.

You can’t perform that action at this time.

---

# Skipping TestCancelEncoder on ios · sandrohanea/whisper.net@0992be0  · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  \#299

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506280835%2Fworkflow)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506280835%2Fworkflow)

## Workflow file

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold \#299

[Usage](/sandrohanea/whisper.net/actions/runs/12506280835/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506280835/workflow)

#### Workflow file for this run

[.github/workflows/build-all.yml](/sandrohanea/whisper.net/blob/0992be082a2e1190e8a6caec23f3057f4499a2a1/.github/workflows/build-all.yml) at
[0992be0](/sandrohanea/whisper.net/commit/0992be082a2e1190e8a6caec23f3057f4499a2a1)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

|     |     |
| --- | --- |
|  | # This workflow will build a .NET project |
|  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |
|  | name: CI (Native + dotnet) |
|  |  |
|  | on: |
|  | push: |
|  | branches: \["main"\] |
|  | pull\_request: |
|  | branches: \["main"\] |
|  | workflow\_dispatch: |
|  | inputs: |
|  | BuildGpuLibs: |
|  | description: 'Enable GPU libraries build and publish' |
|  | required: true |
|  | default: 'false' |
|  | permissions: |
|  | contents: read |
|  | checks: write |
|  |  |
|  | jobs: |
|  | android: |
|  | uses: ./.github/workflows/android-native-build.yml |
|  |  |
|  | macos: |
|  | uses: ./.github/workflows/macos-native-build.yml |
|  |  |
|  | windows: |
|  | uses: ./.github/workflows/windows-native-build.yml |
|  |  |
|  | windows-no-avx: |
|  | uses: ./.github/workflows/windows-noavx-native-build.yml |
|  |  |
|  | wasm: |
|  | uses: ./.github/workflows/wasm-native-build.yml |
|  |  |
|  | linux: |
|  | uses: ./.github/workflows/linux-native-build.yml |
|  |  |
|  | linux-no-avx: |
|  | uses: ./.github/workflows/linux-noavx-native-build.yml |
|  |  |
|  | linux-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-vulkan-native-build.yml |
|  |  |
|  | windows-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-cuda-native-build.yml |
|  |  |
|  | windows-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-vulkan-native-build.yml |
|  |  |
|  | windows-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-openvino-native-build.yml |
|  |  |
|  | linux-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-cuda-native-build.yml |
|  |  |
|  | linux-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-openvino-native-build.yml |
|  |  |
|  | macos-coreml: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/macos-coreml-native-build.yml |
|  |  |
|  | dotnet-build: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet.yml |
|  |  |
|  | dotnet-maui-build-and-test: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet-maui.yml |

You can’t perform that action at this time.

---

# [Tests] TestCancelEncoder is not working on ios · Issue #308 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# \[Tests\] TestCancelEncoder is not working on ios\#308

Open

[sandrohanea](/sandrohanea) opened this issue
Dec 26, 2024
· 0 comments

Open

# [\[Tests\] TestCancelEncoder is not working on ios](\#top)\#308

[sandrohanea](/sandrohanea) opened this issue
Dec 26, 2024
· 0 comments

## Comments

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Dec 26, 2024](\#issue-2759992900)•   edited      Loading

|     |
| --- |
| The encoder begin handler functionality to cancel a run, is not working in ios. The test was skipped for now.<br>This issue requires further investigation to determine why the encoder callback returning false is not cancelling the run. |
| The text was updated successfully, but these errors were encountered: |

All reactions

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fissues%2F308)

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


No branches or pull requests

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

You can’t perform that action at this time.

---

# CoreML not working on Mac · Issue #137 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# CoreML not working on Mac\#137

Open

[jettoblack](/jettoblack) opened this issue
Nov 23, 2023
· 15 comments

Open

# [CoreML not working on Mac](\#top)\#137

[jettoblack](/jettoblack) opened this issue
Nov 23, 2023
· 15 comments

Labels

[configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes) [GPU](/sandrohanea/whisper.net/labels/GPU)

## Comments

[![@jettoblack](https://avatars.githubusercontent.com/u/1063468?s=80&v=4)](/jettoblack)


Copy link

Contributor

### **[jettoblack](/jettoblack)**     commented   [Nov 23, 2023](\#issue-2008596755)

|     |
| --- |
| I'm trying to run the CoreML example project with no changes in VS Code. I have 2 ARM Macbook Pros: M1 Pro running latest macOS Sonoma 14.1.1, and a M2 Max running Ventura 13.6. Both machines can run the Simple example just fine, but both fail to load the native library for the CoreML example:<br>`Unhandled exception. System.Exception: Failed to load native whisper library. Error: Unknown error at Whisper.net.WhisperFactory..ctor(IWhisperProcessorModelLoader loader, Boolean delayInit, String libraryPath, Boolean bypassLoading) at Whisper.net.WhisperFactory.FromPath(String path, Boolean delayInitialization, String libraryPath, Boolean bypassLoading) at Program.Main(String[] args) in /Users/jasonl/Downloads/whisper.net/examples/CoreML/Program.cs:line 35 at Program.<Main>(String[] args)`<br>In ./bin/Debug/net6.0/runtimes/osx-arm64 I have:<br>libwhisper.coreml.dylib<br>whisper.dylib<br>I see both ggml-base.bin and ggml-base-encoder.mlmodelc downloaded and unpacked successfully. I tried copying these files to the bin or the runtimes/osx-arm64 folders so they are in the same place as the DLLs, but that didn't change anything.<br>I tried updating the projects to .net7, updating my build tools, etc. and nothing helped.<br>Is there any additional information I can provide that would be helpful for debugging? Thanks! |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Nov 25, 2023](\#issuecomment-1826389598)

|     |
| --- |
| Hello [@jettoblack](https://github.com/jettoblack) ,<br>Can you, please, try with the latest whisper 1.5.0 to ensure that it wasn't some old issue that wasn't reproducing anymore?<br>I tested it on my mac (but it is intel-based). Also, ensured that build for arm64 is correctly executed.<br>Best way to test it with the setup that you described is to run:<br>go to whisper.net/examples/CoreML directory.<br>```notranslate<br>dotnet build ./CoreML.csproj --framework net8.0<br>cd bin/Debug/net8.0<br>./CoreML<br>```<br>Please, let me know if the issue persists. |

All reactions

Sorry, something went wrong.


[![@jettoblack](https://avatars.githubusercontent.com/u/1063468?s=80&v=4)](/jettoblack)


Copy link

ContributorAuthor

### **[jettoblack](/jettoblack)**     commented   [Nov 26, 2023](\#issuecomment-1826478311)

|     |
| --- |
| [@sandrohanea](https://github.com/sandrohanea) I tried both 1.4.7 and 1.5.0 on both arm Macs I have, and ran the CoreML example exactly as specified above, but I'm still getting the same error. I can run whisper.cpp in CoreML mode and it works on both of these Macs. I also got the Cublas example working on Windows.<br>The CPU-only version is pretty fast as it is and I just read that CoreML isn't really working great with medium/large models yet, so maybe this is a moot point and I should stick to the CPU runtime, but thanks for looking into it if you have a chance. |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Nov 27, 2023](\#issuecomment-1827626129)

|     |
| --- |
| Whisper.net.Runtime is now using Metal on ARM-based Macs, this is why it is fast already without CoreML :)<br>Can you, please, run `otool -L ./libwhisper.dylib` in the directory of that CoreML example `/build/Debug/net8.0/runtimes/macos-arm64`?<br>Also, can you, please, check if something relevant is displayed in the Console.app when you're trying to run the CoreML example? (search by CoreML in the upper right search box, for fewer results) |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added

[GPU](/sandrohanea/whisper.net/labels/GPU) [configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes)

labels

[Dec 4, 2023](#event-11142105851)

[![@philippjbauer](https://avatars.githubusercontent.com/u/3707196?s=80&u=fd307c5a8488b02fd7673f1c22e9d4aee1b8cba1&v=4)](/philippjbauer)


Copy link

### **[philippjbauer](/philippjbauer)**     commented   [Dec 10, 2023](\#issuecomment-1849034177)

|     |
| --- |
| I'm running into the problem that the native library can't be found when invoking transcription (.NET System.Exception thrown on the line). Perhaps a packaging issue again?<br>I ran the `otool -L` command above, here's the output:<br>```<br>➜ otool -L ./libwhisper.dylib <br>./libwhisper.dylib:<br>        @rpath/libwhisper.dylib (compatibility version 0.0.0, current version 0.0.0)<br>        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.0.0)<br>        /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate (compatibility version 1.0.0, current version 4.0.0)<br>        /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation (compatibility version 300.0.0, current version 1953.255.0)<br>        /System/Library/Frameworks/Metal.framework/Versions/A/Metal (compatibility version 1.0.0, current version 306.3.4)<br>        /System/Library/Frameworks/MetalKit.framework/Versions/A/MetalKit (compatibility version 1.0.0, current version 154.0.0)<br>        /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 1300.36.0)<br>        /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1953.255.0)<br>        /usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0)<br>``` |

All reactions

Sorry, something went wrong.


[![@Sing303](https://avatars.githubusercontent.com/u/19262319?s=80&u=0fde17892dae7e1f89055dc8d991750887f89bbb&v=4)](/Sing303)


Copy link

Contributor

### **[Sing303](/Sing303)**     commented   [Dec 11, 2023](\#issuecomment-1850534907)

|     |
| --- |
| Similar problem, after executing<br>```notranslate<br>dotnet build ./CoreML.csproj --framework net8.0<br>cd bin/Debug/net8.0<br>./CoreML<br>```<br>Unhandled Exception. System Exception: Failed to load native whisper library.<br>On my M1 Mac Mini |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Dec 12, 2023](\#issuecomment-1852623922)

|     |
| --- |
| I double-checked the package, and I don't see any issue with it :(<br>Unfortunately, as I said before, I don't have an ARM-based mac to test it and attempt a fix.<br>Maybe someone can try to build a new runtime with [the command](https://github.com/sandrohanea/whisper.net/blob/main/Makefile):<br>```notranslate<br>make macos_arm64_coreml <br>```<br>ensure that cmake + build tools (xcode) are installed.<br>then, copy the dylib manually from: `./Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.dylib` and `./Whisper.net.Runtime.CoreML/macos-arm64/libwhisper.coreml.dylib` to `(yourBuildPath)/runtimes/macos-arm64/` (make sure that you replace the existing ones and try to run the sample again.<br>This way we can check if there is some issue with the build script or with the build artifact.<br>Also, it would be great if someone can confirm if they manage to execute it. |

All reactions

Sorry, something went wrong.


[![@philippjbauer](https://avatars.githubusercontent.com/u/3707196?s=80&u=fd307c5a8488b02fd7673f1c22e9d4aee1b8cba1&v=4)](/philippjbauer)


Copy link

### **[philippjbauer](/philippjbauer)**     commented   [Dec 12, 2023](\#issuecomment-1852693737)•   edited      Loading

|     |
| --- |
| It errors out for me with:<br>`Makefile:10: *** NDK_PATH not defined and NDK not found at default location on Mac..  Stop.`<br>The Xamarin Android SDK is missing or something?<br>Edit: there's no `macos_arm64_coreml` option in the makefile. Did you mean `macos_coreml`? The Xamarin Android SDK isn't relevant for that build, correct? |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Dec 12, 2023](\#issuecomment-1852713331)

|     |
| --- |
| In the latest whisper.net main, that should be just a warning: [https://github.com/sandrohanea/whisper.net/blob/4308888d4a202265dcc5d0f40bc4cce7dfdae255/Makefile#L10C9-L10C109](https://github.com/sandrohanea/whisper.net/blob/4308888d4a202265dcc5d0f40bc4cce7dfdae255/Makefile#L10C9-L10C109)<br>Please, make sure you pull the latest changes and also sync the whisper.cpp submodule:<br>```notranslate<br>git pull<br>git submodule update<br>``` |

All reactions

Sorry, something went wrong.


[![@philippjbauer](https://avatars.githubusercontent.com/u/3707196?s=80&u=fd307c5a8488b02fd7673f1c22e9d4aee1b8cba1&v=4)](/philippjbauer)


Copy link

### **[philippjbauer](/philippjbauer)**     commented   [Dec 12, 2023](\#issuecomment-1852714054)•   edited      Loading

|     |
| --- |
| Removing the condition in the makefile and running `macos_coreml` gave me a working dylib file.<br>I got the following output regarding a missing `ggml-metal.metal` file. It still transcribed my audio file. I copied a metal file from a previous version next to the new libraries. The program crashed trying it this way though, I guess I need an updated one but don't know how to generate it / where to download it.<br>```notranslate<br>ggml_metal_init: allocating<br>ggml_metal_init: found device: Apple M1 Pro<br>ggml_metal_init: picking default device: Apple M1 Pro<br>ggml_metal_init: default.metallib not found, loading from source<br>ggml_metal_init: GGML_METAL_PATH_RESOURCES = nil<br>ggml_metal_init: error: could not use bundle path to find ggml-metal.metal, falling back to trying cwd<br>ggml_metal_init: loading 'ggml-metal.metal'<br>ggml_metal_init: error: Error Domain=NSCocoaErrorDomain Code=260 "The file “ggml-metal.metal” couldn’t be opened because there is no such file." UserInfo={NSFilePath=ggml-metal.metal, NSUnderlyingError=0x2a6edff60 {Error Domain=NSPOSIXErrorDomain Code=2 "No such file or directory"}}<br>ggml_metal_init: allocating<br>ggml_metal_init: found device: Apple M1 Pro<br>ggml_metal_init: picking default device: Apple M1 Pro<br>ggml_metal_init: default.metallib not found, loading from source<br>ggml_metal_init: GGML_METAL_PATH_RESOURCES = nil<br>ggml_metal_init: error: could not use bundle path to find ggml-metal.metal, falling back to trying cwd<br>ggml_metal_init: loading 'ggml-metal.metal'<br>ggml_metal_init: error: Error Domain=NSCocoaErrorDomain Code=260 "The file “ggml-metal.metal” couldn’t be opened because there is no such file." UserInfo={NSFilePath=ggml-metal.metal, NSUnderlyingError=0x2a6935300 {Error Domain=NSPOSIXErrorDomain Code=2 "No such file or directory"}}<br>```<br>[libwhisper.coreml.macos\_coreml.arm64.zip](https://github.com/sandrohanea/whisper.net/files/13652671/libwhisper.coreml.macos_coreml.arm64.zip) |

All reactions

Sorry, something went wrong.


[![@philippjbauer](https://avatars.githubusercontent.com/u/3707196?s=80&u=fd307c5a8488b02fd7673f1c22e9d4aee1b8cba1&v=4)](/philippjbauer)


Copy link

### **[philippjbauer](/philippjbauer)**     commented   [Dec 12, 2023](\#issuecomment-1852719104)

|     |
| --- |
| Nevermind, found the metal file in the whisper.cpp directory. Added it to the zip file:<br>[libwhisper.coreml.macos\_coreml.arm64\_with\_metal.zip](https://github.com/sandrohanea/whisper.net/files/13652714/libwhisper.coreml.macos_coreml.arm64_with_metal.zip)<br>This works as expected now |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Dec 12, 2023](\#issuecomment-1852722862)

|     |
| --- |
| Nice, just to confirm, you synched latest changed from whisper.net and whisper.cpp?<br>Because that NDK error was removed and also contained a different text in latest version: `NDK_PATH not defined and NDK not found at default location on Mac. Android cannot be built` |

All reactions

Sorry, something went wrong.


[![@philippjbauer](https://avatars.githubusercontent.com/u/3707196?s=80&u=fd307c5a8488b02fd7673f1c22e9d4aee1b8cba1&v=4)](/philippjbauer)


Copy link

### **[philippjbauer](/philippjbauer)**     commented   [Dec 12, 2023](\#issuecomment-1852735796)

|     |
| --- |
| Good call. It was still behind, I thought I had it but didn't! Here's a working version from the latest main branch.<br>[libwhisper.coreml.dylib.metal.arm64.zip](https://github.com/sandrohanea/whisper.net/files/13652848/libwhisper.coreml.dylib.metal.arm64.zip) |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Dec 12, 2023](\#issuecomment-1852745294)

|     |
| --- |
| So latest main still worked without any additional change?<br>That's at least strange, as same build was done from github actions (but using an intel-based mac agent). ARM-based macos is not yet available free of charge for open source: [https://github.com/orgs/community/discussions/69211](https://github.com/orgs/community/discussions/69211) |

All reactions

Sorry, something went wrong.


[![@philippjbauer](https://avatars.githubusercontent.com/u/3707196?s=80&u=fd307c5a8488b02fd7673f1c22e9d4aee1b8cba1&v=4)](/philippjbauer)


Copy link

### **[philippjbauer](/philippjbauer)**     commented   [Dec 12, 2023](\#issuecomment-1852750080)

|     |
| --- |
| That's correct, no additional changes needed. We have the same issue with our project ( [https://github.com/tryphotino/photino.Native](https://github.com/tryphotino/photino.Native)), I have to compile our native libraries for macOS ARM64 manually and upload it for the build process to copy it into the resulting NuGet package.<br>I hope we'll get build machines for that soon 👍 |

All reactions

Sorry, something went wrong.


[![@philippjbauer](https://avatars.githubusercontent.com/u/3707196?s=80&u=fd307c5a8488b02fd7673f1c22e9d4aee1b8cba1&v=4)](/philippjbauer)


Copy link

### **[philippjbauer](/philippjbauer)**     commented   [Dec 14, 2023](\#issuecomment-1856320738)

|     |
| --- |
| [@sandrohanea](https://github.com/sandrohanea) I did some testing and ran into the following issue where it seems to load the model twice (?)<br>To test I recompiled everything again. And there was an update to whisper.cpp (see attachment). It works with those updates, but it still has that same error:<br>```notranslate<br>ggml_metal_init: allocating<br>ggml_metal_init: found device: Apple M1 Pro<br>ggml_metal_init: picking default device: Apple M1 Pro<br>ggml_metal_init: default.metallib not found, loading from source<br>ggml_metal_init: GGML_METAL_PATH_RESOURCES = nil<br>ggml_metal_init: loading '/path-to-project/bin/Debug/net8.0/runtimes/macos-arm64/ggml-metal.metal'<br>ggml_metal_init: GPU name:   Apple M1 Pro<br>ggml_metal_init: GPU family: MTLGPUFamilyApple7 (1007)<br>ggml_metal_init: hasUnifiedMemory              = true<br>ggml_metal_init: recommendedMaxWorkingSetSize  = 22906.50 MB<br>ggml_metal_init: maxTransferRate               = built-in GPU<br>ggml_metal_init: allocating<br>ggml_metal_init: found device: Apple M1 Pro<br>ggml_metal_init: picking default device: Apple M1 Pro<br>ggml_metal_init: default.metallib not found, loading from source<br>ggml_metal_init: GGML_METAL_PATH_RESOURCES = nil<br>ggml_metal_init: loading '/path-to-project/bin/Debug/net8.0/runtimes/macos-arm64/ggml-metal.metal'<br>ggml_metal_init: GPU name:   Apple M1 Pro<br>ggml_metal_init: GPU family: MTLGPUFamilyApple7 (1007)<br>ggml_metal_init: hasUnifiedMemory              = true<br>ggml_metal_init: recommendedMaxWorkingSetSize  = 22906.50 MB<br>ggml_metal_init: maxTransferRate               = built-in GPU<br>```<br>I also experienced that the new `large-v3` model produces garbage when tried with these binaries. The CPU/Metal version in Whisper.net.Runtime (1.5.0) run the model just fine. Not sure what's going on here.<br>[whisper\_osx\_arm64\_coreml-metal.zip](https://github.com/sandrohanea/whisper.net/files/13676430/whisper_osx_arm64_coreml-metal.zip) |

All reactions

Sorry, something went wrong.


[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fissues%2F137)

Assignees


No one assigned

Labels


[configuration-runtimes](/sandrohanea/whisper.net/labels/configuration-runtimes) [GPU](/sandrohanea/whisper.net/labels/GPU)

Projects


None yet

Milestone


No milestone

Development


No branches or pull requests

4 participants


[![@jettoblack](https://avatars.githubusercontent.com/u/1063468?s=52&v=4)](/jettoblack)[![@philippjbauer](https://avatars.githubusercontent.com/u/3707196?s=52&v=4)](/philippjbauer)[![@Sing303](https://avatars.githubusercontent.com/u/19262319?s=52&v=4)](/Sing303)[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

You can’t perform that action at this time.

---

# Linux Native build · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## Linux Native build     \#\#\# Linux Native build         \#\# Actions

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

[linux-native-build.yml](/sandrohanea/whisper.net/blob/main/.github/workflows/linux-native-build.yml)

will be ignored since log searching is not yet available


**44 workflow runs**

**44 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

[Linux Native build](/sandrohanea/whisper.net/actions/runs/11224892376)Linux Native build
#48:


Manually run


by
[sandrohanea](/sandrohanea)

October 7, 2024 22:18
57m 57s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 7, 2024 22:18
57m 57s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11224892376/workflow)

[Linux Native build](/sandrohanea/whisper.net/actions/runs/11224816943)Linux Native build
#47:


Manually run


by
[sandrohanea](/sandrohanea)

October 7, 2024 22:12
4m 40s
[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

[main](/sandrohanea/whisper.net/tree/refs/heads/main "main")

October 7, 2024 22:12
4m 40s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11224816943/workflow)

[Linux Native build](/sandrohanea/whisper.net/actions/runs/11217416658)Linux Native build
#46:


Manually run


by
[sandrohanea](/sandrohanea)

October 7, 2024 14:12
1h 1m 19s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

October 7, 2024 14:12
1h 1m 19s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11217416658/workflow)

[Linux Native build](/sandrohanea/whisper.net/actions/runs/11193345913)Linux Native build
#45:


Manually run


by
[sandrohanea](/sandrohanea)

October 5, 2024 12:50
58m 58s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

October 5, 2024 12:50
58m 58s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11193345913/workflow)

[Linux Native build](/sandrohanea/whisper.net/actions/runs/11192966051)Linux Native build
#44:


Manually run


by
[sandrohanea](/sandrohanea)

October 5, 2024 11:50
57m 1s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

October 5, 2024 11:50
57m 1s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11192966051/workflow)

[Linux Native build](/sandrohanea/whisper.net/actions/runs/11192937413)Linux Native build
#43:


Manually run


by
[sandrohanea](/sandrohanea)

October 5, 2024 11:45
3m 59s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

October 5, 2024 11:45
3m 59s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11192937413/workflow)

[Linux Native build](/sandrohanea/whisper.net/actions/runs/11192927724)Linux Native build
#42:


Manually run


by
[sandrohanea](/sandrohanea)

October 5, 2024 11:42
12s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

October 5, 2024 11:42
12s


- [View workflow file](/sandrohanea/whisper.net/actions/runs/11192927724/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9732863603)Linux Native build
#40:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 14:52
19s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 14:52
19s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9732863603/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9732840393)Linux Native build
#39:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 14:47
14s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 14:47
14s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9732840393/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9731214596)Linux Native build
#38:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 10:13
31m 40s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 10:13
31m 40s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9731214596/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9731156388)Linux Native build
#37:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 10:04
22s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 10:04
22s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9731156388/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9731032044)Linux Native build
#36:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 09:38
3m 30s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 09:38
3m 30s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9731032044/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9731006832)Linux Native build
#35:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 09:34
46s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 09:34
46s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9731006832/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9730669293)Linux Native build
#34:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 08:34
32m 49s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 08:34
32m 49s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9730669293/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9730437058)Linux Native build
#33:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 07:58
29m 35s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 07:58
29m 35s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9730437058/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9730432350)Linux Native build
#32:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 07:57
1m 30s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 07:57
1m 30s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9730432350/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9730413227)Linux Native build
#31:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

synchronize
by
[sandrohanea](/sandrohanea)

June 30, 2024 07:52
3m 57s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 30, 2024 07:52
3m 57s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9730413227/workflow)

[A lot of changes for 1.7.0](/sandrohanea/whisper.net/actions/runs/9725978464)Linux Native build
#30:


Pull request [#201](/sandrohanea/whisper.net/pull/201)

opened
by
[sandrohanea](/sandrohanea)

June 29, 2024 18:05
3m 49s
[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

[wip/160](/sandrohanea/whisper.net/tree/refs/heads/wip/160 "wip/160")

June 29, 2024 18:05
3m 49s


- [View #201](/sandrohanea/whisper.net/pull/201)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/9725978464/workflow)

[Bump NUnit.Analyzers from 4.0.0 to 4.2.0](/sandrohanea/whisper.net/actions/runs/8878447099)Linux Native build
#26:


Pull request [#192](/sandrohanea/whisper.net/pull/192)

opened
by
[dependabot](/apps/dependabot) bot

April 29, 2024 12:22
37s
[dependabot/nuget/NUnit.Analyzers-4.2.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit.Analyzers-4.2.0 "dependabot/nuget/NUnit.Analyzers-4.2.0")

[dependabot/nuget/NUnit.Analyzers-4.2.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit.Analyzers-4.2.0 "dependabot/nuget/NUnit.Analyzers-4.2.0")

April 29, 2024 12:22
37s


- [View #192](/sandrohanea/whisper.net/pull/192)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8878447099/workflow)

[Bump Microsoft.AspNetCore.Components.WebAssembly.Server from 8.0.1 to 8.0.4 in /examples](/sandrohanea/whisper.net/actions/runs/8689626930)Linux Native build
#25:


Pull request [#190](/sandrohanea/whisper.net/pull/190)

opened
by
[dependabot](/apps/dependabot) bot

April 15, 2024 13:03
16s
[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4")

[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.4")

April 15, 2024 13:03
16s


- [View #190](/sandrohanea/whisper.net/pull/190)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8689626930/workflow)

[Bump Microsoft.AspNetCore.Components.WebAssembly from 8.0.0 to 8.0.4 in /examples](/sandrohanea/whisper.net/actions/runs/8689621956)Linux Native build
#24:


Pull request [#189](/sandrohanea/whisper.net/pull/189)

opened
by
[dependabot](/apps/dependabot) bot

April 15, 2024 13:03
20s
[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4")

[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.4")

April 15, 2024 13:03
20s


- [View #189](/sandrohanea/whisper.net/pull/189)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8689621956/workflow)

[Bump Microsoft.AspNetCore.Components.WebAssembly.Server from 8.0.1 to 8.0.3 in /examples](/sandrohanea/whisper.net/actions/runs/8508036047)Linux Native build
#23:


Pull request [#184](/sandrohanea/whisper.net/pull/184)

opened
by
[dependabot](/apps/dependabot) bot

April 1, 2024 12:28
15s
[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3")

[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly.Server-8.0.3")

April 1, 2024 12:28
15s


- [View #184](/sandrohanea/whisper.net/pull/184)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8508036047/workflow)

[Bump Microsoft.AspNetCore.Components.WebAssembly from 8.0.0 to 8.0.3 in /examples](/sandrohanea/whisper.net/actions/runs/8508034011)Linux Native build
#22:


Pull request [#183](/sandrohanea/whisper.net/pull/183)

opened
by
[dependabot](/apps/dependabot) bot

April 1, 2024 12:27
17s
[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3")

[dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3 "dependabot/nuget/examples/Microsoft.AspNetCore.Components.WebAssembly-8.0.3")

April 1, 2024 12:27
17s


- [View #183](/sandrohanea/whisper.net/pull/183)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8508034011/workflow)

[Bump coverlet.collector from 6.0.0 to 6.0.2](/sandrohanea/whisper.net/actions/runs/8326673397)Linux Native build
#21:


Pull request [#180](/sandrohanea/whisper.net/pull/180)

opened
by
[dependabot](/apps/dependabot) bot

March 18, 2024 12:38
16s
[dependabot/nuget/coverlet.collector-6.0.2](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/coverlet.collector-6.0.2 "dependabot/nuget/coverlet.collector-6.0.2")

[dependabot/nuget/coverlet.collector-6.0.2](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/coverlet.collector-6.0.2 "dependabot/nuget/coverlet.collector-6.0.2")

March 18, 2024 12:38
16s


- [View #180](/sandrohanea/whisper.net/pull/180)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8326673397/workflow)

[Bump NUnit.Analyzers from 4.0.0 to 4.1.0](/sandrohanea/whisper.net/actions/runs/8326667659)Linux Native build
#20:


Pull request [#179](/sandrohanea/whisper.net/pull/179)

opened
by
[dependabot](/apps/dependabot) bot

March 18, 2024 12:37
17s
[dependabot/nuget/NUnit.Analyzers-4.1.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit.Analyzers-4.1.0 "dependabot/nuget/NUnit.Analyzers-4.1.0")

[dependabot/nuget/NUnit.Analyzers-4.1.0](/sandrohanea/whisper.net/tree/refs/heads/dependabot/nuget/NUnit.Analyzers-4.1.0 "dependabot/nuget/NUnit.Analyzers-4.1.0")

March 18, 2024 12:37
17s


- [View #179](/sandrohanea/whisper.net/pull/179)
- [View workflow file](/sandrohanea/whisper.net/actions/runs/8326667659/workflow)

Previous _1_ [2](/sandrohanea/whisper.net/actions/workflows/linux-native-build.yml?page=2) [Next](/sandrohanea/whisper.net/actions/workflows/linux-native-build.yml?page=2)

You can’t perform that action at this time.

---

# whisper.net/examples/NAudioMp3/Program.cs at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Program.cs

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Added NAudio examples + commented examples on details + Renamed examples](/sandrohanea/whisper.net/commit/80345e1504c7f3e8a760b96f22b35617e4f7b9c9)

Jun 3, 2023

[80345e1](/sandrohanea/whisper.net/commit/80345e1504c7f3e8a760b96f22b35617e4f7b9c9) · Jun 3, 2023

## History

[History](/sandrohanea/whisper.net/commits/main/examples/NAudioMp3/Program.cs)

61 lines (50 loc) · 2.66 KB

/

# Program.cs

Top

## File metadata and controls

- Code

- Blame


61 lines (50 loc) · 2.66 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/examples/NAudioMp3/Program.cs)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

// Licensed under the MIT license: https://opensource.org/licenses/MIT

usingSystem;

usingSystem.IO;

usingSystem.Threading.Tasks;

usingNAudio.Wave.SampleProviders;

usingNAudio.Wave;

usingWhisper.net;

usingWhisper.net.Ggml;

publicclassProgram

{

// This example shows how to use the NAudio library to convert an mp3 file to a wav file with 16Khz sample rate and then use the Whisper library to process the wav file.

publicstaticasyncTaskMain(string\[\]args)

{

// We declare three variables which we will use later, ggmlType, modelFileName and mp3FileName

varggmlType=GgmlType.Base;

varmodelFileName="ggml-base.bin";

varmp3FileName="kennedy.mp3";

// This section detects whether the "ggml-base.bin" file exists in our project disk. If it doesn't, it downloads it from the internet

if(!File.Exists(modelFileName))

{

awaitDownloadModel(modelFileName,ggmlType);

}

// This section creates the whisperFactory object which is used to create the processor object.

usingvarwhisperFactory=WhisperFactory.FromPath("ggml-base.bin");

// This section creates the processor object which is used to process the audio file, it uses language \`auto\` to detect the language of the audio file.

usingvarprocessor=whisperFactory.CreateBuilder()

.WithLanguage("auto")

.Build();

// This section opens the mp3 file and converts it to a wav file with 16Khz sample rate.

usingvarfileStream=File.OpenRead(mp3FileName);

usingvarwavStream=newMemoryStream();

usingvarreader=newMp3FileReader(fileStream);

varresampler=newWdlResamplingSampleProvider(reader.ToSampleProvider(),16000);

WaveFileWriter.WriteWavFileToStream(wavStream,resampler.ToWaveProvider16());

// This section sets the wavStream to the beginning of the stream. (This is required because the wavStream was written to in the previous section)

wavStream.Seek(0,SeekOrigin.Begin);

// This section processes the audio file and prints the results (start time, end time and text) to the console.

awaitforeach(varresultinprocessor.ProcessAsync(wavStream))

{

Console.WriteLine($"{result.Start}->{result.End}: {result.Text}");

}

}

privatestaticasyncTaskDownloadModel(stringfileName,GgmlTypeggmlType)

{

Console.WriteLine($"Downloading Model {fileName}");

usingvarmodelStream=awaitWhisperGgmlDownloader.GetGgmlModelAsync(ggmlType);

usingvarfileWriter=File.OpenWrite(fileName);

awaitmodelStream.CopyToAsync(fileWriter);

}

}

You can’t perform that action at this time.


While the code is focused, press Alt+F1 for a menu of operations.

---

# Added SkipOnIos · sandrohanea/whisper.net@bde50f6  · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold  \#300

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506514905%2Fworkflow)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506514905%2Fworkflow)

## Workflow file

# Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold

## Bumped Whispercpp 1.7.3 that adds WithNoSpeechThreshold \#300

[Usage](/sandrohanea/whisper.net/actions/runs/12506514905/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506514905/workflow)

#### Workflow file for this run

[.github/workflows/build-all.yml](/sandrohanea/whisper.net/blob/bde50f61bc38c29242b0a887b739e3d20ac6f508/.github/workflows/build-all.yml) at
[bde50f6](/sandrohanea/whisper.net/commit/bde50f61bc38c29242b0a887b739e3d20ac6f508)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

|     |     |
| --- | --- |
|  | # This workflow will build a .NET project |
|  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |
|  | name: CI (Native + dotnet) |
|  |  |
|  | on: |
|  | push: |
|  | branches: \["main"\] |
|  | pull\_request: |
|  | branches: \["main"\] |
|  | workflow\_dispatch: |
|  | inputs: |
|  | BuildGpuLibs: |
|  | description: 'Enable GPU libraries build and publish' |
|  | required: true |
|  | default: 'false' |
|  | permissions: |
|  | contents: read |
|  | checks: write |
|  |  |
|  | jobs: |
|  | android: |
|  | uses: ./.github/workflows/android-native-build.yml |
|  |  |
|  | macos: |
|  | uses: ./.github/workflows/macos-native-build.yml |
|  |  |
|  | windows: |
|  | uses: ./.github/workflows/windows-native-build.yml |
|  |  |
|  | windows-no-avx: |
|  | uses: ./.github/workflows/windows-noavx-native-build.yml |
|  |  |
|  | wasm: |
|  | uses: ./.github/workflows/wasm-native-build.yml |
|  |  |
|  | linux: |
|  | uses: ./.github/workflows/linux-native-build.yml |
|  |  |
|  | linux-no-avx: |
|  | uses: ./.github/workflows/linux-noavx-native-build.yml |
|  |  |
|  | linux-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-vulkan-native-build.yml |
|  |  |
|  | windows-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-cuda-native-build.yml |
|  |  |
|  | windows-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-vulkan-native-build.yml |
|  |  |
|  | windows-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-openvino-native-build.yml |
|  |  |
|  | linux-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-cuda-native-build.yml |
|  |  |
|  | linux-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-openvino-native-build.yml |
|  |  |
|  | macos-coreml: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/macos-coreml-native-build.yml |
|  |  |
|  | dotnet-build: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet.yml |
|  |  |
|  | dotnet-maui-build-and-test: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet-maui.yml |

You can’t perform that action at this time.

---

# Removed continuous recognition example and replaced it with a link the echosharp by sandrohanea · Pull Request #309 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# Removed continuous recognition example and replaced it with a link the echosharp\#309

Merged

[sandrohanea](/sandrohanea)
merged 1 commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[echosharp/removedcontinuousrecognition](/sandrohanea/whisper.net/tree/echosharp/removedcontinuousrecognition "sandrohanea/whisper.net:echosharp/removedcontinuousrecognition")

Dec 26, 2024

Merged

# [Removed continuous recognition example and replaced it with a link the echosharp](\#top)\#309

[sandrohanea](/sandrohanea)
merged 1 commit into

[main](/sandrohanea/whisper.net/tree/main "sandrohanea/whisper.net:main")

from

[echosharp/removedcontinuousrecognition](/sandrohanea/whisper.net/tree/echosharp/removedcontinuousrecognition "sandrohanea/whisper.net:echosharp/removedcontinuousrecognition")

Dec 26, 2024

+2

−141


## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=60&v=4)](/sandrohanea)


Copy link

Owner

### ![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=48&v=4)**[sandrohanea](/sandrohanea)**     commented   [Dec 26, 2024](\#issue-2760010437)

_No description provided._

Sorry, something went wrong.


All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

`
          Removed continuous recognition example and replaced it with a link th…
        ` …

Loading

Loading status checks…

`
          406bc65
        `

```
…e echosharp
```

Hide detailsView details[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

merged commit [`a3ec2f8`](/sandrohanea/whisper.net/commit/a3ec2f8fa8f19a5fd905dec2368aa16940dd35fd)
into

main[Dec 26, 2024](https://github.com/sandrohanea/whisper.net/pull/309#event-15767174898)

16 checks passed


16 checks passed

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**android / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445673)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446143)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446037)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / intel-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446525)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows / arm-native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446401)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446650)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**wasm / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892446254)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445801)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-no-avx / native-build**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445937)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892444896)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445325)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-vulkan**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445555)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**windows-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445433)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-cuda**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892444745)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**linux-openvino**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445120)

[![@github-actions[bot]](https://avatars.githubusercontent.com/in/15368?v=4)](/apps/github-actions)

**macos-coreml**

[Details](/sandrohanea/whisper.net/actions/runs/12506853099/job/34892445214)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)


deleted the

echosharp/removedcontinuousrecognition

branch

[December 26, 2024 17:59](#event-15767175124)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fpull%2F309)

Reviewers


No reviews

Assignees


No one assigned

Labels


None yet

Projects


None yet

Milestone


No milestone

Development


Successfully merging this pull request may close these issues.

None yet

1 participant


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)

Add this suggestion to a batch that can be applied as a single commit.This suggestion is invalid because no changes were made to the code.Suggestions cannot be applied while the pull request is closed.Suggestions cannot be applied while viewing a subset of changes.Only one suggestion per line can be applied in a batch.Add this suggestion to a batch that can be applied as a single commit.Applying suggestions on deleted lines is not supported.You must change the existing code in this line in order to create a valid suggestion.Outdated suggestions cannot be applied.This suggestion has been applied or marked resolved.Suggestions cannot be applied from pending reviews.Suggestions cannot be applied on multi-line comments.Suggestions cannot be applied while the pull request is queued to merge.Suggestion cannot be applied right now. Please check back later.

You can’t perform that action at this time.

---

# The problem of multilingual mixing in recording · Issue #177 · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)



New issue


**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.


[Sign up for GitHub](/signup?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fsandrohanea%2Fwhisper.net%2Fissues%2Fnew%2Fchoose)
to your account


[Jump to bottom](#issue-comment-box)

# The problem of multilingual mixing in recording\#177

Open

[duwenlong2](/duwenlong2) opened this issue
Mar 12, 2024
· 1 comment

Open

# [The problem of multilingual mixing in recording](\#top)\#177

[duwenlong2](/duwenlong2) opened this issue
Mar 12, 2024
· 1 comment

Labels

[enhancement](/sandrohanea/whisper.net/labels/enhancement) New feature or request

## Comments

[![@duwenlong2](https://avatars.githubusercontent.com/u/66997720?s=80&v=4)](/duwenlong2)


Copy link

### **[duwenlong2](/duwenlong2)**     commented   [Mar 12, 2024](\#issue-2181055506)

|     |
| --- |
| I have a scene like this. The audio file for meeting minutes needs to be converted into text, but after using Whisper, there are Chinese and English sentences in my audio file. He has uniformly output English.<br>I want to preserve the results of the original language. Can it be implemented in Whisper? |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=80&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)


Copy link

Owner

### **[sandrohanea](/sandrohanea)**     commented   [Oct 25, 2024](\#issuecomment-2437299047)

|     |
| --- |
| The library is identifying one language at stat-up (if "auto" is used) and then it is used to transcribe the entire file so it makes sense it will uniformly output English (and transcriptions when other languages are spoken).<br>One idea to fix it (but it is not tested) would be to :<br>1. Add the `WithProbabilities` on the builder => which will give you the confidence level for each segment.<br>2. Once you identify some segment with low confidence level, re-transcribe it (by extracting the frames for that segment from start and end time). Either provide the other language if you know it is always "Chinese and English" or identify it again using "auto".<br>3. Replace the segments in the result.<br>It would be probably interesting to have this functionality in the library in the future, but cannot promise that I'll have time to implement it. |

All reactions

Sorry, something went wrong.


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&u=7b259d9afe770278662952ab9abb698b150bc822&v=4)](/sandrohanea)[sandrohanea](/sandrohanea)

added
the
[enhancement](/sandrohanea/whisper.net/labels/enhancement) New feature or request
label

[Oct 25, 2024](#event-14868730167)

[Sign up for free](/join?source=comment-repo) **to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fissues%2F177)

Assignees


No one assigned

Labels


[enhancement](/sandrohanea/whisper.net/labels/enhancement) New feature or request

Projects


None yet

Milestone


No milestone

Development


No branches or pull requests

2 participants


[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=52&v=4)](/sandrohanea)[![@duwenlong2](https://avatars.githubusercontent.com/u/66997720?s=52&v=4)](/duwenlong2)

You can’t perform that action at this time.

---

# Fixed Android build + improved CI/CI with xharness + added AllRuntime… · sandrohanea/whisper.net@b5eca43 · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Commit

[Permalink](/sandrohanea/whisper.net/commit/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Loading

Loading status checks…

Fixed Android build + improved CI/CI with xharness + added AllRuntime…


[Browse files](/sandrohanea/whisper.net/tree/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d) Browse the repository at this point in the history

```
…s package (#216)

Squash commit
```

- [main](/sandrohanea/whisper.net)
- ( [#216](/sandrohanea/whisper.net/pull/216 "Merged Pull Request: Fixed Android build + improved CI/CI with xharness + added AllRuntimes package"))

- [1.7.4](/sandrohanea/whisper.net/releases/tag/1.7.4)
- …
- [1.7.3](/sandrohanea/whisper.net/releases/tag/1.7.3)
- [1.7.3-preview2](/sandrohanea/whisper.net/releases/tag/1.7.3-preview2)
- [1.7.3-preview1](/sandrohanea/whisper.net/releases/tag/1.7.3-preview1)
- [1.7.2](/sandrohanea/whisper.net/releases/tag/1.7.2)
- [1.7.2-preview3](/sandrohanea/whisper.net/releases/tag/1.7.2-preview3)
- [1.7.2-preview2](/sandrohanea/whisper.net/releases/tag/1.7.2-preview2)
- [1.7.2-preview1](/sandrohanea/whisper.net/releases/tag/1.7.2-preview1)
- [1.7.1](/sandrohanea/whisper.net/releases/tag/1.7.1)
- [1.7.1-preview1](/sandrohanea/whisper.net/releases/tag/1.7.1-preview1)

[![@sandrohanea](https://avatars.githubusercontent.com/u/40202887?s=40&v=4)](/sandrohanea)

[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea "View all commits by sandrohanea")

authored
Oct 13, 2024

Verified

# Verified

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.


GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits)

1 parent

[9414bd3](/sandrohanea/whisper.net/commit/9414bd36478622936dfb04503850f1a95d033bb9)commit b5eca43

Show file tree

Hide file tree

Showing
**128 changed files**
with
**4,171 additions**
and
**1,349 deletions**.


- Whitespace
- Ignore whitespace

- Split
- Unified

## There are no files selected for viewing

33 changes: 0 additions & 33 deletions
33 [.github/workflows/android-native-build.yaml](#diff-5ff5a1aeed02e52ef446e704a392d60bbd32f6104c5e98e310e7425434e2d13c ".github/workflows/android-native-build.yaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/.github/workflows/android-native-build.yaml)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

30 changes: 30 additions & 0 deletions
30 [.github/workflows/android-native-build.yml](#diff-c4659a908a3c44ed09448a76f8167ea4a30726b55fed2ba1e72bf1b7bdfc728c ".github/workflows/android-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/android-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,30 @@ |
|  |  | name: Android Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | native-build: |
|  |  | runs-on: ubuntu-20.04 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Install Android NDK |
|  |  | uses: nttld/setup-ndk@v1.4.2 |
|  |  | with: |
|  |  | ndk-version: r25c |
|  |  |  |
|  |  | \- name: Run android build |
|  |  | run: make android |
|  |  |  |
|  |  | \- name: Upload Android Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: android-build |
|  |  | path: "runtimes/Whisper.net.Run\*/android-\*/\*" |
|  |  | retention-days: 7 |

95 changes: 95 additions & 0 deletions
95 [.github/workflows/build-all.yml](#diff-7682a9fd2942d8a81f55c30abd512b277b1b1eb7c5f16b2c4d88323de90e55d0 ".github/workflows/build-all.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/build-all.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,95 @@ |
|  |  | # This workflow will build a .NET project |
|  |  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |  |
|  |  | name: CI (Native + dotnet) |
|  |  |  |
|  |  | on: |
|  |  | push: |
|  |  | branches: \["main"\] |
|  |  | pull\_request: |
|  |  | branches: \["main"\] |
|  |  | workflow\_dispatch: |
|  |  | inputs: |
|  |  | BuildGpuLibs: |
|  |  | description: 'Enable GPU libraries build and publish' |
|  |  | required: true |
|  |  | default: 'false' |
|  |  | env: |
|  |  | BuildGpuLibs: false |
|  |  | jobs: |
|  |  | android: |
|  |  | uses: ./.github/workflows/android-native-build.yml |
|  |  |  |
|  |  | macos: |
|  |  | uses: ./.github/workflows/macos-native-build.yml |
|  |  |  |
|  |  | windows: |
|  |  | uses: ./.github/workflows/windows-native-build.yml |
|  |  |  |
|  |  | windows-no-avx: |
|  |  | uses: ./.github/workflows/windows-noavx-native-build.yml |
|  |  |  |
|  |  | wasm: |
|  |  | uses: ./.github/workflows/wasm-native-build.yml |
|  |  |  |
|  |  | linux: |
|  |  | uses: ./.github/workflows/linux-native-build.yml |
|  |  |  |
|  |  | linux-no-avx: |
|  |  | uses: ./.github/workflows/linux-noavx-native-build.yml |
|  |  |  |
|  |  | windows-cuda: |
|  |  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  |  | uses: ./.github/workflows/windows-cuda-native-build.yml |
|  |  |  |
|  |  | windows-vulkan: |
|  |  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  |  | uses: ./.github/workflows/windows-vulkan-native-build.yml |
|  |  |  |
|  |  | windows-openvino: |
|  |  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  |  | uses: ./.github/workflows/windows-openvino-native-build.yml |
|  |  |  |
|  |  | linux-cuda: |
|  |  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  |  | uses: ./.github/workflows/linux-cuda-native-build.yml |
|  |  |  |
|  |  | linux-openvino: |
|  |  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  |  | uses: ./.github/workflows/linux-openvino-native-build.yml |
|  |  |  |
|  |  | macos-coreml: |
|  |  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  |  | uses: ./.github/workflows/macos-coreml-native-build.yml |
|  |  |  |
|  |  | dotnet-build: |
|  |  | needs: |
|  |  | \- android |
|  |  | \- macos |
|  |  | \- windows |
|  |  | \- wasm |
|  |  | \- linux |
|  |  | uses: ./.github/workflows/dotnet.yml |
|  |  |  |
|  |  | dotnet-maui-build-and-test: |
|  |  | needs: |
|  |  | \- android |
|  |  | \- macos |
|  |  | \- windows |
|  |  | \- wasm |
|  |  | \- linux |
|  |  | uses: ./.github/workflows/dotnet-maui.yml |
|  |  |  |
|  |  | pack-all: |
|  |  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  |  | needs: |
|  |  | \- dotnet-build |
|  |  | \- windows-cuda |
|  |  | \- windows-vulkan |
|  |  | \- windows-openvino |
|  |  | \- linux-cuda |
|  |  | \- linux-openvino |
|  |  | \- macos-coreml |
|  |  | \- linux-no-avx |
|  |  | \- windows-no-avx |
|  |  | uses: ./.github/workflows/pack-all.yml |

94 changes: 94 additions & 0 deletions
94 [.github/workflows/dotnet-maui.yml](#diff-4d98275e9859d48b55ddde14115cda12fcc3f53ae9e1231c6aae2367c7cae937 ".github/workflows/dotnet-maui.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/dotnet-maui.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,94 @@ |
|  |  | # This workflow will build a .NET project |
|  |  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |  |
|  |  | name: Dotnet Maui Build and Test |
|  |  |  |
|  |  | on: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | dotnet-maui-build: |
|  |  | runs-on: macos-14 |
|  |  |  |
|  |  | env: |
|  |  | USE\_WHISPER\_MAUI: "TRUE" |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  |  |
|  |  | \- name: Setup .NET |
|  |  | uses: actions/setup-dotnet@v4 |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
|  |  | uses: actions/download-artifact@v4 |
|  |  | with: |
|  |  | merge-multiple: true |
|  |  | path: runtimes |
|  |  |  |
|  |  | \- name: Install dotnet workloads |
|  |  | run: \| |
|  |  | dotnet workload install maui --ignore-failed-sources |
|  |  | dotnet workload install tvos --ignore-failed-sources |
|  |  |  |
|  |  | \- name: Restore dependencies |
|  |  | run: dotnet restore ./Whisper.net.Maui.Tests.sln |
|  |  |  |
|  |  | \- name: Publish android build |
|  |  | run: dotnet publish ./tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj -c Debug -f net8.0-android -p:EmbedAssembliesIntoApk=true |
|  |  |  |
|  |  | \- name: Upload apk and ios app |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: maui-build-artifacts |
|  |  | path: \| |
|  |  | ./tests/Whisper.net.Maui.Tests/bin/Debug/net8.0-android/com.companyname.whisper.net.maui.tests-Signed.apk |
|  |  |  |
|  |  | dotnet-maui-test-android: |
|  |  | runs-on: ubuntu-latest |
|  |  | needs: dotnet-maui-build |
|  |  |  |
|  |  | env: |
|  |  | USE\_WHISPER\_MAUI: "TRUE" |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  |  |
|  |  | \- name: Setup .NET |
|  |  | uses: actions/setup-dotnet@v4 |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
|  |  | uses: actions/download-artifact@v4 |
|  |  | with: |
|  |  | name: maui-build-artifacts |
|  |  | path: maui-build-artifacts |
|  |  |  |
|  |  | \- name: Enable KVM group perms |
|  |  | run: \| |
|  |  | echo 'KERNEL=="kvm", GROUP="kvm", MODE="0666", OPTIONS+="static\_node=kvm"' \| sudo tee /etc/udev/rules.d/99-kvm4all.rules |
|  |  | sudo udevadm control --reload-rules |
|  |  | sudo udevadm trigger --name-match=kvm |
|  |  |  |
|  |  | \- name: Install xharness |
|  |  | run: dotnet tool install Microsoft.DotNet.XHarness.CLI --global --add-source https://pkgs.dev.azure.com/dnceng/public/\_packaging/dotnet-eng/nuget/v3/index.json --version "10.0.0-\*" |
|  |  |  |
|  |  | \- name: run android tests |
|  |  | uses: reactivecircus/android-emulator-runner@v2 |
|  |  | with: |
|  |  | api-level: 29 |
|  |  | script: xharness android test --app=./maui-build-artifacts/com.companyname.whisper.net.maui.tests-Signed.apk -p com.companyname.whisper.net.maui.tests -i com.companyname.whisper.net.maui.tests.AndroidMauiTestInstrumentation -o=./test-results/android |
|  |  |  |
|  |  | \- name: Upload Maui Android xharness test results |
|  |  | if: ${{ always() }} |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: xharness-android-test-results |
|  |  | path: \| |
|  |  | ./test-results/\* |

129 changes: 91 additions & 38 deletions
129 [.github/workflows/dotnet.yml](#diff-d5a2cea578a0446aad66faf31bf1076ae94c9916b1a3374e342272a6300e8344 ".github/workflows/dotnet.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/dotnet.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,45 +1,98 @@ |
|  |  | # This workflow will build a .NET project |
|  |  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |  |
|  |  | name: CI |
|  |  | name: Dotnet Build and Test |
|  |  |  |
|  |  | on: |
|  |  | push: |
|  |  | branches: \[ "main" \] |
|  |  | #pull\_request: |
|  |  | # branches: \[ "main" \] |
|  |  |  |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | runs-on: ${{ matrix.os }} |
|  |  | strategy: |
|  |  | matrix: |
|  |  | os: \[ubuntu-latest, windows-latest\] |
|  |  |  |
|  |  | dotnet-macos: |
|  |  | runs-on: macos-14 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v3 |
|  |  | \- name: Setup .NET |
|  |  | uses: actions/setup-dotnet@v3 |
|  |  | with: |
|  |  | dotnet-version: 7.0.x |
|  |  | \- name: Install Java |
|  |  | if: runner.os == 'Windows' |
|  |  | uses: actions/setup-java@v2 |
|  |  | with: |
|  |  | distribution: 'microsoft' |
|  |  | java-version: '11' |
|  |  | \- name: Install .NET Workloads |
|  |  | if: runner.os == 'Windows' |
|  |  | run: \| |
|  |  | dotnet workload install android --ignore-failed-sources |
|  |  | dotnet workload install ios --ignore-failed-sources |
|  |  | dotnet workload install tvos --ignore-failed-sources |
|  |  | dotnet workload install maccatalyst --ignore-failed-sources |
|  |  | \- name: Restore dependencies |
|  |  | run: dotnet restore ./Whisper.net.sln |
|  |  | \- name: Build |
|  |  | run: dotnet build ./Whisper.net.sln --no-restore -warnaserror |
|  |  | \- name: Test |
|  |  | run: \| |
|  |  | dotnet test ./Whisper.net.sln --no-build |
|  |  | \- uses: actions/checkout@v4 |
|  |  |  |
|  |  | \- name: Setup .NET |
|  |  | uses: actions/setup-dotnet@v4 |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  | 6.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
|  |  | uses: actions/download-artifact@v4 |
|  |  | with: |
|  |  | merge-multiple: true |
|  |  | path: runtimes |
|  |  |  |
|  |  | \- name: Restore dependencies |
|  |  | run: dotnet restore ./Whisper.net.sln |
|  |  |  |
|  |  | \- name: Build |
|  |  | run: dotnet build ./Whisper.net.sln --no-restore -warnaserror |
|  |  |  |
|  |  | \- name: Test |
|  |  | run: \| |
|  |  | dotnet test ./Whisper.net.sln --no-build |
|  |  |  |
|  |  | dotnet-windows: |
|  |  | runs-on: windows-latest |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  |  |
|  |  | \- name: Setup .NET |
|  |  | uses: actions/setup-dotnet@v4 |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  | 6.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
|  |  | uses: actions/download-artifact@v4 |
|  |  | with: |
|  |  | merge-multiple: true |
|  |  | path: runtimes |
|  |  |  |
|  |  | \- name: Restore dependencies |
|  |  | run: dotnet restore ./Whisper.net.sln |
|  |  |  |
|  |  | \- name: Build |
|  |  | run: dotnet build ./Whisper.net.sln --no-restore -warnaserror |
|  |  |  |
|  |  | \- name: Test |
|  |  | run: \| |
|  |  | dotnet test ./Whisper.net.sln --no-build |
|  |  |  |
|  |  | dotnet-linux: |
|  |  | runs-on: ubuntu-latest |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  |  |
|  |  | \- name: Setup .NET |
|  |  | uses: actions/setup-dotnet@v4 |
|  |  | with: |
|  |  | dotnet-version: \| |
|  |  | 8.0.x |
|  |  | 6.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
|  |  | uses: actions/download-artifact@v4 |
|  |  | with: |
|  |  | merge-multiple: true |
|  |  | path: runtimes |
|  |  |  |
|  |  | \- name: Restore dependencies |
|  |  | run: dotnet restore ./Whisper.net.sln |
|  |  |  |
|  |  | \- name: Build |
|  |  | run: dotnet build ./Whisper.net.sln --no-restore -warnaserror |
|  |  |  |
|  |  | \- name: Test |
|  |  | run: \| |
|  |  | dotnet test ./Whisper.net.sln --no-build |

39 changes: 39 additions & 0 deletions
39 [.github/workflows/linux-cuda-native-build.yml](#diff-806eb5f299163331e69009ca7fa8294c10f5e6751a0ae13095de7031da716d94 ".github/workflows/linux-cuda-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/linux-cuda-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,39 @@ |
|  |  | name: Linux Cuda Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | native-build: |
|  |  | runs-on: ubuntu-20.04 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Install aarch64-linux-gnu-gcc |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-aarch64-linux-gnu && sudo apt-get install -y g++-aarch64-linux-gnu |
|  |  |  |
|  |  | \- name: Install gcc-arm-linux-gnueabihf |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-arm-linux-gnueabihf && sudo apt-get install -y g++-arm-linux-gnueabihf |
|  |  |  |
|  |  | \- name: Install CUDA Toolkit |
|  |  | uses: Jimver/cuda-toolkit@v0.2.18 |
|  |  | with: |
|  |  | cuda: "12.1.0" |
|  |  |  |
|  |  | \- name: Run linux |
|  |  | run: make linux\_cuda |
|  |  |  |
|  |  | \- name: Remove CUDA installer |
|  |  | run: rm -rf cuda\_installer-\* |
|  |  |  |
|  |  | \- name: Upload Linux Cuda Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: linux-cuda-build |
|  |  | path: "runtimes/Whisper.net.Run\*/linux-\*/\*" |
|  |  | retention-days: 7 |

52 changes: 21 additions & 31 deletions
52 [.github/workflows/linux-native-build.yml](#diff-ef61418a98b733b21bf6a3c776c31846efb7c4b0da4ce216e912d187135b8b2b ".github/workflows/linux-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/linux-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-ef61418a98b733b21bf6a3c776c31846efb7c4b0da4ce216e912d187135b8b2b) Expand Up | @@ -2,40 +2,30 @@ name: Linux Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  |  |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | native-build: |
|  |  | runs-on: ubuntu-20.04 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Install aarch64-linux-gnu-gcc |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-aarch64-linux-gnu && sudo apt-get install -y g++-aarch64-linux-gnu |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Install aarch64-linux-gnu-gcc |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-aarch64-linux-gnu && sudo apt-get install -y g++-aarch64-linux-gnu |
|  |  |  |
|  |  | \- name: Install gcc-arm-linux-gnueabihf |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-arm-linux-gnueabihf && sudo apt-get install -y g++-arm-linux-gnueabihf |
|  |  |  |
|  |  | \- name: Run linux |
|  |  | run: make linux |
|  |  |  |
|  |  | \- name: Install gcc-arm-linux-gnueabihf |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-arm-linux-gnueabihf && sudo apt-get install -y g++-arm-linux-gnueabihf |
|  |  |  |
|  |  | \- name: Install CUDA Toolkit |
|  |  | uses: Jimver/cuda-toolkit@v0.2.11 |
|  |  | with: |
|  |  | cuda: '12.1.0' |
|  |  |  |
|  |  | \- name: Run linux |
|  |  | run: make linux |
|  |  |  |
|  |  | \- name: Remove CUDA installer |
|  |  | run: rm -rf cuda\_installer-\* |
|  |  |  |
|  |  | \- name: Upload Linux Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | with: |
|  |  | name: linux-build |
|  |  | path: 'Whisper.net.Run\*/linux-\*/\*' |
|  |  | \- name: Upload Linux Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: linux-build |
|  |  | path: "runtimes/Whisper.net.Run\*/linux-\*/\*" |
|  |  | retention-days: 7 |

31 changes: 31 additions & 0 deletions
31 [.github/workflows/linux-noavx-native-build.yml](#diff-a9f02cdab4dc1f818c1b78b740e35841b51e007bc3986fed0fc9cf422decd7fb ".github/workflows/linux-noavx-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/linux-noavx-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,31 @@ |
|  |  | name: Linux Native build Without AVX |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | native-build: |
|  |  | runs-on: ubuntu-20.04 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Install aarch64-linux-gnu-gcc |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-aarch64-linux-gnu && sudo apt-get install -y g++-aarch64-linux-gnu |
|  |  |  |
|  |  | \- name: Install gcc-arm-linux-gnueabihf |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-arm-linux-gnueabihf && sudo apt-get install -y g++-arm-linux-gnueabihf |
|  |  |  |
|  |  | \- name: Run linux\_noavx |
|  |  | run: make linux\_noavx |
|  |  |  |
|  |  | \- name: Upload Linux Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: linux-noavx-build |
|  |  | path: "runtimes/Whisper.net.Run\*/linux-\*/\*" |
|  |  | retention-days: 7 |

37 changes: 0 additions & 37 deletions
37 [.github/workflows/linux-openvino-build.yml](#diff-d82126e06c27dbbd0fa780691b85ebc83f7800ea238cd9ca443b93ea9cdba266 ".github/workflows/linux-openvino-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/.github/workflows/linux-openvino-build.yml)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

36 changes: 36 additions & 0 deletions
36 [.github/workflows/linux-openvino-native-build.yml](#diff-624ff2d9f45aac75f9582d295480f7cf9001f0d4648256d1503e7ec11c794d7b ".github/workflows/linux-openvino-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/linux-openvino-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,36 @@ |
|  |  | name: Linux OpenVino native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | native-build: |
|  |  | runs-on: ubuntu-20.04 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Install aarch64-linux-gnu-gcc |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-aarch64-linux-gnu && sudo apt-get install -y g++-aarch64-linux-gnu |
|  |  |  |
|  |  | \- name: Install gcc-arm-linux-gnueabihf |
|  |  | run: sudo apt-get update && sudo apt-get install -y gcc-arm-linux-gnueabihf && sudo apt-get install -y g++-arm-linux-gnueabihf |
|  |  |  |
|  |  | \- name: Run linux |
|  |  | run: \| |
|  |  | wget https://storage.openvinotoolkit.org/repositories/openvino/packages/2024.4/linux/l\_openvino\_toolkit\_ubuntu20\_2024.4.0.16579.c3152d32c9c\_x86\_64.tgz -O openvino.tgz |
|  |  | mkdir openvino |
|  |  | tar -xvf openvino.tgz -C openvino |
|  |  | source openvino/l\_openvino\_toolkit\_ubuntu20\_2024.4.0.16579.c3152d32c9c\_x86\_64/setupvars.sh |
|  |  | make linux\_x64\_openvino |
|  |  |  |
|  |  | \- name: Upload Linux OpenVino Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: linux-openvino-build |
|  |  | path: "runtimes/Whisper.net.Run\*/linux-\*/\*" |
|  |  | retention-days: 7 |

48 changes: 48 additions & 0 deletions
48 [.github/workflows/macos-coreml-native-build.yml](#diff-15f73058461ce9c084eedef1152dd749abdad95e9d425542384835389d1edc26 ".github/workflows/macos-coreml-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/macos-coreml-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,48 @@ |
|  |  | name: MacOs CoreML Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | intel-native-build: |
|  |  | runs-on: macos-13 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Run apple coreml build for x64 |
|  |  | run: make apple\_coreml\_x64 |
|  |  |  |
|  |  | \- name: Upload Mac Intel Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: mac-intel-build |
|  |  | path: \| |
|  |  | runtimes/Whisper.net.Run\*/\*/\* |
|  |  | runtimes/Whisper.net.Run\*/\*.metal |
|  |  | retention-days: 7 |
|  |  |  |
|  |  | arm-native-build: |
|  |  | runs-on: macos-14 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Run apple coreml build for arm |
|  |  | run: make apple\_coreml\_arm |
|  |  |  |
|  |  | \- name: Upload CoreML Mac Arm Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: mac-coreml-arm-build |
|  |  | path: \| |
|  |  | runtimes/Whisper.net.Run\*/\*/\* |
|  |  | runtimes/Whisper.net.Run\*/\*.metal |
|  |  | retention-days: 7 |

58 changes: 0 additions & 58 deletions
58 [.github/workflows/macos-native-build.yaml](#diff-9e267e70b34f9eb991e1158d3f7ba6530818b7c9c850d4799c3b5ce872c164b6 ".github/workflows/macos-native-build.yaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/.github/workflows/macos-native-build.yaml)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

48 changes: 48 additions & 0 deletions
48 [.github/workflows/macos-native-build.yml](#diff-4f01b867b7c03c88338699557c1a6b190ad28bfd1c801de2180829fc5dfb103d ".github/workflows/macos-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/macos-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,48 @@ |
|  |  | name: MacOs Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | intel-native-build: |
|  |  | runs-on: macos-13 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Run apple build for x64 |
|  |  | run: make apple\_x64 |
|  |  |  |
|  |  | \- name: Upload Mac Intel Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: mac-intel-build |
|  |  | path: \| |
|  |  | runtimes/Whisper.net.Run\*/\*/\* |
|  |  | runtimes/Whisper.net.Run\*/\*.metal |
|  |  | retention-days: 7 |
|  |  |  |
|  |  | arm-native-build: |
|  |  | runs-on: macos-14 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Run apple build for arm |
|  |  | run: make apple\_arm |
|  |  |  |
|  |  | \- name: Upload Mac Arm Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: mac-arm-build |
|  |  | path: \| |
|  |  | runtimes/Whisper.net.Run\*/\*/\* |
|  |  | runtimes/Whisper.net.Run\*/\*.metal |
|  |  | retention-days: 7 |

61 changes: 61 additions & 0 deletions
61 [.github/workflows/pack-all.yml](#diff-5c5c7f5d8cf99d2f571ec8c679f6bc9b74120764b9a17195996af9a450015a0a ".github/workflows/pack-all.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/pack-all.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,61 @@ |
|  |  | # This workflow will pack all the nuget packages |
|  |  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |  |
|  |  | name: Pack All |
|  |  |  |
|  |  | on: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | pack-nupkgs: |
|  |  | runs-on: windows-latest |
|  |  | env: |
|  |  | USE\_WHISPER\_MAUI: "TRUE" |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  |  |
|  |  | \- name: Setup .NET |
|  |  | uses: actions/setup-dotnet@v4 |
|  |  | with: |
|  |  | dotnet-version: 8.0.x |
|  |  |  |
|  |  | \- name: Download Artifacts |
|  |  | id: download-artifact |
|  |  | uses: actions/download-artifact@v4 |
|  |  | with: |
|  |  | merge-multiple: true |
|  |  | path: runtimes |
|  |  |  |
|  |  | \- name: Install Java |
|  |  | uses: actions/setup-java@v2 |
|  |  | with: |
|  |  | distribution: "microsoft" |
|  |  | java-version: "11" |
|  |  |  |
|  |  | \- name: Install .NET Workloads |
|  |  | run: \| |
|  |  | dotnet workload install android --ignore-failed-sources |
|  |  | dotnet workload install ios --ignore-failed-sources |
|  |  | dotnet workload install tvos --ignore-failed-sources |
|  |  | dotnet workload install maccatalyst --ignore-failed-sources |
|  |  |  |
|  |  | \- name: Restore dependencies |
|  |  | run: dotnet restore ./Whisper.net.sln |
|  |  |  |
|  |  | \- name: Pack all |
|  |  | run: \| |
|  |  | $xml = \[Xml\] (Get-Content .\\Whisper.net\\Whisper.net.csproj) |
|  |  | $versionObject = $xml.Project.PropertyGroup.Version |
|  |  | $version = "$versionObject".Trim() |
|  |  | $runNumber = ${{ github.run\_number }} |
|  |  | $previewVersion = "$version-preview$runNumber" |
|  |  | Import-Module ./windows-scripts.ps1 |
|  |  | PackAll -Version $previewVersion |
|  |  | shell: pwsh |
|  |  |  |
|  |  | \- name: Publish nupkgs |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: nupkgs |
|  |  | path: \| |
|  |  | nupkgs/\*.nupkg |

33 changes: 0 additions & 33 deletions
33 [.github/workflows/wasm-native-build.yaml](#diff-394af40cc2905a64bb796320277ba589fbe33228f1a5502ff0c9f7454ea04b85 ".github/workflows/wasm-native-build.yaml")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/.github/workflows/wasm-native-build.yaml)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

31 changes: 31 additions & 0 deletions
31 [.github/workflows/wasm-native-build.yml](#diff-d01b23b0c0c84a821693b11dafd88d0a4ccf2e4d1bd669eef6aaccd0c13fe557 ".github/workflows/wasm-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/wasm-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,31 @@ |
|  |  | name: Wasm Native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | native-build: |
|  |  | runs-on: ubuntu-20.04 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Install Emscripten |
|  |  | uses: mymindstorm/setup-emsdk@v13 |
|  |  |  |
|  |  | \- name: Run wasm build |
|  |  | run: make wasm |
|  |  |  |
|  |  | \- name: Remove Emscripten |
|  |  | run: rm -rf emsdk\* |
|  |  |  |
|  |  | \- name: Upload Wasm Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: wasm-build |
|  |  | path: "runtimes/Whisper.net.Run\*/browser-wasm/\*" |
|  |  | retention-days: 7 |

33 changes: 0 additions & 33 deletions
33 [.github/workflows/windows-arm-native-build.yml](#diff-aaf8c7a56d607a54d7c72809737113471b2b296d3f2cc913b6e8f7a010269bec ".github/workflows/windows-arm-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/.github/workflows/windows-arm-native-build.yml)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

44 changes: 44 additions & 0 deletions
44 [.github/workflows/windows-cuda-native-build.yml](#diff-40b59b559cd5437bc002d04c49d9d2ce143a2f8dfcfb2544c75f26a24bfce9cd ".github/workflows/windows-cuda-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/windows-cuda-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,44 @@ |
|  |  | name: Windows Cuda native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | native-build: |
|  |  | runs-on: windows-2019 |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  |  |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Add msbuild to PATH |
|  |  | uses: microsoft/setup-msbuild@v2 |
|  |  |  |
|  |  | \- name: Install OpenCl with vcpkg |
|  |  | run: \| |
|  |  | vcpkg --triplet=x64-windows install opencl |
|  |  |  |
|  |  | \- name: Install CUDA Toolkit |
|  |  | uses: Jimver/cuda-toolkit@v0.2.18 |
|  |  | with: |
|  |  | cuda: "12.1.0" |
|  |  |  |
|  |  | \- name: Run Build |
|  |  | run: \| |
|  |  | Import-Module ./windows-scripts.ps1 |
|  |  | BuildWindows -Arch "x64" -Cuda $true -Configuration "Release"; |
|  |  | shell: pwsh |
|  |  |  |
|  |  | \- name: Remove CUDA installer |
|  |  | run: Remove-Item -Path 'cuda\_installer-\*' -Recurse -Force -ErrorAction Ignore |
|  |  |  |
|  |  | \- name: Upload Windows Cuda Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: windows-cuda-build |
|  |  | path: "runtimes/Whisper.net.Run\*/win-\*/\*" |
|  |  | retention-days: 7 |

55 changes: 33 additions & 22 deletions
55 [.github/workflows/windows-native-build.yml](#diff-73fa3ce30928d43579a956dac0964a30739bcb6adffe8d6c9dacaca44da10d1b ".github/workflows/windows-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/windows-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-73fa3ce30928d43579a956dac0964a30739bcb6adffe8d6c9dacaca44da10d1b) Expand Up | @@ -2,45 +2,56 @@ name: Windows native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  |  |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | intel-native-build: |
|  |  | runs-on: windows-2019 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  |  |
|  |  |  |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  |  |
|  |  | \- name: Add msbuild to PATH |
|  |  | uses: microsoft/setup-msbuild@v1 |
|  |  |  |
|  |  | \- name: Install OpenCl with vcpkg |
|  |  | uses: microsoft/setup-msbuild@v2 |
|  |  |  |
|  |  | \- name: Run Build |
|  |  | run: \| |
|  |  | vcpkg --triplet=x64-windows install opencl |
|  |  | Import-Module ./windows-scripts.ps1 |
|  |  | BuildWindowsIntel |
|  |  | shell: pwsh |
|  |  |  |
|  |  | \- name: Upload Windows Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: windows-build |
|  |  | path: "runtimes/Whisper.net.Run\*/win-\*/\*" |
|  |  | retention-days: 7 |
|  |  |  |
|  |  | arm-native-build: |
|  |  | runs-on: windows-latest |
|  |  |  |
|  |  | \- name: Install CUDA Toolkit |
|  |  | uses: Jimver/cuda-toolkit@v0.2.11 |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | cuda: '12.1.0' |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Add msbuild to PATH |
|  |  | uses: microsoft/setup-msbuild@v2 |
|  |  |  |
|  |  | \- name: Run Build |
|  |  | run: \| |
|  |  | run: \| |
|  |  | Import-Module ./windows-scripts.ps1 |
|  |  | BuildWindowsIntel |
|  |  | BuildWindowsArm |
|  |  | shell: pwsh |
|  |  |  |
|  |  | \- name: Remove CUDA installer |
|  |  | run: Remove-Item -Path 'cuda\_installer-\*' -Recurse -Force -ErrorAction Ignore |
|  |  |  |
|  |  | \- name: Upload Windows Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: windows-build |
|  |  | path: 'Whisper.net.Run\*/win-\*/\*' |
|  |  | name: windows-arm-build |
|  |  | path: "runtimes/Whisper.net.Run\*/win-\*/\*" |
|  |  | retention-days: 7 |

33 changes: 33 additions & 0 deletions
33 [.github/workflows/windows-noavx-native-build.yml](#diff-cce4999b7e06bde53b9ad25e710cc2439ea3ad51cf2a5c958ab9e9ec1a82785b ".github/workflows/windows-noavx-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/windows-noavx-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,33 @@ |
|  |  | name: Windows native build Without AVX |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | native-build: |
|  |  | runs-on: windows-latest |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  | \- name: Add msbuild to PATH |
|  |  | uses: microsoft/setup-msbuild@v2 |
|  |  |  |
|  |  | \- name: Run Build |
|  |  | run: \| |
|  |  | Import-Module ./windows-scripts.ps1 |
|  |  | BuildWindows -Arch "x64" -Configuration "Release" -NoAvx $true |
|  |  | BuildWindows -Arch "x86" -Configuration "Release" -NoAvx $true |
|  |  | BuildWindows -Arch "arm64" -Configuration "Release" -NoAvx $true |
|  |  | shell: pwsh |
|  |  |  |
|  |  | \- name: Upload Windows NoAvx Build Artifacts |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: windows-noavx-build |
|  |  | path: "runtimes/Whisper.net.Run\*/win-\*/\*" |
|  |  | retention-days: 7 |

27 changes: 13 additions & 14 deletions
27 [.github/workflows/windows-openvino-build.yml → ...rkflows/windows-openvino-native-build.yml](#diff-9882a38f8dde2c583c42dab70ff3d11947c6284e203336c9c9a4384eb29bc468 ".github/workflows/windows-openvino-build.yml → .github/workflows/windows-openvino-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/windows-openvino-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,35 +1,34 @@ |
|  |  | name: Windows OpenVino native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | native-build: |
|  |  | runs-on: windows-2022 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  |  |
|  |  | \- name: Add msbuild to PATH |
|  |  | uses: microsoft/setup-msbuild@v1 |
|  |  |  |
|  |  | uses: microsoft/setup-msbuild@v2 |
|  |  |  |
|  |  | \- name: Run Build |
|  |  | run: \| |
|  |  | run: \| |
|  |  | Invoke-WebRequest -Uri https://storage.openvinotoolkit.org/repositories/openvino/packages/2024.4.1/windows/w\_openvino\_toolkit\_windows\_2024.4.1.16618.643f23d1318\_x86\_64.zip -OutFile openvino.zip |
|  |  | Expand-Archive -Path openvino.zip -DestinationPath openvino |
|  |  | .\\openvino\\w\_openvino\_toolkit\_windows\_2024.4.1.16618.643f23d1318\_x86\_64\\setupvars.ps1 |
|  |  | Import-Module ./windows-scripts.ps1 |
|  |  | BuildWindowsBase -Arch "x64" -Configuration "Release" -OpenVino $true |
|  |  | BuildWindows -Arch "x64" -Configuration "Release" -OpenVino $true |
|  |  | shell: pwsh |
|  |  |  |
|  |  |  |
|  |  | \- name: Upload Windows OpenVino Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: windows-openvino-build |
|  |  | path: 'Whisper.net.Run\*/win-\*/\*' |
|  |  | path: "runtimes/Whisper.net.Run\*/win-\*/\*" |
|  |  | retention-days: 7 |

23 changes: 11 additions & 12 deletions
23 [.github/workflows/windows-vulkan-build.yml → ...workflows/windows-vulkan-native-build.yml](#diff-6194f78795a458ff8f2c8e321bfb3a24217f240896cc244b7c3a581691247caf ".github/workflows/windows-vulkan-build.yml → .github/workflows/windows-vulkan-native-build.yml")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.github/workflows/windows-vulkan-native-build.yml)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,23 +1,21 @@ |
|  |  | name: Windows Vulkan native build |
|  |  |  |
|  |  | on: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_dispatch: |
|  |  | workflow\_call: |
|  |  |  |
|  |  | jobs: |
|  |  | build: |
|  |  |  |
|  |  | native-build: |
|  |  | runs-on: windows-2022 |
|  |  | permissions: |
|  |  | contents: write |
|  |  |  |
|  |  | steps: |
|  |  | \- uses: actions/checkout@v4 |
|  |  | with: |
|  |  | submodules: true |
|  |  | ref: ${{ github.head\_ref }} |
|  |  |  |
|  |  |  |
|  |  | \- name: Add msbuild to PATH |
|  |  | uses: microsoft/setup-msbuild@v1 |
|  |  | uses: microsoft/setup-msbuild@v2 |
|  |  |  |
|  |  | \- name: Install Vulkan SDK |
|  |  | uses: jakoch/install-vulkan-sdk-action@v1.0.4 |
| [Expand All](#diff-6194f78795a458ff8f2c8e321bfb3a24217f240896cc244b7c3a581691247caf) Expand All | @@ -29,13 +27,14 @@ jobs: |
|  |  | stripdown: true |
|  |  |  |
|  |  | \- name: Run Build |
|  |  | run: \| |
|  |  | run: \| |
|  |  | Import-Module ./windows-scripts.ps1 |
|  |  | BuildWindowsBase -Arch "x64" -Configuration "Release" -Vulkan $true |
|  |  | BuildWindows -Arch "x64" -Configuration "Release" -Vulkan $true |
|  |  | shell: pwsh |
|  |  |  |
|  |  |  |
|  |  | \- name: Upload Windows Vulkan Build Artifacts |
|  |  | uses: actions/upload-artifact@v3 |
|  |  | uses: actions/upload-artifact@v4 |
|  |  | with: |
|  |  | name: windows-vulkan-build |
|  |  | path: 'Whisper.net.Run\*/win-\*/\*' |
|  |  | path: "runtimes/Whisper.net.Run\*/win-\*/\*" |
|  |  | retention-days: 7 |

21 changes: 12 additions & 9 deletions
21 [.gitignore](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947 ".gitignore")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/.gitignore)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947) Expand Up | @@ -356,17 +356,20 @@ MigrationBackup/ |
|  |  | /src/build |
|  |  | /build |
|  |  | /nupkgs |
|  |  | /Whisper.net.Runtime/\* |
|  |  | !/Whisper.net.Runtime/Whisper.net.Runtime.targets |
|  |  | /runtimes/Whisper.net.Runtime/\* |
|  |  | !/runtimes/Whisper.net.Runtime/Whisper.net.Runtime.targets |
|  |  |  |
|  |  | /Whisper.net.Runtime.Cuda.\*/\* |
|  |  | !/Whisper.net.Runtime.Cuda.\*/Whisper.net.Runtime.Cuda.\*.targets |
|  |  | /runtimes/Whisper.net.Runtime.Cuda.\*/\* |
|  |  | !/runtimes/Whisper.net.Runtime.Cuda.\*/Whisper.net.Runtime.Cuda.\*.targets |
|  |  |  |
|  |  | /Whisper.net.Runtime.Vulkan/\* |
|  |  | /runtimes/Whisper.net.Runtime.Vulkan/\* |
|  |  | !/Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets |
|  |  |  |
|  |  | /Whisper.net.Runtime.CoreML/\* |
|  |  | !/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets |
|  |  | /runtimes/Whisper.net.Runtime.CoreML/\* |
|  |  | !/runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets |
|  |  |  |
|  |  | /Whisper.net.Runtime.OpenVino/\* |
|  |  | !/Whisper.net.Runtime.OpenVino/Whisper.net.Runtime.OpenVino.targets |
|  |  | /runtimes/Whisper.net.Runtime.OpenVino/\* |
|  |  | !/runtimes/Whisper.net.Runtime.OpenVino/Whisper.net.Runtime.OpenVino.targets |
|  |  |  |
|  |  | /runtimes/Whisper.net.Runtime.NoAvx/\* |
|  |  | !/runtimes/Whisper.net.Runtime.NoAvx/Whisper.net.Runtime.NoAvx.targets |

20 changes: 14 additions & 6 deletions
20 [Directory.Packages.props](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156 "Directory.Packages.props")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Directory.Packages.props)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-5baf5f9e448ad54ab25a091adee0da05d4d228481c9200518fcb1b53a65d4156) Expand Up | @@ -7,11 +7,19 @@ |
|  |  | <PackageVersionInclude="System.IO.Compression"Version="4.3.0" /> |
|  |  | <PackageVersionInclude="System.Net.Http"Version="4.3.4" /> |
|  |  | <PackageVersionInclude="FluentAssertions"Version="6.12.1" /> |
|  |  | <PackageVersionInclude="Microsoft.NET.Test.Sdk"Version="17.11.1" /> |
|  |  | <PackageVersionInclude="NUnit"Version="4.2.2" /> |
|  |  | <PackageVersionInclude="NUnit3TestAdapter"Version="4.6.0" /> |
|  |  | <PackageVersionInclude="NUnit.Analyzers"Version="4.3.0" /> |
|  |  | <PackageVersionInclude="coverlet.collector"Version="6.0.2" /> |
|  |  | <PackageVersionInclude="CommandLineParser"Version="2.9.1" /> |
|  |  |  |
|  |  |  |
|  |  | <!-- Tests --> |
|  |  | <PackageVersionInclude="coverlet.collector"Version="6.0.2" /> |
|  |  | <PackageVersionInclude="Microsoft.NET.Test.Sdk"Version="17.11.1" /> |
|  |  | <PackageVersionInclude="xunit"Version="2.9.2" /> |
|  |  | <PackageVersionInclude="xunit.runner.visualstudio"Version="2.8.2" /> |
|  |  |  |
|  |  | <PackageVersionInclude="Microsoft.DotNet.XHarness.TestRunners.Xunit"Version="10.0.0-prerelease.24511.1" /> |
|  |  | <PackageVersionInclude="xunit.assert"Version="2.9.2" /> |
|  |  | <PackageVersionInclude="Microsoft.Extensions.Logging.Debug"Version="8.0.0" /> |
|  |  | <PackageVersionInclude="Microsoft.Maui.Controls"Version="$(MauiVersion)" /> |
|  |  | <PackageVersionInclude="Microsoft.Maui.Controls.Compatibility"Version="$(MauiVersion)" /> |
|  |  | </ItemGroup> |
|  |  | </Project> |
|  |  | </Project> |

219 changes: 122 additions & 97 deletions
219 [Makefile](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52 "Makefile")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Makefile)
Edit file

Delete file


Load diff

Large diffs are not rendered by default.


Oops, something went wrong.
Retry

4 changes: 2 additions & 2 deletions
4 [Whisper.net.Demo/Whisper.net.Demo.csproj](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a "Whisper.net.Demo/Whisper.net.Demo.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net.Demo/Whisper.net.Demo.csproj)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | <ProjectSdk="Microsoft.NET.Sdk"> |
|  |  | <ImportCondition="'$(EnableCoreML)' != 'true'"Project="../Whisper.net.Runtime/Whisper.net.Runtime.targets" /> |
|  |  | <ImportCondition="'$(EnableCoreML)' == 'true'"Project="../Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets" /> |
|  |  | <ImportCondition="'$(EnableCoreML)' != 'true'"Project="../runtimes/Whisper.net.Runtime/Whisper.net.Runtime.targets" /> |
|  |  | <ImportCondition="'$(EnableCoreML)' == 'true'"Project="../runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets" /> |
|  |  | <PropertyGroup> |
|  |  | <OutputType>Exe</OutputType> |
|  |  | <TargetFrameworks>net8.0</TargetFrameworks> |
| [Expand Down](#diff-d176e55491f7568e31a2af4f6b1c9dde3d47746ab7881391a681c400a1cdf33a) Expand Down |  |

206 changes: 206 additions & 0 deletions
206 [Whisper.net.Maui.Tests.sln](#diff-d1089e5f5775c65b6fdf80e8d56b55df637e1180d30868a7099f6b9fd3857a28 "Whisper.net.Maui.Tests.sln")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net.Maui.Tests.sln)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,206 @@ |
|  |  |  |
|  |  | Microsoft Visual Studio Solution File, Format Version 12.00 |
|  |  | \# Visual Studio Version 17 |
|  |  | VisualStudioVersion =17.5.33318.248 |
|  |  | MinimumVisualStudioVersion =10.0.40219.1 |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Demo", "Whisper.net.Demo\\Whisper.net.Demo.csproj", "{C1C29732-1BC2-477D-A116-C5003E1D0C85}" |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Solution Items", "Solution Items", "{2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | .editorconfig = .editorconfig |
|  |  | .gitignore = .gitignore |
|  |  | Directory.Packages.props = Directory.Packages.props |
|  |  | nuget.config = nuget.config |
|  |  | readme.md = readme.md |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net", "Whisper.net\\Whisper.net.csproj", "{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}" |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "github", "github", "{5C865649-4AED-4BBF-A7CA-BD68D21EF48F}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | .github\workflows\android-native-build.yml = .github\workflows\android-native-build.yml |
|  |  | .github\workflows\build-all.yml = .github\workflows\build-all.yml |
|  |  | .github\workflows\dotnet-maui.yml = .github\workflows\dotnet-maui.yml |
|  |  | .github\workflows\dotnet.yml = .github\workflows\dotnet.yml |
|  |  | .github\workflows\linux-cuda-native-build.yml = .github\workflows\linux-cuda-native-build.yml |
|  |  | .github\workflows\linux-native-build.yml = .github\workflows\linux-native-build.yml |
|  |  | .github\workflows\linux-noavx-native-build.yml = .github\workflows\linux-noavx-native-build.yml |
|  |  | .github\workflows\linux-openvino-native-build.yml = .github\workflows\linux-openvino-native-build.yml |
|  |  | .github\workflows\macos-coreml-native-build.yml = .github\workflows\macos-coreml-native-build.yml |
|  |  | .github\workflows\macos-native-build.yml = .github\workflows\macos-native-build.yml |
|  |  | .github\workflows\pack-all.yml = .github\workflows\pack-all.yml |
|  |  | .github\workflows\wasm-native-build.yml = .github\workflows\wasm-native-build.yml |
|  |  | .github\workflows\windows-cuda-native-build.yml = .github\workflows\windows-cuda-native-build.yml |
|  |  | .github\workflows\windows-native-build.yml = .github\workflows\windows-native-build.yml |
|  |  | .github\workflows\windows-noavx-native-build.yml = .github\workflows\windows-noavx-native-build.yml |
|  |  | .github\workflows\windows-openvino-native-build.yml = .github\workflows\windows-openvino-native-build.yml |
|  |  | .github\workflows\windows-vulkan-native-build.yml = .github\workflows\windows-vulkan-native-build.yml |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "scripts", "scripts", "{52C6C243-3BD7-41CF-A0B0-1DE31AC2C884}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | Makefile =Makefile |
|  |  | windows-scripts.ps1 = windows-scripts.ps1 |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "runtimes", "runtimes", "{CC45AC94-3CD7-45D8-A847-2D9C06E1806A}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | runtimes\Whisper.net.AllRuntimes.nuspec = runtimes\Whisper.net.AllRuntimes.nuspec |
|  |  | runtimes\Whisper.net.Runtime.CoreML.nuspec = runtimes\Whisper.net.Runtime.CoreML.nuspec |
|  |  | runtimes\Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets = runtimes\Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets |
|  |  | runtimes\Whisper.net.Runtime.Cuda.Linux.nuspec = runtimes\Whisper.net.Runtime.Cuda.Linux.nuspec |
|  |  | runtimes\Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets = runtimes\Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets |
|  |  | runtimes\Whisper.net.Runtime.Cuda.nuspec = runtimes\Whisper.net.Runtime.Cuda.nuspec |
|  |  | runtimes\Whisper.net.Runtime.Cuda.Windows.nuspec = runtimes\Whisper.net.Runtime.Cuda.Windows.nuspec |
|  |  | runtimes\Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets = runtimes\Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets |
|  |  | runtimes\Whisper.net.Runtime.NoAvx.nuspec = runtimes\Whisper.net.Runtime.NoAvx.nuspec |
|  |  | runtimes\Whisper.net.Runtime.NoAvx\Whisper.net.Runtime.NoAvx.targets = runtimes\Whisper.net.Runtime.NoAvx\Whisper.net.Runtime.NoAvx.targets |
|  |  | runtimes\Whisper.net.Runtime.nuspec = runtimes\Whisper.net.Runtime.nuspec |
|  |  | runtimes\Whisper.net.Runtime.OpenVino.nuspec = runtimes\Whisper.net.Runtime.OpenVino.nuspec |
|  |  | runtimes\Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets = runtimes\Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets |
|  |  | runtimes\Whisper.net.Runtime\Whisper.net.Runtime.targets = runtimes\Whisper.net.Runtime\Whisper.net.Runtime.targets |
|  |  | runtimes\Whisper.net.Runtime.Vulkan.nuspec = runtimes\Whisper.net.Runtime.Vulkan.nuspec |
|  |  | runtimes\Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets = runtimes\Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "Whisper.net.Maui.Tests", "tests\\Whisper.net.Maui.Tests\\Whisper.net.Maui.Tests.csproj", "{2D16B02C-55D6-4B9B-B99E-A0529C407A69}" |
|  |  | EndProject |
|  |  | Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "Whisper.net.Tests", "tests\\Whisper.net.Tests\\Whisper.net.Tests.csproj", "{CE567791-96B8-4377-AF4F-49D75035348D}" |
|  |  | EndProject |
|  |  | Global |
|  |  | GlobalSection(SolutionConfigurationPlatforms) = preSolution |
|  |  | Debug\|Any CPU = Debug\|Any CPU |
|  |  | Debug\|x64 = Debug\|x64 |
|  |  | Debug\|x86 = Debug\|x86 |
|  |  | MinSizeRel\|Any CPU = MinSizeRel\|Any CPU |
|  |  | MinSizeRel\|x64 = MinSizeRel\|x64 |
|  |  | MinSizeRel\|x86 = MinSizeRel\|x86 |
|  |  | Release\|Any CPU = Release\|Any CPU |
|  |  | Release\|x64 = Release\|x64 |
|  |  | Release\|x86 = Release\|x86 |
|  |  | RelWithDebInfo\|Any CPU = RelWithDebInfo\|Any CPU |
|  |  | RelWithDebInfo\|x64 = RelWithDebInfo\|x64 |
|  |  | RelWithDebInfo\|x86 = RelWithDebInfo\|x86 |
|  |  | EndGlobalSection |
|  |  | GlobalSection(ProjectConfigurationPlatforms) = postSolution |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x64.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x86.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {C1C29732-1BC2-477D-A116-C5003E1D0C85}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x64.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.MinSizeRel\|x86.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|Any CPU.Deploy.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x64.Deploy.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x86.Deploy.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|Any CPU.Deploy.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x64.Deploy.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x86.Deploy.0 = Debug\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|Any CPU.Deploy.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x64.Deploy.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x86.Deploy.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|Any CPU.Deploy.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x64.Deploy.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | {2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x86.Deploy.0 = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | EndGlobalSection |
|  |  | GlobalSection(SolutionProperties) = preSolution |
|  |  | HideSolutionNode =FALSE |
|  |  | EndGlobalSection |
|  |  | GlobalSection(NestedProjects) = preSolution |
|  |  | {5C865649-4AED-4BBF-A7CA-BD68D21EF48F} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1} |
|  |  | {52C6C243-3BD7-41CF-A0B0-1DE31AC2C884} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1} |
|  |  | {CC45AC94-3CD7-45D8-A847-2D9C06E1806A} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1} |
|  |  | EndGlobalSection |
|  |  | GlobalSection(ExtensibilityGlobals) = postSolution |
|  |  | SolutionGuid ={F5CAA926-1B7D-3A67-9130-E6EFE3E9DFD9} |
|  |  | EndGlobalSection |
|  |  | EndGlobal |

17 changes: 0 additions & 17 deletions
17 [Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets](#diff-57a057c7f87a51d25cff35bf5c3e30e982b4fe9b5f4563237f005dd1c1f3a9b2 "Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/Whisper.net.Runtime.Vulkan/Whisper.net.Runtime.Vulkan.targets)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

233 changes: 0 additions & 233 deletions
233 [Whisper.net.Runtime/Whisper.net.Runtime.targets](#diff-a8c13609f6afccafa8262f65055fe8c4d625a6e21a99c9bde81d008721b9e36d "Whisper.net.Runtime/Whisper.net.Runtime.targets")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/Whisper.net.Runtime/Whisper.net.Runtime.targets)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

39 changes: 0 additions & 39 deletions
39 [Whisper.net.Tests/TestModelProvider.cs](#diff-c79ffbdbdce0df3e3da462149bf8d557ff6d596deceac4eda16d8c2afb2050d1 "Whisper.net.Tests/TestModelProvider.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/Whisper.net.Tests/TestModelProvider.cs)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

48 changes: 0 additions & 48 deletions
48 [Whisper.net.Tests/Whisper.net.Tests.csproj](#diff-39ca855a07aa77bca3f5af89a12c8a2bdb7d54424695c26459e365c19d036ace "Whisper.net.Tests/Whisper.net.Tests.csproj")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/Whisper.net.Tests/Whisper.net.Tests.csproj)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

103 changes: 57 additions & 46 deletions
103 [Whisper.net.sln](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb "Whisper.net.sln")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net.sln)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Up | @@ -9,25 +9,31 @@ Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Solution Items", "Solution |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | .editorconfig = .editorconfig |
|  |  | .gitignore = .gitignore |
|  |  | Directory.Packages.props = Directory.Packages.props |
|  |  | readme.md = readme.md |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net", "Whisper.net\\Whisper.net.csproj", "{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}" |
|  |  | EndProject |
|  |  | Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Tests", "Whisper.net.Tests\\Whisper.net.Tests.csproj", "{333764F7-81DC-4425-AF5C-B438D973EE13}" |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "github", "github", "{5C865649-4AED-4BBF-A7CA-BD68D21EF48F}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | .github\workflows\android-native-build.yaml = .github\workflows\android-native-build.yaml |
|  |  | .github\workflows\android-native-build.yml = .github\workflows\android-native-build.yml |
|  |  | .github\workflows\build-all.yml = .github\workflows\build-all.yml |
|  |  | .github\workflows\dotnet-maui.yml = .github\workflows\dotnet-maui.yml |
|  |  | .github\workflows\dotnet.yml = .github\workflows\dotnet.yml |
|  |  | .github\workflows\linux-cuda-native-build.yml = .github\workflows\linux-cuda-native-build.yml |
|  |  | .github\workflows\linux-native-build.yml = .github\workflows\linux-native-build.yml |
|  |  | .github\workflows\linux-openvino-build.yml = .github\workflows\linux-openvino-build.yml |
|  |  | .github\workflows\macos-native-build.yaml = .github\workflows\macos-native-build.yaml |
|  |  | .github\workflows\wasm-native-build.yaml = .github\workflows\wasm-native-build.yaml |
|  |  | .github\workflows\windows-arm-native-build.yml = .github\workflows\windows-arm-native-build.yml |
|  |  | .github\workflows\linux-noavx-native-build.yml = .github\workflows\linux-noavx-native-build.yml |
|  |  | .github\workflows\linux-openvino-native-build.yml = .github\workflows\linux-openvino-native-build.yml |
|  |  | .github\workflows\macos-coreml-native-build.yml = .github\workflows\macos-coreml-native-build.yml |
|  |  | .github\workflows\macos-native-build.yml = .github\workflows\macos-native-build.yml |
|  |  | .github\workflows\pack-all.yml = .github\workflows\pack-all.yml |
|  |  | .github\workflows\wasm-native-build.yml = .github\workflows\wasm-native-build.yml |
|  |  | .github\workflows\windows-cuda-native-build.yml = .github\workflows\windows-cuda-native-build.yml |
|  |  | .github\workflows\windows-native-build.yml = .github\workflows\windows-native-build.yml |
|  |  | .github\workflows\windows-openvino-build.yml = .github\workflows\windows-openvino-build.yml |
|  |  | .github\workflows\windows-vulkan-build.yml = .github\workflows\windows-vulkan-build.yml |
|  |  | .github\workflows\windows-noavx-native-build.yml = .github\workflows\windows-noavx-native-build.yml |
|  |  | .github\workflows\windows-openvino-native-build.yml = .github\workflows\windows-openvino-native-build.yml |
|  |  | .github\workflows\windows-vulkan-native-build.yml = .github\workflows\windows-vulkan-native-build.yml |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "scripts", "scripts", "{52C6C243-3BD7-41CF-A0B0-1DE31AC2C884}" |
| [Expand All](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand All | @@ -38,21 +44,26 @@ Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "scripts", "scripts", "{52C6 |
|  |  | EndProject |
|  |  | Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "runtimes", "runtimes", "{CC45AC94-3CD7-45D8-A847-2D9C06E1806A}" |
|  |  | ProjectSection(SolutionItems) = preProject |
|  |  | Whisper.net.Runtime.CoreML.nuspec = Whisper.net.Runtime.CoreML.nuspec |
|  |  | Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets = Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets |
|  |  | Whisper.net.Runtime.Cuda.Linux.nuspec = Whisper.net.Runtime.Cuda.Linux.nuspec |
|  |  | Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets = Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets |
|  |  | Whisper.net.Runtime.Cuda.nuspec = Whisper.net.Runtime.Cuda.nuspec |
|  |  | Whisper.net.Runtime.Cuda.Windows.nuspec = Whisper.net.Runtime.Cuda.Windows.nuspec |
|  |  | Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets = Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets |
|  |  | Whisper.net.Runtime.nuspec = Whisper.net.Runtime.nuspec |
|  |  | Whisper.net.Runtime.OpenVino.nuspec = Whisper.net.Runtime.OpenVino.nuspec |
|  |  | Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets = Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets |
|  |  | Whisper.net.Runtime\Whisper.net.Runtime.targets = Whisper.net.Runtime\Whisper.net.Runtime.targets |
|  |  | Whisper.net.Runtime.Vulkan.nuspec = Whisper.net.Runtime.Vulkan.nuspec |
|  |  | Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets = Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets |
|  |  | runtimes\Whisper.net.Runtime.CoreML.nuspec = runtimes\Whisper.net.Runtime.CoreML.nuspec |
|  |  | runtimes\Whisper.net.AllRuntimes.nuspec = runtimes\Whisper.net.AllRuntimes.nuspec |
|  |  | runtimes\Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets = runtimes\Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets |
|  |  | runtimes\Whisper.net.Runtime.Cuda.Linux.nuspec = runtimes\Whisper.net.Runtime.Cuda.Linux.nuspec |
|  |  | runtimes\Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets = runtimes\Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets |
|  |  | runtimes\Whisper.net.Runtime.Cuda.nuspec = runtimes\Whisper.net.Runtime.Cuda.nuspec |
|  |  | runtimes\Whisper.net.Runtime.Cuda.Windows.nuspec = runtimes\Whisper.net.Runtime.Cuda.Windows.nuspec |
|  |  | runtimes\Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets = runtimes\Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets |
|  |  | runtimes\Whisper.net.Runtime.NoAvx.nuspec = runtimes\Whisper.net.Runtime.NoAvx.nuspec |
|  |  | runtimes\Whisper.net.Runtime.NoAvx\Whisper.net.Runtime.NoAvx.targets = runtimes\Whisper.net.Runtime.NoAvx\Whisper.net.Runtime.NoAvx.targets |
|  |  | runtimes\Whisper.net.Runtime.nuspec = runtimes\Whisper.net.Runtime.nuspec |
|  |  | runtimes\Whisper.net.Runtime.OpenVino.nuspec = runtimes\Whisper.net.Runtime.OpenVino.nuspec |
|  |  | runtimes\Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets = runtimes\Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets |
|  |  | runtimes\Whisper.net.Runtime\Whisper.net.Runtime.targets = runtimes\Whisper.net.Runtime\Whisper.net.Runtime.targets |
|  |  | runtimes\Whisper.net.Runtime.Vulkan.nuspec = runtimes\Whisper.net.Runtime.Vulkan.nuspec |
|  |  | runtimes\Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets = runtimes\Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets |
|  |  | EndProjectSection |
|  |  | EndProject |
|  |  | Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "Whisper.net.Tests", "tests\\Whisper.net.Tests\\Whisper.net.Tests.csproj", "{308C8766-228B-4C72-9DA0-1F51B5CAEEDA}" |
|  |  | EndProject |
|  |  | Global |
|  |  | GlobalSection(SolutionConfigurationPlatforms) = preSolution |
|  |  | Debug\|Any CPU = Debug\|Any CPU |
| [Expand Down](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Down [Expand Up](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Up | @@ -117,30 +128,30 @@ Global |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {333764F7-81DC-4425-AF5C-B438D973EE13}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|x64.Build.0 = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Debug\|x86.Build.0 = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|x64.Build.0 = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.Release\|x86.Build.0 = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU |
|  |  | {308C8766-228B-4C72-9DA0-1F51B5CAEEDA}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU |
|  |  | EndGlobalSection |
|  |  | GlobalSection(SolutionProperties) = preSolution |
|  |  | HideSolutionNode =FALSE |
| [Expand Down](#diff-a78e1072f3219210cfb05588d996a0166c6ed142705b305ffe4047373b570ceb) Expand Down |  |

2 changes: 1 addition & 1 deletion
2 [Whisper.net/GlobalSuppressions.cs](#diff-defa6e7f825789b03840fbc01aa6dee7485d401f8e247cf527e9afc05cfed216 "Whisper.net/GlobalSuppressions.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/GlobalSuppressions.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-defa6e7f825789b03840fbc01aa6dee7485d401f8e247cf527e9afc05cfed216) Expand Up | @@ -2,4 +2,4 @@ |
|  |  |  |
|  |  | usingSystem.Diagnostics.CodeAnalysis; |
|  |  |  |
|  |  | \[assembly:SuppressMessage("Interoperability","SYSLIB1054:Use 'LibraryImportAttribute' instead of 'DllImportAttribute' to generate P/Invoke marshalling code at compile time",Justification="Not supported in netstandard, might need to use 2 versions",Scope="member",Target="~M:Whisper.net.Native.NativeMethods.whisper\_init\_state(System.IntPtr)~System.IntPtr")\] |
|  |  | \[assembly:SuppressMessage("Interoperability","SYSLIB1054:Use 'LibraryImportAttribute' instead of 'DllImportAttribute' to generate P/Invoke marshalling code at compile time",Justification="Not supported in netstandard, might need to use 2 versions",Scope="member",Target="~M:Whisper.net.Native.NativeMethodsDllImports.whisper\_init\_state(System.IntPtr)~System.IntPtr")\] |

4 changes: 3 additions & 1 deletion
4 [Whisper.net/Internals/ModelLoader/IWhisperProcessorModelLoader.cs](#diff-c92285448a66aebcad44cd4c22cd2ab9fd44d13dd29ca260e4c36705f0a162fb "Whisper.net/Internals/ModelLoader/IWhisperProcessorModelLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Internals/ModelLoader/IWhisperProcessorModelLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,10 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.Internals.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.ModelLoader; |
|  |  |  |
|  |  | internalinterfaceIWhisperProcessorModelLoader:IDisposable |
|  |  | { |
|  |  | publicIntPtrLoadNativeContext(); |
|  |  | publicIntPtrLoadNativeContext(INativeWhispernativeWhisper); |
|  |  | } |

5 changes: 3 additions & 2 deletions
5 [Whisper.net/Internals/ModelLoader/WhisperProcessorModelBufferLoader.cs](#diff-6f1e580d37e786b820ece2a878302efbbfa0991f4501f72f121bc186184e5fe5 "Whisper.net/Internals/ModelLoader/WhisperProcessorModelBufferLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Internals/ModelLoader/WhisperProcessorModelBufferLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,7 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Internals.Native; |
|  |  | usingWhisper.net.LibraryLoader; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
| [Expand All](#diff-6f1e580d37e786b820ece2a878302efbbfa0991f4501f72f121bc186184e5fe5) Expand All | @@ -15,10 +16,10 @@ public void Dispose() |
|  |  | pinnedBuffer.Free(); |
|  |  | } |
|  |  |  |
|  |  | publicIntPtrLoadNativeContext() |
|  |  | publicIntPtrLoadNativeContext(INativeWhispernativeWhisper) |
|  |  | { |
|  |  | varbufferLength=newUIntPtr((uint)buffer.Length); |
|  |  | returnNativeMethods.whisper\_init\_from\_buffer\_with\_params\_no\_state(pinnedBuffer.AddrOfPinnedObject(),bufferLength, |
|  |  | returnnativeWhisper.Whisper\_Init\_From\_Buffer\_With\_Params\_No\_State(pinnedBuffer.AddrOfPinnedObject(),bufferLength, |
|  |  | newWhisperContextParams() |
|  |  | { |
|  |  | UseGpu=RuntimeOptions.Instance.UseGpu?(byte)1:(byte)0, |
| [Expand Down](#diff-6f1e580d37e786b820ece2a878302efbbfa0991f4501f72f121bc186184e5fe5) Expand Down |  |

35 changes: 18 additions & 17 deletions
35 [Whisper.net/Internals/ModelLoader/WhisperProcessorModelFileLoader.cs](#diff-3e1dad649bdb65ad3225773c49cacc52ab8606bc08303b0b6094df6b7def9803 "Whisper.net/Internals/ModelLoader/WhisperProcessorModelFileLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Internals/ModelLoader/WhisperProcessorModelFileLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,5 +1,6 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.Internals.Native; |
|  |  | usingWhisper.net.LibraryLoader; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
| [Expand All](#diff-3e1dad649bdb65ad3225773c49cacc52ab8606bc08303b0b6094df6b7def9803) Expand All | @@ -12,23 +13,23 @@ public void Dispose() |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | publicIntPtrLoadNativeContext() |
|  |  | publicIntPtrLoadNativeContext(INativeWhispernativeWhisper) |
|  |  | { |
|  |  | returnNativeMethods.whisper\_init\_from\_file\_with\_params\_no\_state(pathModel, |
|  |  | newWhisperContextParams() |
|  |  | { |
|  |  | UseGpu=RuntimeOptions.Instance.UseGpu?(byte)1:(byte)0, |
|  |  | FlashAttention=0, |
|  |  | GpuDevice=RuntimeOptions.Instance.GpuDevice, |
|  |  | DtwTokenLevelTimestamp=0, |
|  |  | HeadsPreset=WhisperAlignmentHeadsPreset.WHISPER\_AHEADS\_NONE, |
|  |  | DtwNTop=-1, |
|  |  | WhisperAheads=newWhisperAheads() |
|  |  | { |
|  |  | NHeads=0, |
|  |  | Heads=IntPtr.Zero |
|  |  | }, |
|  |  | Dtw\_mem\_size=1024\*1024\*128, |
|  |  | }); |
|  |  | returnnativeWhisper.Whisper\_Init\_From\_File\_With\_Params\_No\_State(pathModel, |
|  |  | newWhisperContextParams() |
|  |  | { |
|  |  | UseGpu=RuntimeOptions.Instance.UseGpu?(byte)1:(byte)0, |
|  |  | FlashAttention=0, |
|  |  | GpuDevice=RuntimeOptions.Instance.GpuDevice, |
|  |  | DtwTokenLevelTimestamp=0, |
|  |  | HeadsPreset=WhisperAlignmentHeadsPreset.WHISPER\_AHEADS\_NONE, |
|  |  | DtwNTop=-1, |
|  |  | WhisperAheads=newWhisperAheads() |
|  |  | { |
|  |  | NHeads=0, |
|  |  | Heads=IntPtr.Zero |
|  |  | }, |
|  |  | Dtw\_mem\_size=1024\*1024\*128, |
|  |  | }); |
|  |  | } |
|  |  | } |

18 changes: 0 additions & 18 deletions
18 [Whisper.net/Internals/Native/GgmlNativeMethods.cs](#diff-64719113129d5d491495ba6d2ce467f08794f72ad1119471ee742939dc6690d7 "Whisper.net/Internals/Native/GgmlNativeMethods.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/9414bd36478622936dfb04503850f1a95d033bb9/Whisper.net/Internals/Native/GgmlNativeMethods.cs)
Edit file

Delete file


Load diff

This file was deleted.


Oops, something went wrong.
Retry

99 changes: 99 additions & 0 deletions
99 [Whisper.net/Internals/Native/INativeWhisper.cs](#diff-546c9261e9d4c24c7c88512fb9766a028fe551b944f5aa308058b39343ef686d "Whisper.net/Internals/Native/INativeWhisper.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Internals/Native/INativeWhisper.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,99 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.Native; |
|  |  |  |
|  |  | internalinterfaceINativeWhisper:IDisposable |
|  |  | { |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateIntPtrwhisper\_init\_from\_file\_with\_params\_no\_state(stringpath,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateIntPtrwhisper\_init\_from\_buffer\_with\_params\_no\_state(IntPtrbuffer,nuintbuffer\_size,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegatevoidwhisper\_free(IntPtrcontext); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegatevoidwhisper\_free\_params(IntPtrparamsPtr); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateIntPtrwhisper\_full\_default\_params\_by\_ref(WhisperSamplingStrategystrategy); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateintwhisper\_full\_with\_state(IntPtrcontext,IntPtrstate,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateintwhisper\_full\_n\_segments\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegatelongwhisper\_full\_get\_segment\_t0\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegatelongwhisper\_full\_get\_segment\_t1\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateIntPtrwhisper\_full\_get\_segment\_text\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateintwhisper\_full\_n\_tokens\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegatefloatwhisper\_full\_get\_token\_p\_from\_state(IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateintwhisper\_lang\_max\_id(); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateintwhisper\_lang\_auto\_detect\_with\_state(IntPtrcontext,IntPtrstate,intoffset\_ms,intn\_threads,IntPtrlang\_probs); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateintwhisper\_pcm\_to\_mel\_with\_state(IntPtrcontext,IntPtrstate,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateIntPtrwhisper\_lang\_str(intlang\_id); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateIntPtrwhisper\_init\_state(IntPtrcontext); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegatevoidwhisper\_free\_state(IntPtrstate); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegateintwhisper\_full\_lang\_id\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegatevoidwhisper\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegatevoidwhisper\_ctx\_init\_openvino\_encoder\_with\_state(IntPtrcontext,IntPtrstate,IntPtrmodelPath,IntPtrdevice,IntPtrcacheDir); |
|  |  |  |
|  |  | \[UnmanagedFunctionPointer(CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicdelegatevoidggml\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | whisper\_init\_from\_file\_with\_params\_no\_stateWhisper\_Init\_From\_File\_With\_Params\_No\_State{get;} |
|  |  | whisper\_init\_from\_buffer\_with\_params\_no\_stateWhisper\_Init\_From\_Buffer\_With\_Params\_No\_State{get;} |
|  |  | whisper\_freeWhisper\_Free{get;} |
|  |  | whisper\_free\_paramsWhisper\_Free\_Params{get;} |
|  |  | whisper\_full\_default\_params\_by\_refWhisper\_Full\_Default\_Params\_By\_Ref{get;} |
|  |  | whisper\_full\_with\_stateWhisper\_Full\_With\_State{get;} |
|  |  | whisper\_full\_n\_segments\_from\_stateWhisper\_Full\_N\_Segments\_From\_State{get;} |
|  |  | whisper\_full\_get\_segment\_t0\_from\_stateWhisper\_Full\_Get\_Segment\_T0\_From\_State{get;} |
|  |  | whisper\_full\_get\_segment\_t1\_from\_stateWhisper\_Full\_Get\_Segment\_T1\_From\_State{get;} |
|  |  | whisper\_full\_get\_segment\_text\_from\_stateWhisper\_Full\_Get\_Segment\_Text\_From\_State{get;} |
|  |  | whisper\_full\_n\_tokens\_from\_stateWhisper\_Full\_N\_Tokens\_From\_State{get;} |
|  |  | whisper\_full\_get\_token\_p\_from\_stateWhisper\_Full\_Get\_Token\_P\_From\_State{get;} |
|  |  | whisper\_lang\_max\_idWhisper\_Lang\_Max\_Id{get;} |
|  |  | whisper\_lang\_auto\_detect\_with\_stateWhisper\_Lang\_Auto\_Detect\_With\_State{get;} |
|  |  | whisper\_pcm\_to\_mel\_with\_stateWhisper\_PCM\_To\_Mel\_With\_State{get;} |
|  |  | whisper\_lang\_strWhisper\_Lang\_Str{get;} |
|  |  | whisper\_init\_stateWhisper\_Init\_State{get;} |
|  |  | whisper\_free\_stateWhisper\_Free\_State{get;} |
|  |  | whisper\_full\_lang\_id\_from\_stateWhisper\_Full\_Lang\_Id\_From\_State{get;} |
|  |  | whisper\_log\_setWhisper\_Log\_Set{get;} |
|  |  | whisper\_ctx\_init\_openvino\_encoder\_with\_stateWhisper\_Ctx\_Init\_Openvino\_Encoder\_With\_State{get;} |
|  |  |  |
|  |  | ggml\_log\_setGgml\_log\_set{get;} |
|  |  | } |

131 changes: 131 additions & 0 deletions
131 [Whisper.net/Internals/Native/Implementations/DllImportsNativeLibWhisper.cs](#diff-84a140cfdfc53403105ca7cffcabbb8e4ecf95677193ea0b8b2d8b4cf31695a2 "Whisper.net/Internals/Native/Implementations/DllImportsNativeLibWhisper.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Internals/Native/Implementations/DllImportsNativeLibWhisper.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,131 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  | #if !NET8\_0\_OR\_GREATER |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.Native.Implementations; |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// This way of loading INativeWhisper is used on NetFramework + Wasm (as they doesn't support NativeLibrary) |
|  |  | /// </summary> |
|  |  | internalclassDllImportsNativeLibWhisper:INativeWhisper |
|  |  | { |
|  |  | conststringlibraryName="libwhisper"; |
|  |  | conststringggmlLibraryName="libggml"; |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_file\_with\_params\_no\_state(stringpath,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_with\_params\_no\_state(IntPtrbuffer,nuintbuffer\_size,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_params(IntPtrparamsPtr); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_default\_params\_by\_ref(WhisperSamplingStrategystrategy); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_with\_state(IntPtrcontext,IntPtrstate,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_segments\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t0\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t1\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_get\_segment\_text\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_tokens\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternfloatwhisper\_full\_get\_token\_p\_from\_state(IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_max\_id(); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_auto\_detect\_with\_state(IntPtrcontext,IntPtrstate,intoffset\_ms,intn\_threads,IntPtrlang\_probs); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_pcm\_to\_mel\_with\_state(IntPtrcontext,IntPtrstate,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_lang\_str(intlang\_id); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_state(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_lang\_id\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_ctx\_init\_openvino\_encoder\_with\_state(IntPtrcontext,IntPtrstate,IntPtrmodelPath,IntPtrdevice,IntPtrcacheDir); |
|  |  |  |
|  |  | \[DllImport(ggmlLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidggml\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_from\_file\_with\_params\_no\_stateWhisper\_Init\_From\_File\_With\_Params\_No\_State=>whisper\_init\_from\_file\_with\_params\_no\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_from\_buffer\_with\_params\_no\_stateWhisper\_Init\_From\_Buffer\_With\_Params\_No\_State=>whisper\_init\_from\_buffer\_with\_params\_no\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_freeWhisper\_Free=>whisper\_free; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_free\_paramsWhisper\_Free\_Params=>whisper\_free\_params; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_default\_params\_by\_refWhisper\_Full\_Default\_Params\_By\_Ref=>whisper\_full\_default\_params\_by\_ref; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_with\_stateWhisper\_Full\_With\_State=>whisper\_full\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_n\_segments\_from\_stateWhisper\_Full\_N\_Segments\_From\_State=>whisper\_full\_n\_segments\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_t0\_from\_stateWhisper\_Full\_Get\_Segment\_T0\_From\_State=>whisper\_full\_get\_segment\_t0\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_t1\_from\_stateWhisper\_Full\_Get\_Segment\_T1\_From\_State=>whisper\_full\_get\_segment\_t1\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_text\_from\_stateWhisper\_Full\_Get\_Segment\_Text\_From\_State=>whisper\_full\_get\_segment\_text\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_n\_tokens\_from\_stateWhisper\_Full\_N\_Tokens\_From\_State=>whisper\_full\_n\_tokens\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_token\_p\_from\_stateWhisper\_Full\_Get\_Token\_P\_From\_State=>whisper\_full\_get\_token\_p\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_max\_idWhisper\_Lang\_Max\_Id=>whisper\_lang\_max\_id; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_auto\_detect\_with\_stateWhisper\_Lang\_Auto\_Detect\_With\_State=>whisper\_lang\_auto\_detect\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_pcm\_to\_mel\_with\_stateWhisper\_PCM\_To\_Mel\_With\_State=>whisper\_pcm\_to\_mel\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_strWhisper\_Lang\_Str=>whisper\_lang\_str; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_stateWhisper\_Init\_State=>whisper\_init\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_free\_stateWhisper\_Free\_State=>whisper\_free\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_lang\_id\_from\_stateWhisper\_Full\_Lang\_Id\_From\_State=>whisper\_full\_lang\_id\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_log\_setWhisper\_Log\_Set=>whisper\_log\_set; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_ctx\_init\_openvino\_encoder\_with\_stateWhisper\_Ctx\_Init\_Openvino\_Encoder\_With\_State=>whisper\_ctx\_init\_openvino\_encoder\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.ggml\_log\_setGgml\_log\_set=>ggml\_log\_set; |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  |  |
|  |  | } |
|  |  | } |
|  |  | #endif |

208 changes: 130 additions & 78 deletions
208 [...per.net/Internals/Native/NativeMethods.cs → ...mplementations/DllImportsNativeWhisper.cs](#diff-f3fb7dcdf6b869e0f5b6dad134d9829d57906ed061e3245be06a074184a89f6a "Whisper.net/Internals/Native/NativeMethods.cs → Whisper.net/Internals/Native/Implementations/DllImportsNativeWhisper.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Internals/Native/Implementations/DllImportsNativeWhisper.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,78 +1,130 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.Native; |
|  |  |  |
|  |  | internalstaticclassNativeMethods |
|  |  | { |
|  |  | // Needed for Apple apps when linking library. |
|  |  | #if IOS\|\|MACCATALYST\|\|TVOS |
|  |  | conststringlibraryName="\_\_Internal"; |
|  |  | #else |
|  |  | conststringlibraryName="whisper"; |
|  |  | #endif |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_file\_with\_params\_no\_state(stringpath,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_with\_params\_no\_state(IntPtrbuffer,nuintbuffer\_size,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_params(IntPtrparamsPtr); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_default\_params\_by\_ref(WhisperSamplingStrategystrategy); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_with\_state(IntPtrcontext,IntPtrstate,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_segments\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t0\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t1\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_get\_segment\_text\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_tokens\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternfloatwhisper\_full\_get\_token\_p\_from\_state(IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_max\_id(); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_auto\_detect\_with\_state(IntPtrcontext,IntPtrstate,intoffset\_ms,intn\_threads,IntPtrlang\_probs); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_pcm\_to\_mel\_with\_state(IntPtrcontext,IntPtrstate,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_lang\_str(intlang\_id); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_state(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_lang\_id\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_ctx\_init\_openvino\_encoder\_with\_state(IntPtrcontext,IntPtrstate,IntPtrmodelPath,IntPtrdevice,IntPtrcacheDir); |
|  |  | } |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.Native.Implementations; |
|  |  |  |
|  |  | /// <summary> |
|  |  | /// This way of loading INativeWhisper is used on NetFramework + Wasm (as they doesn't support NativeLibrary) |
|  |  | /// </summary> |
|  |  | internalclassDllImportsNativeWhisper:INativeWhisper |
|  |  | { |
|  |  | conststringlibraryName="whisper"; |
|  |  | conststringggmlLibraryName="ggml"; |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_file\_with\_params\_no\_state(stringpath,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_from\_buffer\_with\_params\_no\_state(IntPtrbuffer,nuintbuffer\_size,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_params(IntPtrparamsPtr); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_default\_params\_by\_ref(WhisperSamplingStrategystrategy); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_with\_state(IntPtrcontext,IntPtrstate,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_segments\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t0\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternlongwhisper\_full\_get\_segment\_t1\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_full\_get\_segment\_text\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_n\_tokens\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternfloatwhisper\_full\_get\_token\_p\_from\_state(IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_max\_id(); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_lang\_auto\_detect\_with\_state(IntPtrcontext,IntPtrstate,intoffset\_ms,intn\_threads,IntPtrlang\_probs); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_pcm\_to\_mel\_with\_state(IntPtrcontext,IntPtrstate,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_lang\_str(intlang\_id); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternIntPtrwhisper\_init\_state(IntPtrcontext); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_free\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternintwhisper\_full\_lang\_id\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | \[DllImport(libraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidwhisper\_ctx\_init\_openvino\_encoder\_with\_state(IntPtrcontext,IntPtrstate,IntPtrmodelPath,IntPtrdevice,IntPtrcacheDir); |
|  |  |  |
|  |  | \[DllImport(ggmlLibraryName,CallingConvention=CallingConvention.Cdecl,CharSet=CharSet.Ansi)\] |
|  |  | publicstaticexternvoidggml\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_from\_file\_with\_params\_no\_stateWhisper\_Init\_From\_File\_With\_Params\_No\_State=>whisper\_init\_from\_file\_with\_params\_no\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_from\_buffer\_with\_params\_no\_stateWhisper\_Init\_From\_Buffer\_With\_Params\_No\_State=>whisper\_init\_from\_buffer\_with\_params\_no\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_freeWhisper\_Free=>whisper\_free; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_free\_paramsWhisper\_Free\_Params=>whisper\_free\_params; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_default\_params\_by\_refWhisper\_Full\_Default\_Params\_By\_Ref=>whisper\_full\_default\_params\_by\_ref; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_with\_stateWhisper\_Full\_With\_State=>whisper\_full\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_n\_segments\_from\_stateWhisper\_Full\_N\_Segments\_From\_State=>whisper\_full\_n\_segments\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_t0\_from\_stateWhisper\_Full\_Get\_Segment\_T0\_From\_State=>whisper\_full\_get\_segment\_t0\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_t1\_from\_stateWhisper\_Full\_Get\_Segment\_T1\_From\_State=>whisper\_full\_get\_segment\_t1\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_text\_from\_stateWhisper\_Full\_Get\_Segment\_Text\_From\_State=>whisper\_full\_get\_segment\_text\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_n\_tokens\_from\_stateWhisper\_Full\_N\_Tokens\_From\_State=>whisper\_full\_n\_tokens\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_token\_p\_from\_stateWhisper\_Full\_Get\_Token\_P\_From\_State=>whisper\_full\_get\_token\_p\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_max\_idWhisper\_Lang\_Max\_Id=>whisper\_lang\_max\_id; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_auto\_detect\_with\_stateWhisper\_Lang\_Auto\_Detect\_With\_State=>whisper\_lang\_auto\_detect\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_pcm\_to\_mel\_with\_stateWhisper\_PCM\_To\_Mel\_With\_State=>whisper\_pcm\_to\_mel\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_strWhisper\_Lang\_Str=>whisper\_lang\_str; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_stateWhisper\_Init\_State=>whisper\_init\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_free\_stateWhisper\_Free\_State=>whisper\_free\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_lang\_id\_from\_stateWhisper\_Full\_Lang\_Id\_From\_State=>whisper\_full\_lang\_id\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_log\_setWhisper\_Log\_Set=>whisper\_log\_set; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_ctx\_init\_openvino\_encoder\_with\_stateWhisper\_Ctx\_Init\_Openvino\_Encoder\_With\_State=>whisper\_ctx\_init\_openvino\_encoder\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.ggml\_log\_setGgml\_log\_set=>ggml\_log\_set; |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  |  |
|  |  | } |
|  |  | } |

131 changes: 131 additions & 0 deletions
131 [Whisper.net/Internals/Native/Implementations/LibraryImportInternalWhisper.cs](#diff-0cb77079b5cd2054a6d94e4246692db327fa1f39d0a1a8d80634cb07bcfeef4f "Whisper.net/Internals/Native/Implementations/LibraryImportInternalWhisper.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Internals/Native/Implementations/LibraryImportInternalWhisper.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,131 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | #if NET8\_0\_OR\_GREATER |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.Native.Implementations; |
|  |  | /// <summary> |
|  |  | /// This way of loading INativeWhisper is using LibraryImport attribute to load the native library from \_Internal |
|  |  | /// </summary> |
|  |  | internalpartialclassLibraryImportInternalWhisper:INativeWhisper |
|  |  | { |
|  |  | conststringlibraryName="\_Internal"; |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_init\_from\_file\_with\_params\_no\_state(stringpath,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_init\_from\_buffer\_with\_params\_no\_state(IntPtrbuffer,nuintbuffer\_size,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_free(IntPtrcontext); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_free\_params(IntPtrparamsPtr); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_full\_default\_params\_by\_ref(WhisperSamplingStrategystrategy); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_full\_with\_state(IntPtrcontext,IntPtrstate,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_full\_n\_segments\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartiallongwhisper\_full\_get\_segment\_t0\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartiallongwhisper\_full\_get\_segment\_t1\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_full\_get\_segment\_text\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_full\_n\_tokens\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialfloatwhisper\_full\_get\_token\_p\_from\_state(IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_lang\_max\_id(); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_lang\_auto\_detect\_with\_state(IntPtrcontext,IntPtrstate,intoffset\_ms,intn\_threads,IntPtrlang\_probs); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_pcm\_to\_mel\_with\_state(IntPtrcontext,IntPtrstate,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_lang\_str(intlang\_id); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_init\_state(IntPtrcontext); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_free\_state(IntPtrstate); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_full\_lang\_id\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_ctx\_init\_openvino\_encoder\_with\_state(IntPtrcontext,IntPtrstate,IntPtrmodelPath,IntPtrdevice,IntPtrcacheDir); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidggml\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_from\_file\_with\_params\_no\_stateWhisper\_Init\_From\_File\_With\_Params\_No\_State=>whisper\_init\_from\_file\_with\_params\_no\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_from\_buffer\_with\_params\_no\_stateWhisper\_Init\_From\_Buffer\_With\_Params\_No\_State=>whisper\_init\_from\_buffer\_with\_params\_no\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_freeWhisper\_Free=>whisper\_free; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_free\_paramsWhisper\_Free\_Params=>whisper\_free\_params; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_default\_params\_by\_refWhisper\_Full\_Default\_Params\_By\_Ref=>whisper\_full\_default\_params\_by\_ref; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_with\_stateWhisper\_Full\_With\_State=>whisper\_full\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_n\_segments\_from\_stateWhisper\_Full\_N\_Segments\_From\_State=>whisper\_full\_n\_segments\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_t0\_from\_stateWhisper\_Full\_Get\_Segment\_T0\_From\_State=>whisper\_full\_get\_segment\_t0\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_t1\_from\_stateWhisper\_Full\_Get\_Segment\_T1\_From\_State=>whisper\_full\_get\_segment\_t1\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_text\_from\_stateWhisper\_Full\_Get\_Segment\_Text\_From\_State=>whisper\_full\_get\_segment\_text\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_n\_tokens\_from\_stateWhisper\_Full\_N\_Tokens\_From\_State=>whisper\_full\_n\_tokens\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_token\_p\_from\_stateWhisper\_Full\_Get\_Token\_P\_From\_State=>whisper\_full\_get\_token\_p\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_max\_idWhisper\_Lang\_Max\_Id=>whisper\_lang\_max\_id; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_auto\_detect\_with\_stateWhisper\_Lang\_Auto\_Detect\_With\_State=>whisper\_lang\_auto\_detect\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_pcm\_to\_mel\_with\_stateWhisper\_PCM\_To\_Mel\_With\_State=>whisper\_pcm\_to\_mel\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_strWhisper\_Lang\_Str=>whisper\_lang\_str; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_stateWhisper\_Init\_State=>whisper\_init\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_free\_stateWhisper\_Free\_State=>whisper\_free\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_lang\_id\_from\_stateWhisper\_Full\_Lang\_Id\_From\_State=>whisper\_full\_lang\_id\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_log\_setWhisper\_Log\_Set=>whisper\_log\_set; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_ctx\_init\_openvino\_encoder\_with\_stateWhisper\_Ctx\_Init\_Openvino\_Encoder\_With\_State=>whisper\_ctx\_init\_openvino\_encoder\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.ggml\_log\_setGgml\_log\_set=>ggml\_log\_set; |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  |  |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | #endif |

132 changes: 132 additions & 0 deletions
132 [Whisper.net/Internals/Native/Implementations/LibraryImportLibWhisper.cs](#diff-3e544f8d277a0203522c297d2f0537de1e0c8cfb980dd2ff57698528d2245685 "Whisper.net/Internals/Native/Implementations/LibraryImportLibWhisper.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Internals/Native/Implementations/LibraryImportLibWhisper.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,132 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | #if NET8\_0\_OR\_GREATER |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.Native.Implementations; |
|  |  | /// <summary> |
|  |  | /// This way of loading INativeWhisper is using LibraruImport attribute to load the native library. |
|  |  | /// </summary> |
|  |  | internalpartialclassLibraryImportLibWhisper:INativeWhisper |
|  |  | { |
|  |  | conststringlibraryName="libwhisper"; |
|  |  | conststringggmlLibraryName="libggml"; |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_init\_from\_file\_with\_params\_no\_state(stringpath,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_init\_from\_buffer\_with\_params\_no\_state(IntPtrbuffer,nuintbuffer\_size,WhisperContextParamswhisperContextParams); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_free(IntPtrcontext); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_free\_params(IntPtrparamsPtr); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_full\_default\_params\_by\_ref(WhisperSamplingStrategystrategy); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_full\_with\_state(IntPtrcontext,IntPtrstate,WhisperFullParamsparameters,IntPtrsamples,intnSamples); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_full\_n\_segments\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartiallongwhisper\_full\_get\_segment\_t0\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartiallongwhisper\_full\_get\_segment\_t1\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_full\_get\_segment\_text\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_full\_n\_tokens\_from\_state(IntPtrstate,intindex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialfloatwhisper\_full\_get\_token\_p\_from\_state(IntPtrstate,intsegmentIndex,inttokenIndex); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_lang\_max\_id(); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_lang\_auto\_detect\_with\_state(IntPtrcontext,IntPtrstate,intoffset\_ms,intn\_threads,IntPtrlang\_probs); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_pcm\_to\_mel\_with\_state(IntPtrcontext,IntPtrstate,IntPtrsamples,intnSamples,intnThreads); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_lang\_str(intlang\_id); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialIntPtrwhisper\_init\_state(IntPtrcontext); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_free\_state(IntPtrstate); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialintwhisper\_full\_lang\_id\_from\_state(IntPtrstate); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | \[LibraryImport(libraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidwhisper\_ctx\_init\_openvino\_encoder\_with\_state(IntPtrcontext,IntPtrstate,IntPtrmodelPath,IntPtrdevice,IntPtrcacheDir); |
|  |  |  |
|  |  | \[LibraryImport(ggmlLibraryName,StringMarshalling=StringMarshalling.Utf8)\] |
|  |  | publicstaticpartialvoidggml\_log\_set(IntPtrlogCallback,IntPtruser\_data); |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_from\_file\_with\_params\_no\_stateWhisper\_Init\_From\_File\_With\_Params\_No\_State=>whisper\_init\_from\_file\_with\_params\_no\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_from\_buffer\_with\_params\_no\_stateWhisper\_Init\_From\_Buffer\_With\_Params\_No\_State=>whisper\_init\_from\_buffer\_with\_params\_no\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_freeWhisper\_Free=>whisper\_free; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_free\_paramsWhisper\_Free\_Params=>whisper\_free\_params; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_default\_params\_by\_refWhisper\_Full\_Default\_Params\_By\_Ref=>whisper\_full\_default\_params\_by\_ref; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_with\_stateWhisper\_Full\_With\_State=>whisper\_full\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_n\_segments\_from\_stateWhisper\_Full\_N\_Segments\_From\_State=>whisper\_full\_n\_segments\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_t0\_from\_stateWhisper\_Full\_Get\_Segment\_T0\_From\_State=>whisper\_full\_get\_segment\_t0\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_t1\_from\_stateWhisper\_Full\_Get\_Segment\_T1\_From\_State=>whisper\_full\_get\_segment\_t1\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_segment\_text\_from\_stateWhisper\_Full\_Get\_Segment\_Text\_From\_State=>whisper\_full\_get\_segment\_text\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_n\_tokens\_from\_stateWhisper\_Full\_N\_Tokens\_From\_State=>whisper\_full\_n\_tokens\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_get\_token\_p\_from\_stateWhisper\_Full\_Get\_Token\_P\_From\_State=>whisper\_full\_get\_token\_p\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_max\_idWhisper\_Lang\_Max\_Id=>whisper\_lang\_max\_id; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_auto\_detect\_with\_stateWhisper\_Lang\_Auto\_Detect\_With\_State=>whisper\_lang\_auto\_detect\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_pcm\_to\_mel\_with\_stateWhisper\_PCM\_To\_Mel\_With\_State=>whisper\_pcm\_to\_mel\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_lang\_strWhisper\_Lang\_Str=>whisper\_lang\_str; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_init\_stateWhisper\_Init\_State=>whisper\_init\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_free\_stateWhisper\_Free\_State=>whisper\_free\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_full\_lang\_id\_from\_stateWhisper\_Full\_Lang\_Id\_From\_State=>whisper\_full\_lang\_id\_from\_state; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_log\_setWhisper\_Log\_Set=>whisper\_log\_set; |
|  |  |  |
|  |  | publicINativeWhisper.whisper\_ctx\_init\_openvino\_encoder\_with\_stateWhisper\_Ctx\_Init\_Openvino\_Encoder\_With\_State=>whisper\_ctx\_init\_openvino\_encoder\_with\_state; |
|  |  |  |
|  |  | publicINativeWhisper.ggml\_log\_setGgml\_log\_set=>ggml\_log\_set; |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  |  |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | #endif |

93 changes: 93 additions & 0 deletions
93 [Whisper.net/Internals/Native/Implementations/NativeLibraryWhisper.cs](#diff-353b605f2c6ef075a1367c0398e0430369d7ed8d1a0717b1f720710a0d795e7a "Whisper.net/Internals/Native/Implementations/NativeLibraryWhisper.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Internals/Native/Implementations/NativeLibraryWhisper.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,93 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | #if !NETSTANDARD |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingstaticWhisper.net.Internals.Native.INativeWhisper; |
|  |  |  |
|  |  | namespaceWhisper.net.Internals.Native.Implementations; |
|  |  |  |
|  |  | internalclassNativeLibraryWhisper:INativeWhisper |
|  |  | { |
|  |  | privatereadonlyIntPtrwhisperLibraryHandle; |
|  |  | privatereadonlyIntPtrggmlLibraryHandle; |
|  |  |  |
|  |  | publicNativeLibraryWhisper(IntPtrwhisperLibraryHandle,IntPtrggmlLibraryHandle) |
|  |  | { |
|  |  | Whisper\_Init\_From\_File\_With\_Params\_No\_State=Marshal.GetDelegateForFunctionPointer<whisper\_init\_from\_file\_with\_params\_no\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_init\_from\_file\_with\_params\_no\_state))); |
|  |  | Whisper\_Init\_From\_Buffer\_With\_Params\_No\_State=Marshal.GetDelegateForFunctionPointer<whisper\_init\_from\_buffer\_with\_params\_no\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_init\_from\_buffer\_with\_params\_no\_state))); |
|  |  | Whisper\_Free=Marshal.GetDelegateForFunctionPointer<whisper\_free>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_free))); |
|  |  | Whisper\_Free\_Params=Marshal.GetDelegateForFunctionPointer<whisper\_free\_params>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_free\_params))); |
|  |  | Whisper\_Full\_Default\_Params\_By\_Ref=Marshal.GetDelegateForFunctionPointer<whisper\_full\_default\_params\_by\_ref>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_full\_default\_params\_by\_ref))); |
|  |  | Whisper\_Full\_With\_State=Marshal.GetDelegateForFunctionPointer<whisper\_full\_with\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_full\_with\_state))); |
|  |  | Whisper\_Full\_N\_Segments\_From\_State=Marshal.GetDelegateForFunctionPointer<whisper\_full\_n\_segments\_from\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_full\_n\_segments\_from\_state))); |
|  |  | Whisper\_Full\_Get\_Segment\_T0\_From\_State=Marshal.GetDelegateForFunctionPointer<whisper\_full\_get\_segment\_t0\_from\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_full\_get\_segment\_t0\_from\_state))); |
|  |  | Whisper\_Full\_Get\_Segment\_T1\_From\_State=Marshal.GetDelegateForFunctionPointer<whisper\_full\_get\_segment\_t1\_from\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_full\_get\_segment\_t1\_from\_state))); |
|  |  | Whisper\_Full\_Get\_Segment\_Text\_From\_State=Marshal.GetDelegateForFunctionPointer<whisper\_full\_get\_segment\_text\_from\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_full\_get\_segment\_text\_from\_state))); |
|  |  | Whisper\_Full\_N\_Tokens\_From\_State=Marshal.GetDelegateForFunctionPointer<whisper\_full\_n\_tokens\_from\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_full\_n\_tokens\_from\_state))); |
|  |  | Whisper\_Full\_Get\_Token\_P\_From\_State=Marshal.GetDelegateForFunctionPointer<whisper\_full\_get\_token\_p\_from\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_full\_get\_token\_p\_from\_state))); |
|  |  | Whisper\_Lang\_Max\_Id=Marshal.GetDelegateForFunctionPointer<whisper\_lang\_max\_id>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_lang\_max\_id))); |
|  |  | Whisper\_Lang\_Auto\_Detect\_With\_State=Marshal.GetDelegateForFunctionPointer<whisper\_lang\_auto\_detect\_with\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_lang\_auto\_detect\_with\_state))); |
|  |  | Whisper\_PCM\_To\_Mel\_With\_State=Marshal.GetDelegateForFunctionPointer<whisper\_pcm\_to\_mel\_with\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_pcm\_to\_mel\_with\_state))); |
|  |  | Whisper\_Lang\_Str=Marshal.GetDelegateForFunctionPointer<whisper\_lang\_str>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_lang\_str))); |
|  |  | Whisper\_Init\_State=Marshal.GetDelegateForFunctionPointer<whisper\_init\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_init\_state))); |
|  |  | Whisper\_Free\_State=Marshal.GetDelegateForFunctionPointer<whisper\_free\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_free\_state))); |
|  |  | Whisper\_Full\_Lang\_Id\_From\_State=Marshal.GetDelegateForFunctionPointer<whisper\_full\_lang\_id\_from\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_full\_lang\_id\_from\_state))); |
|  |  | Whisper\_Log\_Set=Marshal.GetDelegateForFunctionPointer<whisper\_log\_set>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_log\_set))); |
|  |  | Whisper\_Ctx\_Init\_Openvino\_Encoder\_With\_State=Marshal.GetDelegateForFunctionPointer<whisper\_ctx\_init\_openvino\_encoder\_with\_state>(NativeLibrary.GetExport(whisperLibraryHandle,nameof(whisper\_ctx\_init\_openvino\_encoder\_with\_state))); |
|  |  | Ggml\_log\_set=Marshal.GetDelegateForFunctionPointer<ggml\_log\_set>(NativeLibrary.GetExport(ggmlLibraryHandle,nameof(ggml\_log\_set))); |
|  |  |  |
|  |  | this.whisperLibraryHandle=whisperLibraryHandle; |
|  |  | this.ggmlLibraryHandle=ggmlLibraryHandle; |
|  |  | } |
|  |  |  |
|  |  | publicwhisper\_init\_from\_file\_with\_params\_no\_stateWhisper\_Init\_From\_File\_With\_Params\_No\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_init\_from\_buffer\_with\_params\_no\_stateWhisper\_Init\_From\_Buffer\_With\_Params\_No\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_freeWhisper\_Free{get;} |
|  |  |  |
|  |  | publicwhisper\_free\_paramsWhisper\_Free\_Params{get;} |
|  |  |  |
|  |  | publicwhisper\_full\_default\_params\_by\_refWhisper\_Full\_Default\_Params\_By\_Ref{get;} |
|  |  |  |
|  |  | publicwhisper\_full\_with\_stateWhisper\_Full\_With\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_full\_n\_segments\_from\_stateWhisper\_Full\_N\_Segments\_From\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_full\_get\_segment\_t0\_from\_stateWhisper\_Full\_Get\_Segment\_T0\_From\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_full\_get\_segment\_t1\_from\_stateWhisper\_Full\_Get\_Segment\_T1\_From\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_full\_get\_segment\_text\_from\_stateWhisper\_Full\_Get\_Segment\_Text\_From\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_full\_n\_tokens\_from\_stateWhisper\_Full\_N\_Tokens\_From\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_full\_get\_token\_p\_from\_stateWhisper\_Full\_Get\_Token\_P\_From\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_lang\_max\_idWhisper\_Lang\_Max\_Id{get;} |
|  |  |  |
|  |  | publicwhisper\_lang\_auto\_detect\_with\_stateWhisper\_Lang\_Auto\_Detect\_With\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_pcm\_to\_mel\_with\_stateWhisper\_PCM\_To\_Mel\_With\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_lang\_strWhisper\_Lang\_Str{get;} |
|  |  |  |
|  |  | publicwhisper\_init\_stateWhisper\_Init\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_free\_stateWhisper\_Free\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_full\_lang\_id\_from\_stateWhisper\_Full\_Lang\_Id\_From\_State{get;} |
|  |  |  |
|  |  | publicwhisper\_log\_setWhisper\_Log\_Set{get;} |
|  |  |  |
|  |  | publicwhisper\_ctx\_init\_openvino\_encoder\_with\_stateWhisper\_Ctx\_Init\_Openvino\_Encoder\_With\_State{get;} |
|  |  |  |
|  |  | publicggml\_log\_setGgml\_log\_set{get;} |
|  |  |  |
|  |  | publicvoidDispose() |
|  |  | { |
|  |  | NativeLibrary.Free(whisperLibraryHandle); |
|  |  | NativeLibrary.Free(ggmlLibraryHandle); |
|  |  | } |
|  |  | } |
|  |  | #endif |

4 changes: 3 additions & 1 deletion
4 [Whisper.net/LibraryLoader/ILibraryLoader.cs](#diff-718393293ccb9db83b46a36995bfbfffd5063fe060cd43948cc944ec3a2a28ad "Whisper.net/LibraryLoader/ILibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/LibraryLoader/ILibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-718393293ccb9db83b46a36995bfbfffd5063fe060cd43948cc944ec3a2a28ad) Expand Up | @@ -4,5 +4,7 @@ namespace Whisper.net.LibraryLoader; |
|  |  |  |
|  |  | internalinterfaceILibraryLoader |
|  |  | { |
|  |  | LoadResultOpenLibrary(string?fileName); |
|  |  | IntPtrOpenLibrary(stringfileName,boolglobal); |
|  |  |  |
|  |  | stringGetLastError(); |
|  |  | } |

31 changes: 13 additions & 18 deletions
31 [Whisper.net/LibraryLoader/LinuxLibraryLoader.cs](#diff-7c1a9b168c032a8ba88187e5e56c96a21bfb270ba866a73d3f4b717f5eed6f9d "Whisper.net/LibraryLoader/LinuxLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/LibraryLoader/LinuxLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-7c1a9b168c032a8ba88187e5e56c96a21bfb270ba866a73d3f4b717f5eed6f9d) Expand Up | @@ -18,34 +18,29 @@ internal class LinuxLibraryLoader : ILibraryLoader |
|  |  | \[DllImport("libdl.so.2",ExactSpelling=true,CharSet=CharSet.Auto,EntryPoint="dlerror")\] |
|  |  | publicstaticexternIntPtrGetLoadError2(); |
|  |  |  |
|  |  | publicLoadResultOpenLibrary(string?fileName) |
|  |  | publicIntPtrOpenLibrary(stringfileName,boolglobal) |
|  |  | { |
|  |  | IntPtrloadedLib; |
|  |  | try |
|  |  | { |
|  |  | // open with rtls lazy flag |
|  |  | loadedLib=NativeOpenLibraryLibdl2(fileName,0x00001); |
|  |  | // open with rtld now + (global if true) |
|  |  | returnNativeOpenLibraryLibdl2(fileName,global?0x00102:0x00002); |
|  |  | } |
|  |  | catch(DllNotFoundException) |
|  |  | { |
|  |  | loadedLib=NativeOpenLibraryLibdl(fileName,0x00001); |
|  |  | returnNativeOpenLibraryLibdl(fileName,global?0x00102:0x00002); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | if(loadedLib==IntPtr.Zero) |
|  |  | publicstringGetLastError() |
|  |  | { |
|  |  | try |
|  |  | { |
|  |  | returnMarshal.PtrToStringAnsi(GetLoadError2())??"Unknown error"; |
|  |  | } |
|  |  | catch(DllNotFoundException) |
|  |  | { |
|  |  | stringerrorMessage; |
|  |  | try |
|  |  | { |
|  |  | errorMessage=Marshal.PtrToStringAnsi(GetLoadError2())??"Unknown error"; |
|  |  | } |
|  |  | catch(DllNotFoundException) |
|  |  | { |
|  |  | errorMessage=Marshal.PtrToStringAnsi(GetLoadError())??"Unknown error"; |
|  |  | } |
|  |  |  |
|  |  | returnLoadResult.Failure(errorMessage); |
|  |  | returnMarshal.PtrToStringAnsi(GetLoadError())??"Unknown error"; |
|  |  | } |
|  |  |  |
|  |  | returnLoadResult.Success; |
|  |  | } |
|  |  | } |

16 changes: 12 additions & 4 deletions
16 [Whisper.net/LibraryLoader/LoadResult.cs](#diff-8bdbc38efc35a985e9804084b3b3b5f189c1a61ae21cedd984097675c6bcaf02 "Whisper.net/LibraryLoader/LoadResult.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/LibraryLoader/LoadResult.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,22 +1,30 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | usingWhisper.net.Internals.Native; |
|  |  |  |
|  |  | namespaceWhisper.net.LibraryLoader; |
|  |  |  |
|  |  | publicclassLoadResult |
|  |  | internalclassLoadResult |
|  |  | { |
|  |  | privateLoadResult(boolisSuccess,string?errorMessage) |
|  |  | privateLoadResult(boolisSuccess,string?errorMessage,INativeWhisper?nativeWhisper) |
|  |  | { |
|  |  | IsSuccess=isSuccess; |
|  |  | ErrorMessage=errorMessage; |
|  |  | NativeWhisper=nativeWhisper; |
|  |  | } |
|  |  |  |
|  |  | publicstaticLoadResultSuccess{get;}=new(true,null); |
|  |  | publicstaticLoadResultSuccess(INativeWhispernativeWhisper) |
|  |  | { |
|  |  | returnnew(true,null,nativeWhisper); |
|  |  | } |
|  |  |  |
|  |  | publicstaticLoadResultFailure(stringerrorMessage) |
|  |  | { |
|  |  | returnnew(false,errorMessage); |
|  |  | returnnew(false,errorMessage,null); |
|  |  | } |
|  |  |  |
|  |  | publicINativeWhisper?NativeWhisper; |
|  |  |  |
|  |  | publicboolIsSuccess{get;} |
|  |  | publicstring?ErrorMessage{get;} |
|  |  | } |

16 changes: 6 additions & 10 deletions
16 [Whisper.net/LibraryLoader/MacOsLibraryLoader.cs](#diff-94d9ea1a95146101723aa7ac2c05af449e0b07300d9c14584bddbbf965862e4e "Whisper.net/LibraryLoader/MacOsLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/LibraryLoader/MacOsLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-94d9ea1a95146101723aa7ac2c05af449e0b07300d9c14584bddbbf965862e4e) Expand Up | @@ -12,17 +12,13 @@ internal class MacOsLibraryLoader : ILibraryLoader |
|  |  | \[DllImport("libdl.dylib",ExactSpelling=true,CharSet=CharSet.Auto,EntryPoint="dlerror")\] |
|  |  | publicstaticexternIntPtrGetLoadError(); |
|  |  |  |
|  |  | publicLoadResultOpenLibrary(string?fileName) |
|  |  | publicIntPtrOpenLibrary(stringfileName,boolglobal) |
|  |  | { |
|  |  | varloadedLib=NativeOpenLibraryLibdl(fileName,0x00001); |
|  |  |  |
|  |  | if(loadedLib==IntPtr.Zero) |
|  |  | { |
|  |  | varerrorMessage=Marshal.PtrToStringAnsi(GetLoadError())??"Unknown error"; |
|  |  |  |
|  |  | returnLoadResult.Failure(errorMessage); |
|  |  | } |
|  |  | returnNativeOpenLibraryLibdl(fileName,global?0x00102:0x00001); |
|  |  | } |
|  |  |  |
|  |  | returnLoadResult.Success; |
|  |  | publicstringGetLastError() |
|  |  | { |
|  |  | returnMarshal.PtrToStringAnsi(GetLoadError())??"Unknown error"; |
|  |  | } |
|  |  | } |

101 changes: 65 additions & 36 deletions
101 [Whisper.net/LibraryLoader/NativeLibraryLoader.cs](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea "Whisper.net/LibraryLoader/NativeLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/LibraryLoader/NativeLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,10 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  | usingWhisper.net.Internals.Native.Implementations; |
|  |  | #if !IOS&&!MACCATALYST&&!TVOS&&!ANDROID |
|  |  | #if !NETSTANDARD |
|  |  | usingSystem.Runtime.Intrinsics.X86; |
|  |  | #endif |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  | usingWhisper.net.Native; |
|  |  | #endif |
|  |  |  |
|  |  | namespaceWhisper.net.LibraryLoader; |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -10,15 +13,21 @@ public static class NativeLibraryLoader |
|  |  | { |
|  |  | internalstaticLoadResultLoadNativeLibrary() |
|  |  | { |
|  |  | #if IOS\|\|MACCATALYST\|\|TVOS\|\|ANDROID |
|  |  | returnLoadResult.Success; |
|  |  | #if IOS\|\|MACCATALYST\|\|TVOS |
|  |  | returnLoadResult.Success(newLibraryImportInternalWhisper()); |
|  |  | #elif ANDROID |
|  |  | returnLoadResult.Success(newLibraryImportLibWhisper()); |
|  |  | #else |
|  |  | // If the user has handled loading the library themselves, we don't need to do anything. |
|  |  | if(RuntimeOptions.Instance.BypassLoading\|\|RuntimeInformation.OSArchitecture.ToString().Equals("wasm",StringComparison.OrdinalIgnoreCase)) |
|  |  | if(RuntimeOptions.Instance.BypassLoading |
|  |  | \|\|RuntimeInformation.OSArchitecture.ToString().Equals("wasm",StringComparison.OrdinalIgnoreCase)) |
|  |  | { |
|  |  | returnLoadResult.Success; |
|  |  | #if NET8\_0\_OR\_GREATER |
|  |  | returnLoadResult.Success(newLibraryImportLibWhisper()); |
|  |  | #else |
|  |  | returnLoadResult.Success(newDllImportsNativeLibWhisper()); |
|  |  | #endif |
|  |  | } |
|  |  |  |
|  |  | returnLoadLibraryComponent(); |
|  |  | } |
|  |  |  |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -32,15 +41,19 @@ \_ when RuntimeInformation.IsOSPlatform(OSPlatform.OSX) => "macos", |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Unsupported OS platform, architecture: {RuntimeInformation.OSArchitecture}") |
|  |  | }; |
|  |  |  |
|  |  | #if NETSTANDARD |
|  |  | ILibraryLoaderlibraryLoader=platformswitch |
|  |  | { |
|  |  | "win"=>newWindowsLibraryLoader(), |
|  |  | "macos"=>newMacOsLibraryLoader(), |
|  |  | "linux"=>newLinuxLibraryLoader(), |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Currently {platform} platform is not supported") |
|  |  | }; |
|  |  | #else |
|  |  | varlibraryLoader=newUniversalLibraryLoader(); |
|  |  | #endif |
|  |  |  |
|  |  | LoadResult?lastError=null; |
|  |  | string?lastError=null; |
|  |  |  |
|  |  | foreach(var(runtimePath,runtimeLibrary)inGetRuntimePaths(platform)) |
|  |  | { |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -49,37 +62,41 @@ \_ when RuntimeInformation.IsOSPlatform(OSPlatform.OSX) => "macos", |
|  |  | { |
|  |  | continue; |
|  |  | } |
|  |  | varwhisperPath=GetLibraryPath(platform,"whisper",runtimePath); |
|  |  |  |
|  |  | varggmlLoadResult=libraryLoader.OpenLibrary(ggmlPath); |
|  |  |  |
|  |  | varggmlLibraryHandle=libraryLoader.OpenLibrary(ggmlPath,global:true); |
|  |  | // Maybe GPU is not available but we still have other runtime installed |
|  |  | if(!ggmlLoadResult.IsSuccess) |
|  |  | if(ggmlLibraryHandle==IntPtr.Zero) |
|  |  | { |
|  |  | lastError=ggmlLoadResult; |
|  |  | lastError=libraryLoader.GetLastError(); |
|  |  | continue; |
|  |  | } |
|  |  |  |
|  |  | // Ggml was loaded, for this runtimePath, we need to load whisper as well |
|  |  | varwhisperPath=GetLibraryPath(platform,"whisper",runtimePath); |
|  |  | varwhisperLoaded=libraryLoader.OpenLibrary(whisperPath); |
|  |  |  |
|  |  | if(whisperLoaded.IsSuccess) |
|  |  | varwhisperHandle=libraryLoader.OpenLibrary(whisperPath,global:true); |
|  |  | if(whisperHandle!=IntPtr.Zero) |
|  |  | { |
|  |  | RuntimeOptions.Instance.SetLoadedLibrary(runtimeLibrary); |
|  |  | returnwhisperLoaded; |
|  |  | #if NETSTANDARD |
|  |  | varnativeWhisper=newDllImportsNativeWhisper(); |
|  |  | #else |
|  |  | varnativeWhisper=newNativeLibraryWhisper(whisperHandle,ggmlLibraryHandle); |
|  |  | #endif |
|  |  |  |
|  |  | returnLoadResult.Success(nativeWhisper); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | // We don't have any error, so we couldn't even find some library to load. |
|  |  | if(lastError==null) |
|  |  | { |
|  |  | thrownewFileNotFoundException($"Native Library not found in default paths."+ |
|  |  | thrownewFileNotFoundException($"Native Library not found in default paths."+ |
|  |  | $"Verify you have have included the native Whisper library in your application, "+ |
|  |  | $"or install the default libraries with the Whisper.net.Runtime NuGet."); |
|  |  | } |
|  |  |  |
|  |  | // Runtime was found but couldn't be loaded. |
|  |  | returnlastError; |
|  |  | returnLoadResult.Failure(lastError); |
|  |  | } |
|  |  |  |
|  |  | privatestaticstringGetLibraryPath(stringplatform,stringlibraryName,stringruntimePath) |
| [Expand All](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand All | @@ -105,33 +122,45 @@ private static string GetLibraryPath(string platform, string libraryName, string |
|  |  | \_ =>thrownewPlatformNotSupportedException($"Unsupported OS platform, architecture: {RuntimeInformation.OSArchitecture}") |
|  |  | }; |
|  |  |  |
|  |  | varassemblySearchPath=new\[\] |
|  |  | varassemblySearchPaths=new\[\] |
|  |  | { |
|  |  | AppDomain.CurrentDomain.RelativeSearchPath, |
|  |  | Path.GetDirectoryName(typeof(NativeMethods).Assembly.Location), |
|  |  | AppDomain.CurrentDomain.BaseDirectory, |
|  |  | Path.GetDirectoryName(typeof(NativeLibraryLoader).Assembly.Location), |
|  |  | Path.GetDirectoryName(Environment.GetCommandLineArgs()\[0\]) |
|  |  | }.Where(it =>!string.IsNullOrEmpty(it)).FirstOrDefault(); |
|  |  |  |
|  |  | varruntimesPath=string.IsNullOrEmpty(assemblySearchPath) |
|  |  | ?"runtimes" |
|  |  | :Path.Combine(assemblySearchPath,"runtimes"); |
|  |  | }.Where(it =>!string.IsNullOrEmpty(it)); |
|  |  |  |
|  |  | foreach(varlibraryinRuntimeOptions.Instance.RuntimeLibraryOrder) |
|  |  | { |
|  |  | varruntimePath=libraryswitch |
|  |  | #if !NETSTANDARD |
|  |  | if(library==RuntimeLibrary.Cpu&&(platform=="win"\|\|platform=="linux")&&!Avx.IsSupported&&!Avx2.IsSupported) |
|  |  | { |
|  |  | RuntimeLibrary.Cuda=>Path.Combine(runtimesPath,"cuda",$"{platform}-{architecture}"), |
|  |  | RuntimeLibrary.Vulkan=>Path.Combine(runtimesPath,"vulkan",$"{platform}-{architecture}"), |
|  |  | RuntimeLibrary.Cpu=>Path.Combine(runtimesPath,$"{platform}-{architecture}"), |
|  |  | RuntimeLibrary.CoreML=>Path.Combine(runtimesPath,"coreml",$"{platform}-{architecture}"), |
|  |  | RuntimeLibrary.OpenVino=>Path.Combine(runtimesPath,"openvino",$"{platform}-{architecture}"), |
|  |  | \_ =>thrownewInvalidOperationException("Unknown runtime library") |
|  |  | }; |
|  |  |  |
|  |  | if(Directory.Exists(runtimePath)) |
|  |  | continue; |
|  |  | } |
|  |  | #endif |
|  |  | foreach(varassemblySearchPathinassemblySearchPaths) |
|  |  | { |
|  |  | yieldreturn(runtimePath,library); |
|  |  |  |
|  |  | varruntimesPath=string.IsNullOrEmpty(assemblySearchPath) |
|  |  | ?"runtimes" |
|  |  | :Path.Combine(assemblySearchPath,"runtimes"); |
|  |  | varruntimePath=libraryswitch |
|  |  | { |
|  |  | RuntimeLibrary.Cuda=>Path.Combine(runtimesPath,"cuda",$"{platform}-{architecture}"), |
|  |  | RuntimeLibrary.Vulkan=>Path.Combine(runtimesPath,"vulkan",$"{platform}-{architecture}"), |
|  |  | RuntimeLibrary.Cpu=>Path.Combine(runtimesPath,$"{platform}-{architecture}"), |
|  |  | RuntimeLibrary.CpuNoAvx=>Path.Combine(runtimesPath,"noavx",$"{platform}-{architecture}"), |
|  |  | RuntimeLibrary.CoreML=>Path.Combine(runtimesPath,"coreml",$"{platform}-{architecture}"), |
|  |  | RuntimeLibrary.OpenVino=>Path.Combine(runtimesPath,"openvino",$"{platform}-{architecture}"), |
|  |  | \_ =>thrownewInvalidOperationException("Unknown runtime library") |
|  |  | }; |
|  |  |  |
|  |  | if(Directory.Exists(runtimePath)) |
|  |  | { |
|  |  | yieldreturn(runtimePath,library); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | #endif |
| [Expand Down](#diff-ff57ed519e83a61fa2d11b0278481279c8298ae4836d4a90c271cc5ca372c5ea) Expand Down |  |

3 changes: 2 additions & 1 deletion
3 [Whisper.net/LibraryLoader/RuntimeLibrary.cs](#diff-8fb4833b55762e46dd059cb10bfc66d0e73323a21ab37c9f1eb569ceaf0f7e69 "Whisper.net/LibraryLoader/RuntimeLibrary.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/LibraryLoader/RuntimeLibrary.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-8fb4833b55762e46dd059cb10bfc66d0e73323a21ab37c9f1eb569ceaf0f7e69) Expand Up | @@ -8,5 +8,6 @@ public enum RuntimeLibrary |
|  |  | Cuda, |
|  |  | Vulkan, |
|  |  | CoreML, |
|  |  | OpenVino |
|  |  | OpenVino, |
|  |  | CpuNoAvx |
|  |  | } |

2 changes: 1 addition & 1 deletion
2 [Whisper.net/LibraryLoader/RuntimeOptions.cs](#diff-aef1726bc422b36cb90b3458d11d126faf9582a0050744272aff4b80a2d15c71 "Whisper.net/LibraryLoader/RuntimeOptions.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/LibraryLoader/RuntimeOptions.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-aef1726bc422b36cb90b3458d11d126faf9582a0050744272aff4b80a2d15c71) Expand Up | @@ -4,7 +4,7 @@ namespace Whisper.net.LibraryLoader; |
|  |  |  |
|  |  | publicclassRuntimeOptions |
|  |  | { |
|  |  | privatestaticreadonlyList<RuntimeLibrary>defaultRuntimeOrder=\[RuntimeLibrary.Cuda,RuntimeLibrary.Vulkan,RuntimeLibrary.CoreML,RuntimeLibrary.OpenVino,RuntimeLibrary.Cpu\]; |
|  |  | privatestaticreadonlyList<RuntimeLibrary>defaultRuntimeOrder=\[RuntimeLibrary.Cuda,RuntimeLibrary.Vulkan,RuntimeLibrary.CoreML,RuntimeLibrary.OpenVino,RuntimeLibrary.Cpu,RuntimeLibrary.CpuNoAvx\]; |
|  |  | internalboolBypassLoading{get;privateset;} |
|  |  | internalstring?LibraryPath{get;privateset;} |
|  |  | internalboolUseGpu{get;privateset;} |
| [Expand Down](#diff-aef1726bc422b36cb90b3458d11d126faf9582a0050744272aff4b80a2d15c71) Expand Down |  |

19 changes: 19 additions & 0 deletions
19 [Whisper.net/LibraryLoader/UniversalLibraryLoader.cs](#diff-276ce32c4b01e95f16da2ba0b63142493135d58f64b4e75047c762119653de30 "Whisper.net/LibraryLoader/UniversalLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/LibraryLoader/UniversalLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,19 @@ |
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |
|  |  |  |
|  |  | #if !NETSTANDARD |
|  |  | usingSystem.Runtime.InteropServices; |
|  |  |  |
|  |  | namespaceWhisper.net.LibraryLoader; |
|  |  | internalclassUniversalLibraryLoader:ILibraryLoader |
|  |  | { |
|  |  | publicstringGetLastError() |
|  |  | { |
|  |  | return"Cannot load the library on this platform using NativeLibrary"; |
|  |  | } |
|  |  |  |
|  |  | publicIntPtrOpenLibrary(stringfileName,boolglobal) |
|  |  | { |
|  |  | returnNativeLibrary.Load(fileName,System.Reflection.Assembly.GetExecutingAssembly(),DllImportSearchPath.AssemblyDirectory); |
|  |  | } |
|  |  | } |
|  |  | #endif |

23 changes: 10 additions & 13 deletions
23 [Whisper.net/LibraryLoader/WindowsLibraryLoader.cs](#diff-b823a8dc26417be19f6376083d39ce835122414836cbe36454feb33be9022a61 "Whisper.net/LibraryLoader/WindowsLibraryLoader.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/LibraryLoader/WindowsLibraryLoader.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-b823a8dc26417be19f6376083d39ce835122414836cbe36454feb33be9022a61) Expand Up | @@ -7,20 +7,17 @@ namespace Whisper.net.LibraryLoader; |
|  |  |  |
|  |  | internalclassWindowsLibraryLoader:ILibraryLoader |
|  |  | { |
|  |  | publicLoadResultOpenLibrary(string?fileName) |
|  |  | { |
|  |  | varloadedLib=LoadLibrary(fileName); |
|  |  |  |
|  |  | if(loadedLib==IntPtr.Zero) |
|  |  | { |
|  |  | varerrorCode=Marshal.GetLastWin32Error(); |
|  |  | varerrorMessage=newWin32Exception(errorCode).Message; |
|  |  | returnLoadResult.Failure(errorMessage); |
|  |  | } |
|  |  | \[DllImport("kernel32",SetLastError=true,CharSet=CharSet.Auto)\] |
|  |  | privatestaticexternIntPtrLoadLibrary(\[MarshalAs(UnmanagedType.LPTStr)\]string?lpFileName); |
|  |  |  |
|  |  | returnLoadResult.Success; |
|  |  | publicIntPtrOpenLibrary(stringfileName,boolglobal) |
|  |  | { |
|  |  | returnLoadLibrary(fileName); |
|  |  | } |
|  |  |  |
|  |  | \[DllImport("kernel32",SetLastError=true,CharSet=CharSet.Auto)\] |
|  |  | privatestaticexternIntPtrLoadLibrary(\[MarshalAs(UnmanagedType.LPTStr)\]string?lpFileName); |
|  |  | publicstringGetLastError() |
|  |  | { |
|  |  | varerrorCode=Marshal.GetLastWin32Error(); |
|  |  | returnnewWin32Exception(errorCode).Message; |
|  |  | } |
|  |  | } |

19 changes: 9 additions & 10 deletions
19 [Whisper.net/Logger/LogProvider.cs](#diff-4c6ff3a237b6f413268d08e276a576833d4548599dd99b466ecaaacbd154dc77 "Whisper.net/Logger/LogProvider.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Logger/LogProvider.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-4c6ff3a237b6f413268d08e276a576833d4548599dd99b466ecaaacbd154dc77) Expand Up | @@ -20,27 +20,26 @@ private LogProvider() |
|  |  |  |
|  |  | publiceventAction<WhisperLogLevel,string?>?OnLog; |
|  |  |  |
|  |  | internalstaticvoidInitializeLogging() |
|  |  | internalstaticvoidInitializeLogging(INativeWhispernativeWhisper) |
|  |  | { |
|  |  | IntPtrfuncPointer; |
|  |  | #if NET6\_0\_OR\_GREATER |
|  |  | #if NETSTANDARD |
|  |  | funcPointer=Marshal.GetFunctionPointerForDelegate(logCallback); |
|  |  | #else |
|  |  | unsafe |
|  |  | { |
|  |  | delegate\* unmanaged\[Cdecl\]<GgmlLogLevel,IntPtr,IntPtr,void>onLogging=&LogUnmanaged; |
|  |  | funcPointer=(IntPtr)onLogging; |
|  |  | } |
|  |  | #else |
|  |  | funcPointer=Marshal.GetFunctionPointerForDelegate(logCallback); |
|  |  | #endif |
|  |  | NativeMethods.whisper\_log\_set(funcPointer,IntPtr.Zero); |
|  |  | GgmlNativeMethods.ggml\_log\_set(funcPointer,IntPtr.Zero); |
|  |  | nativeWhisper.Ggml\_log\_set(funcPointer,IntPtr.Zero); |
|  |  | nativeWhisper.Whisper\_Log\_Set(funcPointer,IntPtr.Zero); |
|  |  | } |
|  |  |  |
|  |  | #if NET6\_0\_OR\_GREATER |
|  |  | \[UnmanagedCallersOnly(CallConvs=\[typeof(System.Runtime.CompilerServices.CallConvCdecl)\])\] |
|  |  | \# else |
|  |  |  |
|  |  | #if NETSTANDARD |
|  |  | privatestaticreadonlyWhisperGgmlLogCallbacklogCallback=LogUnmanaged; |
|  |  | \# else |
|  |  | \[UnmanagedCallersOnly(CallConvs=\[typeof(System.Runtime.CompilerServices.CallConvCdecl)\])\] |
|  |  | #endif |
|  |  | internalstaticvoidLogUnmanaged(GgmlLogLevellevel,IntPtrmessage,IntPtruser\_data) |
|  |  | { |
| [Expand Down](#diff-4c6ff3a237b6f413268d08e276a576833d4548599dd99b466ecaaacbd154dc77) Expand Down |  |

12 changes: 6 additions & 6 deletions
12 [Whisper.net/Wave/WaveParser.cs](#diff-7d672ed0d352a5333188c670a7ad98b9721a951fdf5fe73dee5ed922830ad5de "Whisper.net/Wave/WaveParser.cs")

Show comments


[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Wave/WaveParser.cs)
Edit file

Delete file


This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| [Expand Up](#diff-7d672ed0d352a5333188c670a7ad98b9721a951fdf5fe73dee5ed922830ad5de) Expand Up | @@ -221,11 +221,11 @@ private async IAsyncEnumerable<long\[\]> InternalReadSamples(bool useAsync, \[Enume |\
|  |  | varmaxBytesToRead=(int)Math.Min(buffer.Length,(SamplesCount-sampleIndex)\*FrameSize); |\
|  |  | if(useAsync) |\
|  |  | { |\
|  |  | #if NET6\_0\_OR\_GREATER |\
|  |  | #if NETSTANDARD |\
|  |  | bytesRead=awaitwaveStream.ReadAsync(buffer,0,maxBytesToRead,cancellationToken); |\
|  |  | #else |\
|  |  | varmemoryToUse=maxBytesToRead==buffer.Length?memoryBuffer:memoryBuffer\[..maxBytesToRead\]; |\
|  |  | bytesRead=awaitwaveStream.ReadAsync(memoryToUse,cancellationToken); |\
|  |  | #else |\
|  |  | bytesRead=awaitwaveStream.ReadAsync(buffer,0,maxBytesToRead,cancellationToken); |\
|  |  | #endif |\
|  |  | } |\
|  |  | else |\
| [Expand Down](#diff-7d672ed0d352a5333188c670a7ad98b9721a951fdf5fe73dee5ed922830ad5de) Expand Down [Expand Up](#diff-7d672ed0d352a5333188c670a7ad98b9721a951fdf5fe73dee5ed922830ad5de) Expand Up | @@ -270,10 +270,10 @@ async Task<int> ReadBytesAsync(byte\[\] buffer, int offset, int count) |\
|  |  | { |\
|  |  | if(useAsync) |\
|  |  | { |\
|  |  | #if NET6\_0\_OR\_GREATER |\
|  |  | returnawaitwaveStream.ReadAsync(buffer.AsMemory(offset,count),cancellationToken); |\
|  |  | #else |\
|  |  | #if NETSTANDARD |\
|  |  | returnawaitwaveStream.ReadAsync(buffer,offset,count,cancellationToken); |\
|  |  | #else |\
|  |  | returnawaitwaveStream.ReadAsync(buffer.AsMemory(offset,count),cancellationToken); |\
|  |  | #endif |\
|  |  | } |\
|  |  |  |\
| [Expand Down](#diff-7d672ed0d352a5333188c670a7ad98b9721a951fdf5fe73dee5ed922830ad5de) Expand Down |  |\
\
21 changes: 15 additions & 6 deletions\
21 [Whisper.net/Whisper.net.csproj](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8 "Whisper.net/Whisper.net.csproj")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/Whisper.net.csproj)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand Up | @@ -4,7 +4,7 @@ |\
|  |  | <ImplicitUsings>enable</ImplicitUsings> |\
|  |  | <Nullable>enable</Nullable> |\
|  |  | <LangVersion>12</LangVersion> |\
|  |  | <Version>1.7.0</Version> |\
|  |  | <Version>1.7.1</Version> |\
|  |  | <Authors>Sandro Hanea</Authors> |\
|  |  | <Description>Cross-platform dotnet bindings for Whisper.</Description> |\
|  |  | <PackageProjectUrl>https://github.com/sandrohanea/whisper.net</PackageProjectUrl> |\
| [Expand All](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand All | @@ -20,13 +20,17 @@ |\
|  |  | <NoneInclude="..\\readme.md"Pack="true"PackagePath="" /> |\
|  |  | </ItemGroup> |\
|  |  |  |\
|  |  | <PropertyGroupCondition="$(\[MSBuild\]::IsOSPlatform('Linux'))"> |\
|  |  | <TargetFrameworks>net8.0</TargetFrameworks> |\
|  |  | <PropertyGroup> |\
|  |  | <TargetFrameworks>net8.0;net6.0;netstandard2.0</TargetFrameworks> |\
|  |  | </PropertyGroup> |\
|  |  |  |\
|  |  | <PropertyGroupCondition="$(\[MSBuild\]::IsOSPlatform('OSX')) Or $(\[MSBuild\]::IsOSPlatform('Windows'))"> |\
|  |  | <!--<PropertyGroup> |\
|  |  | <USE\_WHISPER\_MAUI>TRUE</USE\_WHISPER\_MAUI> |\
|  |  | </PropertyGroup>--> |\
|  |  |  |\
|  |  | <PropertyGroupCondition="$(USE\_WHISPER\_MAUI) != ''"> |\
|  |  | <TargetFrameworks> |\
|  |  | net8.0;net6.0;netstandard2.0;net8.0-ios;net8.0-tvos;net8.0-maccatalyst |\
|  |  | net8.0;net6.0;netstandard2.0;net8.0-ios;net8.0-tvos;net8.0-maccatalyst;net8.0-android |\
|  |  | </TargetFrameworks> |\
|  |  | </PropertyGroup> |\
|  |  |  |\
| [Expand All](#diff-1e6efca4d3eb5af047dd5e0628fad7df48807ca5628f85866b69ec30c5a083d8) Expand All | @@ -36,5 +40,10 @@ |\
|  |  | <PackageReferenceInclude="System.IO.Compression" /> |\
|  |  | <PackageReferenceInclude="System.Net.Http" /> |\
|  |  | </ItemGroup> |\
|  |  |  |\
|  |  | <ItemGroup> |\
|  |  | <InternalsVisibleToInclude="Whisper.net.Maui.Tests" /> |\
|  |  | <InternalsVisibleToInclude="Whisper.net.Tests" /> |\
|  |  | </ItemGroup> |\
|  |  |  |\
|  |  | </Project> |\
|  |  | </Project> |\
\
11 changes: 5 additions & 6 deletions\
11 [Whisper.net/WhisperFactory.cs](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea "Whisper.net/WhisperFactory.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/WhisperFactory.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand Up | @@ -3,7 +3,6 @@ |\
|  |  | usingWhisper.net.Internals.ModelLoader; |\
|  |  | usingWhisper.net.LibraryLoader; |\
|  |  | usingWhisper.net.Logger; |\
|  |  | usingWhisper.net.Native; |\
|  |  |  |\
|  |  | namespaceWhisper.net; |\
|  |  |  |\
| [Expand All](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand All | @@ -24,7 +23,7 @@ public sealed class WhisperFactory : IDisposable |\
|  |  | varlibraryLoaded=NativeLibraryLoader.LoadNativeLibrary(); |\
|  |  | if(libraryLoaded.IsSuccess) |\
|  |  | { |\
|  |  | LogProvider.InitializeLogging(); |\
|  |  | LogProvider.InitializeLogging(libraryLoaded.NativeWhisper!); |\
|  |  | } |\
|  |  | returnlibraryLoaded; |\
|  |  | },true); |\
| [Expand All](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand All | @@ -39,12 +38,12 @@ private WhisperFactory(IWhisperProcessorModelLoader loader, bool delayInit) |\
|  |  | this.loader=loader; |\
|  |  | if(!delayInit) |\
|  |  | { |\
|  |  | varnativeContext=loader.LoadNativeContext(); |\
|  |  | varnativeContext=loader.LoadNativeContext(libraryLoaded.Value.NativeWhisper!); |\
|  |  | contextLazy=newLazy<IntPtr>(()=>nativeContext); |\
|  |  | } |\
|  |  | else |\
|  |  | { |\
|  |  | contextLazy=newLazy<IntPtr>(()=>loader.LoadNativeContext(),isThreadSafe:false); |\
|  |  | contextLazy=newLazy<IntPtr>(()=>loader.LoadNativeContext(libraryLoaded.Value.NativeWhisper!),isThreadSafe:false); |\
|  |  | } |\
|  |  | } |\
|  |  |  |\
| [Expand Down](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand Down [Expand Up](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand Up | @@ -95,7 +94,7 @@ public WhisperProcessorBuilder CreateBuilder() |\
|  |  | thrownewWhisperModelLoadException("Failed to load the whisper model."); |\
|  |  | } |\
|  |  |  |\
|  |  | returnnewWhisperProcessorBuilder(contextLazy.Value); |\
|  |  | returnnewWhisperProcessorBuilder(contextLazy.Value,libraryLoaded.Value.NativeWhisper!); |\
|  |  | } |\
|  |  |  |\
|  |  | publicvoidDispose() |\
| [Expand All](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand All | @@ -106,7 +105,7 @@ public void Dispose() |\
|  |  | } |\
|  |  | if(contextLazy.IsValueCreated&&contextLazy.Value!=IntPtr.Zero) |\
|  |  | { |\
|  |  | NativeMethods.whisper\_free(contextLazy.Value); |\
|  |  | libraryLoaded.Value.NativeWhisper!.Whisper\_Free(contextLazy.Value); |\
|  |  | } |\
|  |  | loader.Dispose(); |\
|  |  | wasDisposed=true; |\
| [Expand Down](#diff-d5e496f04b45a146de7fffa6b94601c9914d63fcedb85624efbcb96b7a5cbbea) Expand Down |  |\
\
107 changes: 54 additions & 53 deletions\
107 [Whisper.net/WhisperProcessor.cs](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050 "Whisper.net/WhisperProcessor.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/WhisperProcessor.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Up | @@ -4,6 +4,7 @@ |\
|  |  | usingSystem.Runtime.CompilerServices; |\
|  |  | usingSystem.Runtime.InteropServices; |\
|  |  | usingWhisper.net.Internals; |\
|  |  | usingWhisper.net.Internals.Native; |\
|  |  | usingWhisper.net.LibraryLoader; |\
|  |  | usingWhisper.net.Native; |\
|  |  | usingWhisper.net.SamplingStrategy; |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -23,6 +24,7 @@ public sealed class WhisperProcessor : IAsyncDisposable, IDisposable |\
|  |  |  |\
|  |  | privatereadonlyIntPtrcurrentWhisperContext; |\
|  |  | privatereadonlyWhisperProcessorOptionsoptions; |\
|  |  | privatereadonlyINativeWhispernativeWhisper; |\
|  |  | privatereadonlyList<GCHandle>gcHandles=\[\]; |\
|  |  | privatereadonlySemaphoreSlimprocessingSemaphore; |\
|  |  | privateWhisperFullParamswhisperParams; |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -36,9 +38,10 @@ public sealed class WhisperProcessor : IAsyncDisposable, IDisposable |\
|  |  | // Id is used to identify the current instance when calling the callbacks from C++ |\
|  |  | privatereadonlylongmyId; |\
|  |  |  |\
|  |  | internalWhisperProcessor(WhisperProcessorOptionsoptions) |\
|  |  | internalWhisperProcessor(WhisperProcessorOptionsoptions,INativeWhispernativeWhisper) |\
|  |  | { |\
|  |  | this.options=options; |\
|  |  | this.nativeWhisper=nativeWhisper; |\
|  |  | myId=Interlocked.Increment(refcurrentProcessorId); |\
|  |  |  |\
|  |  | processorInstances\[myId\]=this; |\
| [Expand Down](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Down [Expand Up](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Up | @@ -89,7 +92,6 @@ public void ChangeLanguage(string? newLanguage) |\
|  |  | /// For the given audio input, detects the most probable language and also returns the probability of this language to be correct. |\
|  |  | /// </summary> |\
|  |  | /// <param name="samples"></param> |\
|  |  | /// <param name="speedUp"></param> |\
|  |  | /// <returns></returns> |\
|  |  | public(string?language,floatprobability)DetectLanguageWithProbability(float\[\]samples) |\
|  |  | { |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -100,11 +102,10 @@ public void ChangeLanguage(string? newLanguage) |\
|  |  | /// For the given audio input, detects the most probable language and also returns the probability of this language to be correct. |\
|  |  | /// </summary> |\
|  |  | /// <param name="samples"></param> |\
|  |  | /// <param name="speedUp"></param> |\
|  |  | /// <returns></returns> |\
|  |  | publicunsafe(string?language,floatprobability)DetectLanguageWithProbability(ReadOnlySpan<float>samples) |\
|  |  | { |\
|  |  | varprobs=newfloat\[NativeMethods.whisper\_lang\_max\_id()\]; |\
|  |  | varprobs=newfloat\[nativeWhisper.Whisper\_Lang\_Max\_Id()\]; |\
|  |  |  |\
|  |  | fixed (float\*pData=probs) |\
|  |  | { |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -113,20 +114,20 @@ public unsafe (string? language, float probability) DetectLanguageWithProbabilit |\
|  |  | { |\
|  |  | fixed (float\*pSamples=samples) |\
|  |  | { |\
|  |  | NativeMethods.whisper\_pcm\_to\_mel\_with\_state(currentWhisperContext,state,(IntPtr)pSamples,samples.Length,whisperParams.Threads); |\
|  |  | nativeWhisper.Whisper\_PCM\_To\_Mel\_With\_State(currentWhisperContext,state,(IntPtr)pSamples,samples.Length,whisperParams.Threads); |\
|  |  | } |\
|  |  | varlangId=NativeMethods.whisper\_lang\_auto\_detect\_with\_state(currentWhisperContext,state,0,whisperParams.Threads,(IntPtr)pData); |\
|  |  | varlangId=nativeWhisper.Whisper\_Lang\_Auto\_Detect\_With\_State(currentWhisperContext,state,0,whisperParams.Threads,(IntPtr)pData); |\
|  |  | if(langId==-1) |\
|  |  | { |\
|  |  | return(null,0f); |\
|  |  | } |\
|  |  | varlanguagePtr=NativeMethods.whisper\_lang\_str(langId); |\
|  |  | varlanguagePtr=nativeWhisper.Whisper\_Lang\_Str(langId); |\
|  |  | varlanguage=Marshal.PtrToStringAnsi(languagePtr); |\
|  |  | return(language,probs\[langId\]); |\
|  |  | } |\
|  |  | finally |\
|  |  | { |\
|  |  | NativeMethods.whisper\_free\_state(state); |\
|  |  | nativeWhisper.Whisper\_Free\_State(state); |\
|  |  | } |\
|  |  | } |\
|  |  | } |\
| [Expand Down](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Down [Expand Up](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Up | @@ -174,11 +175,11 @@ public unsafe void Process(ReadOnlySpan<float> samples) |\
|  |  | processingSemaphore.Wait(); |\
|  |  | segmentIndex=0; |\
|  |  |  |\
|  |  | NativeMethods.whisper\_full\_with\_state(currentWhisperContext,state,whisperParams,(IntPtr)pData,samples.Length); |\
|  |  | nativeWhisper.Whisper\_Full\_With\_State(currentWhisperContext,state,whisperParams,(IntPtr)pData,samples.Length); |\
|  |  | } |\
|  |  | finally |\
|  |  | { |\
|  |  | NativeMethods.whisper\_free\_state(state); |\
|  |  | nativeWhisper.Whisper\_Free\_State(state); |\
|  |  | processingSemaphore.Release(); |\
|  |  | } |\
|  |  | } |\
| [Expand Down](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Down [Expand Up](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Up | @@ -326,11 +327,11 @@ private unsafe Task ProcessInternalAsync(ReadOnlyMemory<float> samples, Cancella |\
|  |  |  |\
|  |  | try |\
|  |  | { |\
|  |  | NativeMethods.whisper\_full\_with\_state(currentWhisperContext,state,whisperParams,(IntPtr)pData,samples.Length); |\
|  |  | nativeWhisper.Whisper\_Full\_With\_State(currentWhisperContext,state,whisperParams,(IntPtr)pData,samples.Length); |\
|  |  | } |\
|  |  | finally |\
|  |  | { |\
|  |  | NativeMethods.whisper\_free\_state(state); |\
|  |  | nativeWhisper.Whisper\_Free\_State(state); |\
|  |  | processingSemaphore.Release(); |\
|  |  | } |\
|  |  | } |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -339,13 +340,13 @@ private unsafe Task ProcessInternalAsync(ReadOnlyMemory<float> samples, Cancella |\
|  |  |  |\
|  |  | privateIntPtrGetWhisperState() |\
|  |  | { |\
|  |  | varstate=NativeMethods.whisper\_init\_state(currentWhisperContext); |\
|  |  | varstate=nativeWhisper.Whisper\_Init\_State(currentWhisperContext); |\
|  |  | if(RuntimeOptions.Instance.LoadedLibrary==RuntimeLibrary.OpenVino) |\
|  |  | { |\
|  |  | varmodelPath=Marshal.StringToHGlobalAnsi(options.OpenVinoModelPath); |\
|  |  | vardevice=Marshal.StringToHGlobalAnsi(options.OpenVinoDevice); |\
|  |  | varcachePath=Marshal.StringToHGlobalAnsi(options.OpenVinoCacheDir); |\
|  |  | NativeMethods.whisper\_ctx\_init\_openvino\_encoder\_with\_state( |\
|  |  | nativeWhisper.Whisper\_Ctx\_Init\_Openvino\_Encoder\_With\_State( |\
|  |  | options.ContextHandle, |\
|  |  | state, |\
|  |  | modelPath, |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -358,9 +359,9 @@ private IntPtr GetWhisperState() |\
|  |  | privateWhisperFullParamsGetWhisperParams() |\
|  |  | { |\
|  |  | varstrategy=options.SamplingStrategy.GetNativeStrategy(); |\
|  |  | varwhisperParamsRef=NativeMethods.whisper\_full\_default\_params\_by\_ref(strategy); |\
|  |  | varwhisperParamsRef=nativeWhisper.Whisper\_Full\_Default\_Params\_By\_Ref(strategy); |\
|  |  | varwhisperParams=Marshal.PtrToStructure<WhisperFullParams>(whisperParamsRef); |\
|  |  | NativeMethods.whisper\_free\_params(whisperParamsRef); |\
|  |  | nativeWhisper.Whisper\_Free\_Params(whisperParamsRef); |\
|  |  | whisperParams.Strategy=strategy; |\
|  |  |  |\
|  |  | if(options.Threads.HasValue) |\
| [Expand Down](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Down [Expand Up](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Up | @@ -534,26 +535,7 @@ private WhisperFullParams GetWhisperParams() |\
|  |  | whisperParams.OnEncoderBeginUserData=myIntPtrId; |\
|  |  | whisperParams.OnAbortUserData=myIntPtrId; |\
|  |  |  |\
|  |  | #if NET6\_0\_OR\_GREATER |\
|  |  | unsafe |\
|  |  | { |\
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,IntPtr,int,IntPtr,void>onNewSegmentDelegate=&OnNewSegmentStatic; |\
|  |  | whisperParams.OnNewSegment=(IntPtr)onNewSegmentDelegate; |\
|  |  |  |\
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,IntPtr,IntPtr,byte>onEncoderBeginDelegate=&OnEncoderBeginStatic; |\
|  |  | whisperParams.OnEncoderBegin=(IntPtr)onEncoderBeginDelegate; |\
|  |  |  |\
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,byte>onWhisperAbortDelegate=&OnWhisperAbortStatic; |\
|  |  | whisperParams.OnAbort=(IntPtr)onWhisperAbortDelegate; |\
|  |  |  |\
|  |  | if(options.OnProgressHandlers.Count>0) |\
|  |  | { |\
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,IntPtr,int,IntPtr,void>onProgressDelegate=&OnProgressStatic; |\
|  |  | whisperParams.OnProgressCallback=(IntPtr)onProgressDelegate; |\
|  |  | whisperParams.OnProgressCallbackUserData=myIntPtrId; |\
|  |  | } |\
|  |  | } |\
|  |  | #else |\
|  |  | #if NETSTANDARD |\
|  |  | // For netframework, we don't have \`UnmanagedCallersOnlyAttribute\` so we need to use a delegate wrapped with a GC handle |\
|  |  | varonNewSegmentDelegate=newWhisperNewSegmentCallback(OnNewSegmentStatic); |\
|  |  | vargcHandle=GCHandle.Alloc(onNewSegmentDelegate); |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -578,12 +560,31 @@ private WhisperFullParams GetWhisperParams() |\
|  |  | whisperParams.OnProgressCallback=Marshal.GetFunctionPointerForDelegate(onProgressDelegate); |\
|  |  | whisperParams.OnProgressCallbackUserData=myIntPtrId; |\
|  |  | } |\
|  |  | #else |\
|  |  | unsafe |\
|  |  | { |\
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,IntPtr,int,IntPtr,void>onNewSegmentDelegate=&OnNewSegmentStatic; |\
|  |  | whisperParams.OnNewSegment=(IntPtr)onNewSegmentDelegate; |\
|  |  |  |\
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,IntPtr,IntPtr,byte>onEncoderBeginDelegate=&OnEncoderBeginStatic; |\
|  |  | whisperParams.OnEncoderBegin=(IntPtr)onEncoderBeginDelegate; |\
|  |  |  |\
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,byte>onWhisperAbortDelegate=&OnWhisperAbortStatic; |\
|  |  | whisperParams.OnAbort=(IntPtr)onWhisperAbortDelegate; |\
|  |  |  |\
|  |  | if(options.OnProgressHandlers.Count>0) |\
|  |  | { |\
|  |  | delegate\* unmanaged\[Cdecl\]<IntPtr,IntPtr,int,IntPtr,void>onProgressDelegate=&OnProgressStatic; |\
|  |  | whisperParams.OnProgressCallback=(IntPtr)onProgressDelegate; |\
|  |  | whisperParams.OnProgressCallbackUserData=myIntPtrId; |\
|  |  | } |\
|  |  | } |\
|  |  | #endif |\
|  |  |  |\
|  |  | returnwhisperParams; |\
|  |  | } |\
|  |  |  |\
|  |  | #if NET6\_0\_OR\_GREATER |\
|  |  | #if !NETSTANDARD |\
|  |  | \[UnmanagedCallersOnly(CallConvs=\[typeof(CallConvCdecl)\])\] |\
|  |  | #endif |\
|  |  | privatestaticbyteOnWhisperAbortStatic(IntPtruserData) |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -597,7 +598,7 @@ private static byte OnWhisperAbortStatic(IntPtr userData) |\
|  |  | returnshouldCancel?trueByte:falseByte; |\
|  |  | } |\
|  |  |  |\
|  |  | #if NET6\_0\_OR\_GREATER |\
|  |  | #if !NETSTANDARD |\
|  |  | \[UnmanagedCallersOnly(CallConvs=\[typeof(CallConvCdecl)\])\] |\
|  |  | #endif |\
|  |  | privatestaticvoidOnNewSegmentStatic(IntPtrctx,IntPtrstate,intnNew,IntPtruserData) |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -609,7 +610,7 @@ private static void OnNewSegmentStatic(IntPtr ctx, IntPtr state, int nNew, IntPt |\
|  |  | processor.OnNewSegment(state); |\
|  |  | } |\
|  |  |  |\
|  |  | #if NET6\_0\_OR\_GREATER |\
|  |  | #if !NETSTANDARD |\
|  |  | \[UnmanagedCallersOnly(CallConvs=\[typeof(CallConvCdecl)\])\] |\
|  |  | #endif |\
|  |  | privatestaticbyteOnEncoderBeginStatic(IntPtrctx,IntPtrstate,IntPtruserData) |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -621,7 +622,7 @@ private static byte OnEncoderBeginStatic(IntPtr ctx, IntPtr state, IntPtr userDa |\
|  |  | returnprocessor.OnEncoderBegin()?trueByte:falseByte; |\
|  |  | } |\
|  |  |  |\
|  |  | #if NET6\_0\_OR\_GREATER |\
|  |  | #if !NETSTANDARD |\
|  |  | \[UnmanagedCallersOnly(CallConvs=\[typeof(CallConvCdecl)\])\] |\
|  |  | #endif |\
|  |  | privatestaticvoidOnProgressStatic(IntPtrctx,IntPtrstate,intprogress,IntPtruserData) |\
| [Expand Down](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Down [Expand Up](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Up | @@ -676,26 +677,26 @@ private void OnNewSegment(IntPtr state) |\
|  |  | return; |\
|  |  | } |\
|  |  |  |\
|  |  | varsegments=NativeMethods.whisper\_full\_n\_segments\_from\_state(state); |\
|  |  | varsegments=nativeWhisper.Whisper\_Full\_N\_Segments\_From\_State(state); |\
|  |  |  |\
|  |  | while(segmentIndex<segments) |\
|  |  | { |\
|  |  | vart1=TimeSpan.FromMilliseconds(NativeMethods.whisper\_full\_get\_segment\_t1\_from\_state(state,segmentIndex)\*10); |\
|  |  | vart0=TimeSpan.FromMilliseconds(NativeMethods.whisper\_full\_get\_segment\_t0\_from\_state(state,segmentIndex)\*10); |\
|  |  | vartextAnsi=StringFromNativeUtf8(NativeMethods.whisper\_full\_get\_segment\_text\_from\_state(state,segmentIndex)); |\
|  |  | vart1=TimeSpan.FromMilliseconds(nativeWhisper.Whisper\_Full\_Get\_Segment\_T1\_From\_State(state,segmentIndex)\*10); |\
|  |  | vart0=TimeSpan.FromMilliseconds(nativeWhisper.Whisper\_Full\_Get\_Segment\_T0\_From\_State(state,segmentIndex)\*10); |\
|  |  | vartextAnsi=StringFromNativeUtf8(nativeWhisper.Whisper\_Full\_Get\_Segment\_Text\_From\_State(state,segmentIndex)); |\
|  |  |  |\
|  |  | floatminimumProbability=0; |\
|  |  | floatmaximumProbability=0; |\
|  |  | doublesumProbability=0; |\
|  |  | varnumberOfTokens=NativeMethods.whisper\_full\_n\_tokens\_from\_state(state,segmentIndex); |\
|  |  | varlanguageId=NativeMethods.whisper\_full\_lang\_id\_from\_state(state); |\
|  |  | varlanguage=Marshal.PtrToStringAnsi(NativeMethods.whisper\_lang\_str(languageId)); |\
|  |  | varnumberOfTokens=nativeWhisper.Whisper\_Full\_N\_Tokens\_From\_State(state,segmentIndex); |\
|  |  | varlanguageId=nativeWhisper.Whisper\_Full\_Lang\_Id\_From\_State(state); |\
|  |  | varlanguage=Marshal.PtrToStringAnsi(nativeWhisper.Whisper\_Lang\_Str(languageId)); |\
|  |  |  |\
|  |  | if(options.ComputeProbabilities) |\
|  |  | { |\
|  |  | for(vartokenIndex=0;tokenIndex<numberOfTokens;tokenIndex++) |\
|  |  | { |\
|  |  | vartokenProbability=NativeMethods.whisper\_full\_get\_token\_p\_from\_state(state,segmentIndex,tokenIndex); |\
|  |  | vartokenProbability=nativeWhisper.Whisper\_Full\_Get\_Token\_P\_From\_State(state,segmentIndex,tokenIndex); |\
|  |  | sumProbability+=tokenProbability; |\
|  |  | if(tokenIndex==0) |\
|  |  | { |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -717,7 +718,7 @@ private void OnNewSegment(IntPtr state) |\
|  |  |  |\
|  |  | if(!string.IsNullOrEmpty(textAnsi)) |\
|  |  | { |\
|  |  | vareventHandlerArgs=newSegmentData(textAnsi,t0,t1,minimumProbability,maximumProbability,(float)(sumProbability/numberOfTokens),language!); |\
|  |  | vareventHandlerArgs=newSegmentData(textAnsi!,t0,t1,minimumProbability,maximumProbability,(float)(sumProbability/numberOfTokens),language!); |\
|  |  |  |\
|  |  | foreach(varhandlerinoptions.OnSegmentEventHandlers) |\
|  |  | { |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -733,12 +734,10 @@ private void OnNewSegment(IntPtr state) |\
|  |  | } |\
|  |  | } |\
|  |  |  |\
|  |  | privatestaticstringStringFromNativeUtf8(IntPtrnativeUtf8) |\
|  |  | privatestaticstring?StringFromNativeUtf8(IntPtrnativeUtf8) |\
|  |  | { |\
|  |  |  |\
|  |  | #if NETSTANDARD2\_1\_OR\_GREATER |\
|  |  | returnMarshal.PtrToStringUTF8(nativeUtf8); |\
|  |  | #else |\
|  |  | #if NETSTANDARD |\
|  |  | varlen=0; |\
|  |  |  |\
|  |  | while(Marshal.ReadByte(nativeUtf8,len)!=0) |\
| [Expand All](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand All | @@ -749,6 +748,8 @@ private static string StringFromNativeUtf8(IntPtr nativeUtf8) |\
|  |  | varbuffer=newbyte\[len\]; |\
|  |  | Marshal.Copy(nativeUtf8,buffer,0,buffer.Length); |\
|  |  | returnSystem.Text.Encoding.UTF8.GetString(buffer); |\
|  |  | #else |\
|  |  | returnMarshal.PtrToStringUTF8(nativeUtf8); |\
|  |  | #endif |\
|  |  | } |\
|  |  |  |\
| [Expand Down](#diff-1dcd5d6f103d04ee1c712f668c21326a8b0c0858a69dc30de917229672aef050) Expand Down |  |\
\
7 changes: 5 additions & 2 deletions\
7 [Whisper.net/WhisperProcessorBuilder.cs](#diff-a0a232715f7053af60990efeed3b1a9e106ca91754c45b922ec12e1e6aa551ab "Whisper.net/WhisperProcessorBuilder.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/Whisper.net/WhisperProcessorBuilder.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -1,5 +1,6 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingWhisper.net.Internals.Native; |\
|  |  | usingWhisper.net.SamplingStrategy; |\
|  |  |  |\
|  |  | namespaceWhisper.net; |\
| [Expand All](#diff-a0a232715f7053af60990efeed3b1a9e106ca91754c45b922ec12e1e6aa551ab) Expand All | @@ -10,13 +11,15 @@ namespace Whisper.net; |\
|  |  | publicclassWhisperProcessorBuilder |\
|  |  | { |\
|  |  | privatereadonlyWhisperProcessorOptionswhisperProcessorOptions; |\
|  |  | privatereadonlyINativeWhispernativeWhisper; |\
|  |  |  |\
|  |  | internalWhisperProcessorBuilder(IntPtrcontext) |\
|  |  | internalWhisperProcessorBuilder(IntPtrcontext,INativeWhispernativeWhisper) |\
|  |  | { |\
|  |  | whisperProcessorOptions=newWhisperProcessorOptions() |\
|  |  | { |\
|  |  | ContextHandle=context |\
|  |  | }; |\
|  |  | this.nativeWhisper=nativeWhisper; |\
|  |  | } |\
|  |  |  |\
|  |  | /// <summary> |\
| [Expand Down](#diff-a0a232715f7053af60990efeed3b1a9e106ca91754c45b922ec12e1e6aa551ab) Expand Down [Expand Up](#diff-a0a232715f7053af60990efeed3b1a9e106ca91754c45b922ec12e1e6aa551ab) Expand Up | @@ -528,6 +531,6 @@ public WhisperProcessorBuilder WithOpenVinoEncoder(string? openVinoEncoderPath, |\
|  |  | /// <returns>The <seealso cref="WhisperProcessor"/> build with these configs.</returns> |\
|  |  | publicWhisperProcessorBuild() |\
|  |  | { |\
|  |  | returnnewWhisperProcessor(whisperProcessorOptions); |\
|  |  | returnnewWhisperProcessor(whisperProcessorOptions,nativeWhisper); |\
|  |  | } |\
|  |  | } |\
\
17 changes: 15 additions & 2 deletions\
17 [nuget.config](#diff-dbd515845a90a91f83cd2dbcdf41150bff6a75806900384a44afb1f0650d9cc9 "nuget.config")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/nuget.config)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -1,8 +1,21 @@ |\
|  |  | <?xml version="1.0" encoding="utf-8"?> |\
|  |  | <?xml version="1.0" encoding="utf-8"?> |\
|  |  | <configuration> |\
|  |  | <packageSources> |\
|  |  | <clear /> |\
|  |  | <addkey="public\_nugget"value="https://api.nuget.org/v3/index.json" /> |\
|  |  | <addkey="Local Whisper"value="C:\\Projects\\sandrohanea\\whisper.net\\nupkgs" /> |\
|  |  | <addkey="dotnet-eng"value="https://pkgs.dev.azure.com/dnceng/public/\_packaging/dotnet-eng/nuget/v3/index.json"protocolVersion="3" /> |\
|  |  | <!--<add key="Local Whisper" value="C:\\Projects\\sandrohanea\\whisper.net\\nupkgs" />--> |\
|  |  | </packageSources> |\
|  |  |  |\
|  |  | <packageSourceMapping> |\
|  |  | <!-- key value for <packageSource> should match key values from <packageSources> element --> |\
|  |  | <packageSourcekey="public\_nugget"> |\
|  |  | <packagepattern="\*" /> |\
|  |  | </packageSource> |\
|  |  | <packageSourcekey="dotnet-eng"> |\
|  |  | <packagepattern="Microsoft.DotNet.XHarness" /> |\
|  |  | <packagepattern="Microsoft.DotNet.XHarness.\*" /> |\
|  |  | </packageSource> |\
|  |  | </packageSourceMapping> |\
|  |  |  |\
|  |  | </configuration> |\
\
260 changes: 142 additions & 118 deletions\
260 [readme.md](#diff-5a831ea67cf5cf8703b0de46901ab25bd191f56b320053be9332d9a3b0d01d15 "readme.md")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/readme.md)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Large diffs are not rendered by default.\
\
\
Oops, something went wrong.\
Retry\
\
29 changes: 29 additions & 0 deletions\
29 [runtimes/Whisper.net.AllRuntimes.nuspec](#diff-b2e0f258b05c4dafc3a95ea5a3c18926e21a806f76c71519f6412242e07b4b78 "runtimes/Whisper.net.AllRuntimes.nuspec")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.AllRuntimes.nuspec)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,29 @@ |\
|  |  | <?xml version="1.0"?> |\
|  |  | <package> |\
|  |  | <metadata> |\
|  |  | <id>Whisper.net.AllRuntimes</id> |\
|  |  | <title>Whisper.Net.AllRuntimes</title> |\
|  |  | <version>$version$</version> |\
|  |  | <authors>Sandro Hanea</authors> |\
|  |  | <owners>Sandro Hanea</owners> |\
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |\
|  |  | <summary>Cuda dotnet runtimes for Whisper.</summary> |\
|  |  | <description>Whisper.net.Runtime.Cuda contains the native runtime libraries to enable Whisper on .NET with Whisper.net and GPU support (Cuda)</description> |\
|  |  | <tags>whisper;cuda;gpu;cublas;</tags> |\
|  |  | <projectUrl>https://github.com/sandrohanea/whisper.net</projectUrl> |\
|  |  | <licensetype="expression">MIT</license> |\
|  |  | <readme>content/readme.md</readme> |\
|  |  | <dependencies> |\
|  |  | <dependencyid="Whisper.net"version="$version$" /> |\
|  |  | <dependencyid="Whisper.net.Runtime"version="$version$" /> |\
|  |  | <dependencyid="Whisper.net.Runtime.Cuda"version="$version$" /> |\
|  |  | <dependencyid="Whisper.net.Runtime.CoreML"version="$version$" /> |\
|  |  | <dependencyid="Whisper.net.Runtime.NoAvx"version="$version$" /> |\
|  |  | <dependencyid="Whisper.net.Runtime.OpenVino"version="$version$" /> |\
|  |  | <dependencyid="Whisper.net.Runtime.Vulkan"version="$version$" /> |\
|  |  | </dependencies> |\
|  |  | </metadata> |\
|  |  | <files> |\
|  |  | <filesrc="../readme.md"target="content/readme.md" /> |\
|  |  | </files> |\
|  |  | </package> |\
\
4 changes: 3 additions & 1 deletion\
4 [Whisper.net.Runtime.CoreML.nuspec → runtimes/Whisper.net.Runtime.CoreML.nuspec](#diff-d0ca6d4b12bcc3c219c405370606617323d6263761e8c786018d14b148ed75d1 "Whisper.net.Runtime.CoreML.nuspec → runtimes/Whisper.net.Runtime.CoreML.nuspec")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.CoreML.nuspec)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-d0ca6d4b12bcc3c219c405370606617323d6263761e8c786018d14b148ed75d1) Expand Up | @@ -3,7 +3,7 @@ |\
|  |  | <metadata> |\
|  |  | <id>Whisper.net.Runtime.CoreML</id> |\
|  |  | <title>Whisper.Net.Runtime.CoreML</title> |\
|  |  | <version>1.7.0</version> |\
|  |  | <version>$version$</version> |\
|  |  | <authors>Sandro Hanea</authors> |\
|  |  | <owners>Sandro Hanea</owners> |\
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |\
| [Expand All](#diff-d0ca6d4b12bcc3c219c405370606617323d6263761e8c786018d14b148ed75d1) Expand All | @@ -12,8 +12,10 @@ |\
|  |  | <tags>whisper;ios;macos;cross-platform</tags> |\
|  |  | <projectUrl>https://github.com/sandrohanea/whisper.net</projectUrl> |\
|  |  | <licensetype="expression">MIT</license> |\
|  |  | <readme>content/readme.md</readme> |\
|  |  | </metadata> |\
|  |  | <files> |\
|  |  | <filesrc="Whisper.net.Runtime.CoreML\\\*\*"target="build"/> |\
|  |  | <filesrc="../readme.md"target="content/readme.md" /> |\
|  |  | </files> |\
|  |  | </package> |\
\
0\
[...CoreML/Whisper.net.Runtime.CoreML.targets → ...CoreML/Whisper.net.Runtime.CoreML.targets](#diff-43931768d430a4d2f29c47b1d3745781ad50e92fcf78eb782952e58100f45e40 "Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets → runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.CoreML/Whisper.net.Runtime.CoreML.targets)\
Edit file\
\
Delete file\
\
\
File renamed without changes.\
\
\
4 changes: 3 additions & 1 deletion\
4 [Whisper.net.Runtime.Cuda.Linux.nuspec → ...mes/Whisper.net.Runtime.Cuda.Linux.nuspec](#diff-d395f70f4341d05129a33105191c64d55e5caa64465ddc5761bde667b178ccaf "Whisper.net.Runtime.Cuda.Linux.nuspec → runtimes/Whisper.net.Runtime.Cuda.Linux.nuspec")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.Cuda.Linux.nuspec)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-d395f70f4341d05129a33105191c64d55e5caa64465ddc5761bde667b178ccaf) Expand Up | @@ -3,7 +3,7 @@ |\
|  |  | <metadata> |\
|  |  | <id>Whisper.net.Runtime.Cuda.Linux</id> |\
|  |  | <title>Whisper.Net.Runtime.Cuda.Linux</title> |\
|  |  | <version>1.7.0</version> |\
|  |  | <version>$version$</version> |\
|  |  | <authors>Sandro Hanea</authors> |\
|  |  | <owners>Sandro Hanea</owners> |\
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |\
| [Expand All](#diff-d395f70f4341d05129a33105191c64d55e5caa64465ddc5761bde667b178ccaf) Expand All | @@ -12,8 +12,10 @@ |\
|  |  | <tags>whisper;cuda;gpu;cublas;</tags> |\
|  |  | <projectUrl>https://github.com/sandrohanea/whisper.net</projectUrl> |\
|  |  | <licensetype="expression">MIT</license> |\
|  |  | <readme>content/readme.md</readme> |\
|  |  | </metadata> |\
|  |  | <files> |\
|  |  | <filesrc="Whisper.net.Runtime.Cuda.Linux\\\*\*"target="build"/> |\
|  |  | <filesrc="../readme.md"target="content/readme.md" /> |\
|  |  | </files> |\
|  |  | </package> |\
\
0\
[...ux/Whisper.net.Runtime.Cuda.Linux.targets → ...ux/Whisper.net.Runtime.Cuda.Linux.targets](#diff-235f3f47ce527939afb29b84258fa98114ae5e008082a6252bf8f1f373ceccfd "Whisper.net.Runtime.Cuda.Linux/Whisper.net.Runtime.Cuda.Linux.targets → runtimes/Whisper.net.Runtime.Cuda.Linux/Whisper.net.Runtime.Cuda.Linux.targets")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.Cuda.Linux/Whisper.net.Runtime.Cuda.Linux.targets)\
Edit file\
\
Delete file\
\
\
File renamed without changes.\
\
\
4 changes: 3 additions & 1 deletion\
4 [Whisper.net.Runtime.Cuda.Windows.nuspec → ...s/Whisper.net.Runtime.Cuda.Windows.nuspec](#diff-45ef558ae3701a8465aec8e8364de5981be00177ddeda0aa911871c352393aa6 "Whisper.net.Runtime.Cuda.Windows.nuspec → runtimes/Whisper.net.Runtime.Cuda.Windows.nuspec")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.Cuda.Windows.nuspec)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-45ef558ae3701a8465aec8e8364de5981be00177ddeda0aa911871c352393aa6) Expand Up | @@ -3,7 +3,7 @@ |\
|  |  | <metadata> |\
|  |  | <id>Whisper.net.Runtime.Cuda.Windows</id> |\
|  |  | <title>Whisper.Net.Runtime.Cuda.Windows</title> |\
|  |  | <version>1.7.0</version> |\
|  |  | <version>$version$</version> |\
|  |  | <authors>Sandro Hanea</authors> |\
|  |  | <owners>Sandro Hanea</owners> |\
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |\
| [Expand All](#diff-45ef558ae3701a8465aec8e8364de5981be00177ddeda0aa911871c352393aa6) Expand All | @@ -12,8 +12,10 @@ |\
|  |  | <tags>whisper;cuda;gpu;cublas;</tags> |\
|  |  | <projectUrl>https://github.com/sandrohanea/whisper.net</projectUrl> |\
|  |  | <licensetype="expression">MIT</license> |\
|  |  | <readme>content/readme.md</readme> |\
|  |  | </metadata> |\
|  |  | <files> |\
|  |  | <filesrc="Whisper.net.Runtime.Cuda.Windows\\\*\*"target="build"/> |\
|  |  | <filesrc="../readme.md"target="content/readme.md" /> |\
|  |  | </files> |\
|  |  | </package> |\
\
0\
[.../Whisper.net.Runtime.Cuda.Windows.targets → .../Whisper.net.Runtime.Cuda.Windows.targets](#diff-34a49159043d802e54d5df3e702337a027a4364914a4385dd302398162fb3b00 "Whisper.net.Runtime.Cuda.Windows/Whisper.net.Runtime.Cuda.Windows.targets → runtimes/Whisper.net.Runtime.Cuda.Windows/Whisper.net.Runtime.Cuda.Windows.targets")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.Cuda.Windows/Whisper.net.Runtime.Cuda.Windows.targets)\
Edit file\
\
Delete file\
\
\
File renamed without changes.\
\
\
9 changes: 5 additions & 4 deletions\
9 [Whisper.net.Runtime.Cuda.nuspec → runtimes/Whisper.net.Runtime.Cuda.nuspec](#diff-ca24ddbf2541a3d3a34657143fab91e5177092385c8a0ad4c6d9cac5f16efc40 "Whisper.net.Runtime.Cuda.nuspec → runtimes/Whisper.net.Runtime.Cuda.nuspec")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.Cuda.nuspec)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-ca24ddbf2541a3d3a34657143fab91e5177092385c8a0ad4c6d9cac5f16efc40) Expand Up | @@ -3,7 +3,7 @@ |\
|  |  | <metadata> |\
|  |  | <id>Whisper.net.Runtime.Cuda</id> |\
|  |  | <title>Whisper.Net.Runtime.Cuda</title> |\
|  |  | <version>1.7.0</version> |\
|  |  | <version>$version$</version> |\
|  |  | <authors>Sandro Hanea</authors> |\
|  |  | <owners>Sandro Hanea</owners> |\
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |\
| [Expand All](#diff-ca24ddbf2541a3d3a34657143fab91e5177092385c8a0ad4c6d9cac5f16efc40) Expand All | @@ -12,12 +12,13 @@ |\
|  |  | <tags>whisper;cuda;gpu;cublas;</tags> |\
|  |  | <projectUrl>https://github.com/sandrohanea/whisper.net</projectUrl> |\
|  |  | <licensetype="expression">MIT</license> |\
|  |  | <readme>content/readme.md</readme> |\
|  |  | <dependencies> |\
|  |  | <dependencyid="Whisper.net.Runtime.Cuda.Windows"version="1.7.0" /> |\
|  |  | <dependencyid="Whisper.net.Runtime.Cuda.Linux"version="1.7.0" /> |\
|  |  | <dependencyid="Whisper.net.Runtime.Cuda.Windows"version="$version$" /> |\
|  |  | <dependencyid="Whisper.net.Runtime.Cuda.Linux"version="$version$" /> |\
|  |  | </dependencies> |\
|  |  | </metadata> |\
|  |  | <files> |\
|  |  |  |\
|  |  | <filesrc="../readme.md"target="content/readme.md" /> |\
|  |  | </files> |\
|  |  | </package> |\
\
21 changes: 21 additions & 0 deletions\
21 [runtimes/Whisper.net.Runtime.NoAvx.nuspec](#diff-2c4b16850df982bbd12e7f7449b7f99292a501af8cf35c5dad0780db312b9a81 "runtimes/Whisper.net.Runtime.NoAvx.nuspec")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.NoAvx.nuspec)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,21 @@ |\
|  |  | <?xml version="1.0"?> |\
|  |  | <package> |\
|  |  | <metadata> |\
|  |  | <id>Whisper.net.Runtime.NoAvx</id> |\
|  |  | <title>Whisper.Net.Runtime</title> |\
|  |  | <version>$version$</version> |\
|  |  | <authors>Sandro Hanea</authors> |\
|  |  | <owners>Sandro Hanea</owners> |\
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |\
|  |  | <summary>Cross-platform dotnet runtimes for Whisper.</summary> |\
|  |  | <description>Whisper.net.Runtime.NoAvx contains the native runtime libraries to enable Whisper on .NET apps with Whisper.Net without AVX optimizations.</description> |\
|  |  | <tags>whisper;ios;android;linux;windows;macos;cross-platform</tags> |\
|  |  | <projectUrl>https://github.com/sandrohanea/whisper.net</projectUrl> |\
|  |  | <licensetype="expression">MIT</license> |\
|  |  | <readme>content/readme.md</readme> |\
|  |  | </metadata> |\
|  |  | <files> |\
|  |  | <filesrc="Whisper.net.Runtime.NoAvx\\\*\*"target="build"/> |\
|  |  | <filesrc="../readme.md"target="content/readme.md" /> |\
|  |  | </files> |\
|  |  | </package> |\
\
42 changes: 42 additions & 0 deletions\
42 [runtimes/Whisper.net.Runtime.NoAvx/Whisper.net.Runtime.NoAvx.targets](#diff-3e4a4b4bd9cce0b4568447a536b88209e50df7d52c44befcffe9aeaf49c58ead "runtimes/Whisper.net.Runtime.NoAvx/Whisper.net.Runtime.NoAvx.targets")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.NoAvx/Whisper.net.Runtime.NoAvx.targets)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,42 @@ |\
|  |  | <ProjectToolsVersion="4.0"xmlns="http://schemas.microsoft.com/developer/msbuild/2003"> |\
|  |  | <ItemGroup> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm64\\libwhisper.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/noavx/linux-arm64/libwhisper.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm64\\libggml.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/noavx/linux-arm64/libggml.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-x64\\libwhisper.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/noavx/linux-x64/libwhisper.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-x64\\libggml.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/noavx/linux-x64/libggml.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm\\libwhisper.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/noavx/linux-arm/libwhisper.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm\\libggml.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/noavx/linux-arm/libggml.so</TargetPath> |\
|  |  | </None> |\
|  |  | <!-- End Linux --> |\
|  |  | </ItemGroup> |\
|  |  |  |\
|  |  | </Project> |\
\
4 changes: 3 additions & 1 deletion\
4 [Whisper.net.Runtime.OpenVino.nuspec → runtimes/Whisper.net.Runtime.OpenVino.nuspec](#diff-d42ffa2bd1973f9b638382e93b7146b0448c55770d732343106adfdebb34422b "Whisper.net.Runtime.OpenVino.nuspec → runtimes/Whisper.net.Runtime.OpenVino.nuspec")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.OpenVino.nuspec)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-d42ffa2bd1973f9b638382e93b7146b0448c55770d732343106adfdebb34422b) Expand Up | @@ -3,7 +3,7 @@ |\
|  |  | <metadata> |\
|  |  | <id>Whisper.net.Runtime.OpenVino</id> |\
|  |  | <title>Whisper.Net.Runtime.OpenVino</title> |\
|  |  | <version>1.7.0</version> |\
|  |  | <version>$version$</version> |\
|  |  | <authors>Sandro Hanea</authors> |\
|  |  | <owners>Sandro Hanea</owners> |\
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |\
| [Expand All](#diff-d42ffa2bd1973f9b638382e93b7146b0448c55770d732343106adfdebb34422b) Expand All | @@ -12,8 +12,10 @@ |\
|  |  | <tags>whisper;openvino;gpu;intel;</tags> |\
|  |  | <projectUrl>https://github.com/sandrohanea/whisper.net</projectUrl> |\
|  |  | <licensetype="expression">MIT</license> |\
|  |  | <readme>content/readme.md</readme> |\
|  |  | </metadata> |\
|  |  | <files> |\
|  |  | <filesrc="Whisper.net.Runtime.OpenVino\\\*\*"target="build"/> |\
|  |  | <filesrc="../readme.md"target="content/readme.md" /> |\
|  |  | </files> |\
|  |  | </package> |\
\
0\
[...Vino/Whisper.net.Runtime.OpenVino.targets → ...Vino/Whisper.net.Runtime.OpenVino.targets](#diff-2201ad80d4840a5856b0fc27400c3253e3abcf0ac190056bf4c36370627b5311 "Whisper.net.Runtime.OpenVino/Whisper.net.Runtime.OpenVino.targets → runtimes/Whisper.net.Runtime.OpenVino/Whisper.net.Runtime.OpenVino.targets")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.OpenVino/Whisper.net.Runtime.OpenVino.targets)\
Edit file\
\
Delete file\
\
\
File renamed without changes.\
\
\
4 changes: 3 additions & 1 deletion\
4 [Whisper.net.Runtime.Vulkan.nuspec → runtimes/Whisper.net.Runtime.Vulkan.nuspec](#diff-905f42b9c567a6205c02a0940e0d8ac7fa40e525e577522a1c1d81c8ea689dcf "Whisper.net.Runtime.Vulkan.nuspec → runtimes/Whisper.net.Runtime.Vulkan.nuspec")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.Vulkan.nuspec)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-905f42b9c567a6205c02a0940e0d8ac7fa40e525e577522a1c1d81c8ea689dcf) Expand Up | @@ -3,7 +3,7 @@ |\
|  |  | <metadata> |\
|  |  | <id>Whisper.net.Runtime.Vulkan</id> |\
|  |  | <title>Whisper.Net.Runtime.Vulkan</title> |\
|  |  | <version>1.7.0</version> |\
|  |  | <version>$version$</version> |\
|  |  | <authors>Sandro Hanea</authors> |\
|  |  | <owners>Sandro Hanea</owners> |\
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |\
| [Expand All](#diff-905f42b9c567a6205c02a0940e0d8ac7fa40e525e577522a1c1d81c8ea689dcf) Expand All | @@ -12,8 +12,10 @@ |\
|  |  | <tags>whisper;vulkan;gpu;</tags> |\
|  |  | <projectUrl>https://github.com/sandrohanea/whisper.net</projectUrl> |\
|  |  | <licensetype="expression">MIT</license> |\
|  |  | <readme>content/readme.md</readme> |\
|  |  | </metadata> |\
|  |  | <files> |\
|  |  | <filesrc="Whisper.net.Runtime.Vulkan\\\*\*"target="build"/> |\
|  |  | <filesrc="../readme.md"target="content/readme.md" /> |\
|  |  | </files> |\
|  |  | </package> |\
\
3 changes: 2 additions & 1 deletion\
3 [Whisper.net.Runtime.nuspec → runtimes/Whisper.net.Runtime.nuspec](#diff-a1ccde6801ad9fff06c8253bb8d7b4379070fd9696a464d8e18905adfe64211c "Whisper.net.Runtime.nuspec → runtimes/Whisper.net.Runtime.nuspec")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime.nuspec)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
| [Expand Up](#diff-a1ccde6801ad9fff06c8253bb8d7b4379070fd9696a464d8e18905adfe64211c) Expand Up | @@ -3,7 +3,7 @@ |\
|  |  | <metadata> |\
|  |  | <id>Whisper.net.Runtime</id> |\
|  |  | <title>Whisper.Net.Runtime</title> |\
|  |  | <version>1.7.0</version> |\
|  |  | <version>$version$</version> |\
|  |  | <authors>Sandro Hanea</authors> |\
|  |  | <owners>Sandro Hanea</owners> |\
|  |  | <requireLicenseAcceptance>false</requireLicenseAcceptance> |\
| [Expand All](#diff-a1ccde6801ad9fff06c8253bb8d7b4379070fd9696a464d8e18905adfe64211c) Expand All | @@ -12,6 +12,7 @@ |\
|  |  | <tags>whisper;ios;android;linux;windows;macos;cross-platform</tags> |\
|  |  | <projectUrl>https://github.com/sandrohanea/whisper.net</projectUrl> |\
|  |  | <licensetype="expression">MIT</license> |\
|  |  | <readme>content/readme.md</readme> |\
|  |  | </metadata> |\
|  |  | <files> |\
|  |  | <filesrc="Whisper.net.Runtime\\\*\*"target="build"/> |\
| [Expand Down](#diff-a1ccde6801ad9fff06c8253bb8d7b4379070fd9696a464d8e18905adfe64211c) Expand Down |  |\
\
270 changes: 270 additions & 0 deletions\
270 [runtimes/Whisper.net.Runtime/Whisper.net.Runtime.targets](#diff-2861bef31d4125178abbd14465bc6f21a6986726f338ad48940fa95bdddff1cf "runtimes/Whisper.net.Runtime/Whisper.net.Runtime.targets")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/runtimes/Whisper.net.Runtime/Whisper.net.Runtime.targets)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,270 @@ |\
|  |  | <ProjectToolsVersion="4.0"xmlns="http://schemas.microsoft.com/developer/msbuild/2003"> |\
|  |  | <ItemGroup |\
|  |  | Condition="(('$(Platform)' == 'iPhoneSimulator') OR $(RuntimeIdentifier.StartsWith('iossimulator')))"> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)ios-simulator\\libwhisper.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libwhisper.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)ios-simulator\\libggml.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libggml.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | </ItemGroup> |\
|  |  |  |\
|  |  | <ItemGroup |\
|  |  | Condition="(('$(Platform)' == 'iPhone') OR ('$(RuntimeIdentifier)' == 'ios') OR $(RuntimeIdentifier.StartsWith('ios-')) OR $(RuntimeIdentifier.StartsWith('ios.')))"> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)ios-device\\libwhisper.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libwhisper.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)ios-device\\libggml.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libggml.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | </ItemGroup> |\
|  |  | <ItemGroupCondition="$(TargetFramework.Contains('-maccatalyst')) == true "> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)maccatalyst\\libwhisper.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libwhisper.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)maccatalyst\\libggml.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libggml.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | </ItemGroup> |\
|  |  | <ItemGroupCondition="$(RuntimeIdentifier.StartsWith('tvos-'))"> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)tvos-device\\libwhisper.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libwhisper.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)tvos-device\\libggml.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libggml.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | </ItemGroup> |\
|  |  | <ItemGroupCondition="$(RuntimeIdentifier.StartsWith('tvossimulator-'))"> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)tvos-simulator\\libwhisper.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libwhisper.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)tvos-simulator\\libggml.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>libggml.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | </ItemGroup> |\
|  |  | <!-- Start Windows --> |\
|  |  | <ItemGroup |\
|  |  | Condition="$(TargetFramework.Contains('-windows')) == true or $(TargetFramework.Contains('-')) == false"> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-arm64\\whisper.dll"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/win-arm64/whisper.dll</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-arm64\\ggml.dll"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/win-arm64/ggml.dll</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-x64\\whisper.dll"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/win-x64/whisper.dll</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-x64\\ggml.dll"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/win-x64/ggml.dll</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-x86\\whisper.dll"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/win-x86/whisper.dll</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)win-x86\\ggml.dll"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/win-x86/ggml.dll</TargetPath> |\
|  |  | </None> |\
|  |  | </ItemGroup> |\
|  |  | <!-- End Windows --> |\
|  |  | <!-- Start Android--> |\
|  |  | <ItemGroup |\
|  |  | Condition="$(AndroidSupportedAbis.Contains('x86')) or $(RuntimeIdentifiers.Contains('android-x86'))"> |\
|  |  | <AndroidNativeLibraryVisible="false" |\
|  |  | Include="$(MSBuildThisFileDirectory)android-x86\\libwhisper.so"> |\
|  |  | <Link>lib\\x86\\libwhisper.so</Link> |\
|  |  | <Abi>x86</Abi> |\
|  |  | </AndroidNativeLibrary> |\
|  |  | <AndroidNativeLibraryVisible="false" |\
|  |  | Include="$(MSBuildThisFileDirectory)android-x86\\libggml.so"> |\
|  |  | <Link>lib\\x86\\libggml.so</Link> |\
|  |  | <Abi>x86</Abi> |\
|  |  | </AndroidNativeLibrary> |\
|  |  | </ItemGroup> |\
|  |  | <ItemGroup |\
|  |  | Condition="$(AndroidSupportedAbis.Contains('x86\_64')) or $(RuntimeIdentifiers.Contains('android-x64'))"> |\
|  |  | <AndroidNativeLibraryVisible="false" |\
|  |  | Include="$(MSBuildThisFileDirectory)android-x86\_64\\libwhisper.so"> |\
|  |  | <Link>lib\\x86\_64\\libwhisper.so</Link> |\
|  |  | <Abi>x86\_64</Abi> |\
|  |  | </AndroidNativeLibrary> |\
|  |  | <AndroidNativeLibraryVisible="false" |\
|  |  | Include="$(MSBuildThisFileDirectory)android-x86\_64\\libggml.so"> |\
|  |  | <Link>lib\\x86\_64\\libggml.so</Link> |\
|  |  | <Abi>x86\_64</Abi> |\
|  |  | </AndroidNativeLibrary> |\
|  |  | </ItemGroup> |\
|  |  | <ItemGroup |\
|  |  | Condition="$(AndroidSupportedAbis.Contains('arm64-v8a')) or $(RuntimeIdentifiers.Contains('android-arm64'))"> |\
|  |  | <AndroidNativeLibraryVisible="false" |\
|  |  | Include="$(MSBuildThisFileDirectory)android-arm64-v8a\\libwhisper.so"> |\
|  |  | <Link>lib\\armv8\\libwhisper.so</Link> |\
|  |  | <Abi>arm64-v8a</Abi> |\
|  |  | </AndroidNativeLibrary> |\
|  |  | <AndroidNativeLibraryVisible="false" |\
|  |  | Include="$(MSBuildThisFileDirectory)android-arm64-v8a\\libggml.so"> |\
|  |  | <Link>lib\\armv8\\libggml.so</Link> |\
|  |  | <Abi>arm64-v8a</Abi> |\
|  |  | </AndroidNativeLibrary> |\
|  |  | </ItemGroup> |\
|  |  | <!-- End Android --> |\
|  |  | <ItemGroupCondition="$(TargetFramework.Contains('-')) == false "> |\
|  |  | <!-- Start MacOS--> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)/ggml-metal.metal"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/macos-arm64/ggml-metal.metal</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-x64\\libwhisper.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/macos-x64/libwhisper.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-x64\\libggml.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/macos-x64/libggml.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-arm64\\libwhisper.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/macos-arm64/libwhisper.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)macos-arm64\\libggml.dylib"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/macos-arm64/libggml.dylib</TargetPath> |\
|  |  | </None> |\
|  |  | <!-- End MacOs --> |\
|  |  | <!-- Start Linux--> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm64\\libwhisper.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/linux-arm64/libwhisper.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm64\\libggml.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/linux-arm64/libggml.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-x64\\libwhisper.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/linux-x64/libwhisper.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-x64\\libggml.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/linux-x64/libggml.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm\\libwhisper.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/linux-arm/libwhisper.so</TargetPath> |\
|  |  | </None> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)linux-arm\\libggml.so"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>runtimes/linux-arm/libggml.so</TargetPath> |\
|  |  | </None> |\
|  |  | <!-- End Linux --> |\
|  |  | </ItemGroup> |\
|  |  | <!-- Start Wasm--> |\
|  |  | <PropertyGroupCondition="'$(UsingMicrosoftNETSdkBlazorWebAssembly)' == 'true'"> |\
|  |  | <WasmBuildNativeCondition="'$(WasmBuildNative)' == ''">true</WasmBuildNative> |\
|  |  | </PropertyGroup> |\
|  |  |  |\
|  |  | <ItemGroupCondition=" '$(UsingMicrosoftNETSdkBlazorWebAssembly)' == 'true' "> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)browser-wasm/libwhisper.a"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>browser-wasm/libwhisper.a</TargetPath> |\
|  |  | </None> |\
|  |  | <NativeFileReferenceInclude="$(MSBuildThisFileDirectory)browser-wasm/libwhisper.a" /> |\
|  |  | </ItemGroup> |\
|  |  |  |\
|  |  | <ItemGroupCondition=" '$(UsingMicrosoftNETSdkBlazorWebAssembly)' == 'true' "> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)browser-wasm/libggml.a"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>browser-wasm/libggml.a</TargetPath> |\
|  |  | </None> |\
|  |  | <NativeFileReferenceInclude="$(MSBuildThisFileDirectory)browser-wasm/libggml.a" /> |\
|  |  | </ItemGroup> |\
|  |  | <!-- End Wasm --> |\
|  |  |  |\
|  |  | <!-- Metal Maui asset for maccatalyst, ios, tvos and their simulators --> |\
|  |  | <ItemGroupCondition="$(RuntimeIdentifier.StartsWith('tvos-')) or $(RuntimeIdentifier.StartsWith('tvossimulator-')) or (('$(Platform)' == 'iPhone') OR ('$(RuntimeIdentifier)' == 'ios') OR $(RuntimeIdentifier.StartsWith('ios-')) OR $(RuntimeIdentifier.StartsWith('ios.'))) or $(TargetFramework.Contains('-maccatalyst')) == true or (('$(Platform)' == 'iPhoneSimulator') OR $(RuntimeIdentifier.StartsWith('iossimulator')))"> |\
|  |  | <MauiAssetInclude="$(MSBuildThisFileDirectory)\\ggml-metal.metal"LogicalName="ggml-metal.metal" /> |\
|  |  | </ItemGroup> |\
|  |  |  |\
|  |  | <!-- Metal Copy For MacOS --> |\
|  |  | <ItemGroupCondition="$(TargetFramework.Contains('-')) == false"> |\
|  |  | <NoneVisible="false"Include="$(MSBuildThisFileDirectory)\\ggml-metal.metal"> |\
|  |  | <Pack>true</Pack> |\
|  |  | <PackageCopyToOutput>true</PackageCopyToOutput> |\
|  |  | <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory> |\
|  |  | <TargetPath>ggml-metal.metal</TargetPath> |\
|  |  | <PublishFolderType>RootDirectory</PublishFolderType> |\
|  |  | </None> |\
|  |  | </ItemGroup> |\
|  |  | </Project> |\
\
0\
[Whisper.net.Tests/bush.wav → tests/TestData/bush.wav](#diff-e5db11e71e0f744346c77d29d1534b39b533d01f0923618f6ea468ae520462a2 "Whisper.net.Tests/bush.wav → tests/TestData/bush.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/TestData/bush.wav)\
Edit file\
\
Delete file\
\
\
File renamed without changes.\
\
\
0\
[Whisper.net.Tests/junkchunk16khz.wav → tests/TestData/junkchunk16khz.wav](#diff-23653c3c7b57eb4b1dc61f1aa9870f3521d89437e5706927e295427bdaf1de6a "Whisper.net.Tests/junkchunk16khz.wav → tests/TestData/junkchunk16khz.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/TestData/junkchunk16khz.wav)\
Edit file\
\
Delete file\
\
\
File renamed without changes.\
\
\
0\
[Whisper.net.Tests/kennedy.wav → tests/TestData/kennedy.wav](#diff-54ac6e98a21e0471412ec8e70bcabc1e001d3c15c970efd56428858f4de20bcd "Whisper.net.Tests/kennedy.wav → tests/TestData/kennedy.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/TestData/kennedy.wav)\
Edit file\
\
Delete file\
\
\
File renamed without changes.\
\
\
0\
[Whisper.net.Tests/multichannel.wav → tests/TestData/multichannel.wav](#diff-099a22e1b0a5797c132ed2664a7159c6d629e562aca08cf7922e4cbdf6b098d7 "Whisper.net.Tests/multichannel.wav → tests/TestData/multichannel.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/TestData/multichannel.wav)\
Edit file\
\
Delete file\
\
\
File renamed without changes.\
\
\
0\
[Whisper.net.Tests/romana.wav → tests/TestData/romana.wav](#diff-6a18886bac7b4c9b54065f51167a61605441cd2c20e58d0ed352692bfde0a03d "Whisper.net.Tests/romana.wav → tests/TestData/romana.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/TestData/romana.wav)\
Edit file\
\
Delete file\
\
\
File renamed without changes.\
\
\
14 changes: 14 additions & 0 deletions\
14 [tests/Whisper.net.Maui.Tests/App.xaml](#diff-db6149d915ec0cba6f00f53c4c49ef2bff24a3186fca9ac928742c2c4c8b70b5 "tests/Whisper.net.Maui.Tests/App.xaml")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/App.xaml)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,14 @@ |\
|  |  | <?xml version = "1.0" encoding = "UTF-8" ?> |\
|  |  | <Applicationxmlns="http://schemas.microsoft.com/dotnet/2021/maui" |\
|  |  | xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" |\
|  |  | xmlns:local="clr-namespace:Whisper.net.Maui.Tests" |\
|  |  | x:Class="Whisper.net.Maui.Tests.App"> |\
|  |  | <Application.Resources> |\
|  |  | <ResourceDictionary> |\
|  |  | <ResourceDictionary.MergedDictionaries> |\
|  |  | <ResourceDictionarySource="Resources/Styles/Colors.xaml" /> |\
|  |  | <ResourceDictionarySource="Resources/Styles/Styles.xaml" /> |\
|  |  | </ResourceDictionary.MergedDictionaries> |\
|  |  | </ResourceDictionary> |\
|  |  | </Application.Resources> |\
|  |  | </Application> |\
\
13 changes: 13 additions & 0 deletions\
13 [tests/Whisper.net.Maui.Tests/App.xaml.cs](#diff-f6e0927834078e730ecdba627013e1e50d325138bbb295bf4e25c0a27399ff2a "tests/Whisper.net.Maui.Tests/App.xaml.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/App.xaml.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,13 @@ |\
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  |  |\
|  |  | publicpartialclassApp:Application |\
|  |  | { |\
|  |  | publicApp() |\
|  |  | { |\
|  |  | InitializeComponent(); |\
|  |  |  |\
|  |  | MainPage=newAppShell(); |\
|  |  | } |\
|  |  | } |\
\
15 changes: 15 additions & 0 deletions\
15 [tests/Whisper.net.Maui.Tests/AppShell.xaml](#diff-6c39ef37e82b6cbae8ef85569fbe375a8164a521e54fa5c8c8d9a05241644363 "tests/Whisper.net.Maui.Tests/AppShell.xaml")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/AppShell.xaml)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,15 @@ |\
|  |  | <?xml version="1.0" encoding="UTF-8" ?> |\
|  |  | <Shell |\
|  |  | x:Class="Whisper.net.Maui.Tests.AppShell" |\
|  |  | xmlns="http://schemas.microsoft.com/dotnet/2021/maui" |\
|  |  | xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" |\
|  |  | xmlns:local="clr-namespace:Whisper.net.Maui.Tests" |\
|  |  | Shell.FlyoutBehavior="Disabled" |\
|  |  | Title="Whisper.net.Maui.Tests"> |\
|  |  |  |\
|  |  | <ShellContent |\
|  |  | Title="Home" |\
|  |  | ContentTemplate="{DataTemplate local:MainPage}" |\
|  |  | Route="MainPage" /> |\
|  |  |  |\
|  |  | </Shell> |\
\
11 changes: 11 additions & 0 deletions\
11 [tests/Whisper.net.Maui.Tests/AppShell.xaml.cs](#diff-48f2044685343b7d4b03583d9c7691a5f4b627a7307f00932e3ac121d7ea2242 "tests/Whisper.net.Maui.Tests/AppShell.xaml.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/AppShell.xaml.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,11 @@ |\
|  |  | ﻿// Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  |  |\
|  |  | publicpartialclassAppShell:Shell |\
|  |  | { |\
|  |  | publicAppShell() |\
|  |  | { |\
|  |  | InitializeComponent(); |\
|  |  | } |\
|  |  | } |\
\
36 changes: 36 additions & 0 deletions\
36 [tests/Whisper.net.Maui.Tests/MainPage.xaml](#diff-57f01a9b7bcde0e052ce6c4c2a2d18be9e1ad3ec01df0702bbbc02222fe15f7c "tests/Whisper.net.Maui.Tests/MainPage.xaml")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/MainPage.xaml)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,36 @@ |\
|  |  | <?xml version="1.0" encoding="utf-8" ?> |\
|  |  | <ContentPagexmlns="http://schemas.microsoft.com/dotnet/2021/maui" |\
|  |  | xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" |\
|  |  | x:Class="Whisper.net.Maui.Tests.MainPage"> |\
|  |  |  |\
|  |  | <ScrollView> |\
|  |  | <VerticalStackLayout |\
|  |  | Padding="30,0" |\
|  |  | Spacing="25"> |\
|  |  | <Image |\
|  |  | Source="dotnet\_bot.png" |\
|  |  | HeightRequest="185" |\
|  |  | Aspect="AspectFit" |\
|  |  | SemanticProperties.Description="dot net bot in a race car number eight" /> |\
|  |  |  |\
|  |  | <Label |\
|  |  | Text="Hello, World!" |\
|  |  | Style="{StaticResource Headline}" |\
|  |  | SemanticProperties.HeadingLevel="Level1" /> |\
|  |  |  |\
|  |  | <Label |\
|  |  | Text="Welcome to &#10;.NET Multi-platform App UI" |\
|  |  | Style="{StaticResource SubHeadline}" |\
|  |  | SemanticProperties.HeadingLevel="Level2" |\
|  |  | SemanticProperties.Description="Welcome to dot net Multi platform App U I" /> |\
|  |  |  |\
|  |  | <Button |\
|  |  | x:Name="CounterBtn" |\
|  |  | Text="Click me" |\
|  |  | SemanticProperties.Hint="Counts the number of times you click" |\
|  |  | Clicked="OnCounterClicked" |\
|  |  | HorizontalOptions="Fill" /> |\
|  |  | </VerticalStackLayout> |\
|  |  | </ScrollView> |\
|  |  |  |\
|  |  | </ContentPage> |\
\
45 changes: 45 additions & 0 deletions\
45 [tests/Whisper.net.Maui.Tests/MainPage.xaml.cs](#diff-69d7c6806ae25494d627ea53dcfbe6f7b516b7a3e1c006931579f716369cf23f "tests/Whisper.net.Maui.Tests/MainPage.xaml.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/MainPage.xaml.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,45 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingWhisper.net.Internals.Native.Implementations; |\
|  |  | usingWhisper.net.LibraryLoader; |\
|  |  | usingWhisper.net.Logger; |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  |  |\
|  |  | publicpartialclassMainPage:ContentPage |\
|  |  | { |\
|  |  | privateintcount; |\
|  |  |  |\
|  |  | publicMainPage() |\
|  |  | { |\
|  |  | InitializeComponent(); |\
|  |  | } |\
|  |  |  |\
|  |  | privatevoidOnCounterClicked(objectsender,EventArgse) |\
|  |  | { |\
|  |  | count++; |\
|  |  |  |\
|  |  | CounterBtn.Text=$"Clicked {count} times"; |\
|  |  |  |\
|  |  | try |\
|  |  | { |\
|  |  | varlinuxLIbraryLoader=newLinuxLibraryLoader(); |\
|  |  | varopenedLib=linuxLIbraryLoader.OpenLibrary("libggml.so",true); |\
|  |  |  |\
|  |  | if(openedLib==IntPtr.Zero) |\
|  |  | { |\
|  |  | varerror=linuxLIbraryLoader.GetLastError(); |\
|  |  | CounterBtn.Text=error; |\
|  |  | } |\
|  |  |  |\
|  |  | } |\
|  |  | catch(Exceptionex) |\
|  |  | { |\
|  |  | CounterBtn.Text=ex.Message; |\
|  |  | // ignored |\
|  |  | } |\
|  |  |  |\
|  |  | SemanticScreenReader.Announce(CounterBtn.Text); |\
|  |  | } |\
|  |  | } |\
|  |  |  |\
\
27 changes: 27 additions & 0 deletions\
27 [tests/Whisper.net.Maui.Tests/MauiProgram.cs](#diff-c38eaec827d9c9b962f2620694f38d095a78875f8af178c8f8c77de3b9174dd6 "tests/Whisper.net.Maui.Tests/MauiProgram.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/MauiProgram.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,27 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingMicrosoft.Extensions.Logging; |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  | publicstaticclassMauiProgram |\
|  |  | { |\
|  |  | publicstaticMauiAppCreateMauiApp(Action<IServiceCollection>configService) |\
|  |  | { |\
|  |  | varbuilder=MauiApp.CreateBuilder(); |\
|  |  | builder |\
|  |  | .UseMauiApp<App>() |\
|  |  | .ConfigureFonts(fonts => |\
|  |  | { |\
|  |  | fonts.AddFont("OpenSans-Regular.ttf","OpenSansRegular"); |\
|  |  | fonts.AddFont("OpenSans-Semibold.ttf","OpenSansSemibold"); |\
|  |  | }); |\
|  |  |  |\
|  |  | #if DEBUG |\
|  |  | builder.Logging.AddDebug(); |\
|  |  | #endif |\
|  |  |  |\
|  |  | configService(builder.Services); |\
|  |  |  |\
|  |  | returnbuilder.Build(); |\
|  |  | } |\
|  |  | } |\
\
6 changes: 6 additions & 0 deletions\
6 [tests/Whisper.net.Maui.Tests/Platforms/Android/AndroidManifest.xml](#diff-fefd891b417f67aefdb5ff590139055de3a93cbe1d55a17ac98a2314c90c76c8 "tests/Whisper.net.Maui.Tests/Platforms/Android/AndroidManifest.xml")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/Android/AndroidManifest.xml)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,6 @@ |\
|  |  | <?xml version="1.0" encoding="utf-8"?> |\
|  |  | <manifestxmlns:android="http://schemas.android.com/apk/res/android"> |\
|  |  | <applicationandroid:allowBackup="true"android:icon="@mipmap/appicon"android:roundIcon="@mipmap/appicon\_round"android:supportsRtl="true"></application> |\
|  |  | <uses-permissionandroid:name="android.permission.ACCESS\_NETWORK\_STATE" /> |\
|  |  | <uses-permissionandroid:name="android.permission.INTERNET" /> |\
|  |  | </manifest> |\
\
80 changes: 80 additions & 0 deletions\
80 [tests/Whisper.net.Maui.Tests/Platforms/Android/HeadlessTestRunner.cs](#diff-2fac74009176a62eb1a62aca9d0d2db185bf5ce913c756dce6e15c7f80d907e4 "tests/Whisper.net.Maui.Tests/Platforms/Android/HeadlessTestRunner.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/Android/HeadlessTestRunner.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,80 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingAndroid.OS; |\
|  |  | usingMicrosoft.DotNet.XHarness.TestRunners.Common; |\
|  |  | usingMicrosoft.DotNet.XHarness.TestRunners.Xunit; |\
|  |  | usingWhisper.net.Tests; |\
|  |  | usingApplication=Android.App.Application; |\
|  |  | namespaceWhisper.net.Maui.Tests.Platforms.Android; |\
|  |  |  |\
|  |  | publicclassHeadlessTestRunner:AndroidApplicationEntryPoint |\
|  |  | { |\
|  |  | readonlystring\_resultsPath; |\
|  |  |  |\
|  |  | publicoverrideTextWriterLogger=>Console.Out; |\
|  |  |  |\
|  |  | publicoverridestringTestsResultsFinalPath=>\_resultsPath; |\
|  |  |  |\
|  |  | protectedoverrideint?MaxParallelThreads=>System.Environment.ProcessorCount; |\
|  |  |  |\
|  |  | protectedoverrideIDeviceDevice=>newTestDevice(); |\
|  |  |  |\
|  |  | publicHeadlessTestRunner(stringtestResultsFileName) |\
|  |  | { |\
|  |  | varcache=Application.Context.CacheDir!.AbsolutePath; |\
|  |  | \_resultsPath=Path.Combine(cache,testResultsFileName); |\
|  |  | } |\
|  |  |  |\
|  |  | protectedoverrideIEnumerable<TestAssemblyInfo>GetTestAssemblies() |\
|  |  | { |\
|  |  | varassembly=typeof(ModelFixture).Assembly; |\
|  |  | varpath=Path.Combine(Application.Context.CacheDir!.AbsolutePath,assembly.GetName().Name+".dll"); |\
|  |  | if(!File.Exists(path)) |\
|  |  | { |\
|  |  | File.Create(path).Close(); |\
|  |  | } |\
|  |  |  |\
|  |  | yieldreturnnewTestAssemblyInfo(assembly,path); |\
|  |  | } |\
|  |  |  |\
|  |  | protectedoverridevoidTerminateWithSuccess() |\
|  |  | { |\
|  |  | } |\
|  |  |  |\
|  |  | publicasyncTask<Bundle>RunTestsAsync() |\
|  |  | { |\
|  |  | varbundle=newBundle(); |\
|  |  |  |\
|  |  | TestsCompleted+=OnTestsCompleted; |\
|  |  |  |\
|  |  | awaitRunAsync(); |\
|  |  |  |\
|  |  | TestsCompleted-=OnTestsCompleted; |\
|  |  |  |\
|  |  | if(File.Exists(TestsResultsFinalPath)) |\
|  |  | { |\
|  |  | bundle.PutString("test-results-path",TestsResultsFinalPath); |\
|  |  | } |\
|  |  |  |\
|  |  | if(bundle.GetLong("return-code",-1)==-1) |\
|  |  | { |\
|  |  | bundle.PutLong("return-code",1); |\
|  |  | } |\
|  |  |  |\
|  |  | returnbundle; |\
|  |  |  |\
|  |  | voidOnTestsCompleted(object?sender,TestRunResultresults) |\
|  |  | { |\
|  |  | varmessage= |\
|  |  | $"Tests run: {results.ExecutedTests} "+ |\
|  |  | $"Passed: {results.PassedTests} "+ |\
|  |  | $"Inconclusive: {results.InconclusiveTests} "+ |\
|  |  | $"Failed: {results.FailedTests} "+ |\
|  |  | $"Ignored: {results.SkippedTests}"; |\
|  |  |  |\
|  |  | bundle.PutString("test-execution-summary",message); |\
|  |  |  |\
|  |  | bundle.PutLong("return-code",results.FailedTests==0?0:1); |\
|  |  | } |\
|  |  | } |\
|  |  | } |\
\
10 changes: 10 additions & 0 deletions\
10 [tests/Whisper.net.Maui.Tests/Platforms/Android/MainActivity.cs](#diff-17c002522a3bc0b82ffa6fa7afa734dff403d141f4f3a5b1c2d9c44a974d563e "tests/Whisper.net.Maui.Tests/Platforms/Android/MainActivity.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/Android/MainActivity.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,10 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingAndroid.App; |\
|  |  | usingAndroid.Content.PM; |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  | \[Activity(Theme="@style/Maui.SplashTheme",MainLauncher=true,LaunchMode=LaunchMode.SingleTop,ConfigurationChanges=ConfigChanges.ScreenSize\|ConfigChanges.Orientation\|ConfigChanges.UiMode\|ConfigChanges.ScreenLayout\|ConfigChanges.SmallestScreenSize\|ConfigChanges.Density)\] |\
|  |  | publicclassMainActivity:MauiAppCompatActivity |\
|  |  | { |\
|  |  | } |\
\
20 changes: 20 additions & 0 deletions\
20 [tests/Whisper.net.Maui.Tests/Platforms/Android/MainApplication.cs](#diff-931b0889dfb8545ad4cca572d9fe67d6d3aec8f059bb47cf540703703ed394a5 "tests/Whisper.net.Maui.Tests/Platforms/Android/MainApplication.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/Android/MainApplication.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,20 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingAndroid.App; |\
|  |  | usingAndroid.Runtime; |\
|  |  | usingWhisper.net.Maui.Tests.Platforms.Android; |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  | \[Application\] |\
|  |  | publicclassMainApplication:MauiApplication |\
|  |  | { |\
|  |  | publicMainApplication(IntPtrhandle,JniHandleOwnershipownership) |\
|  |  | :base(handle,ownership) |\
|  |  | { |\
|  |  | } |\
|  |  |  |\
|  |  | protectedoverrideMauiAppCreateMauiApp() |\
|  |  | { |\
|  |  | returnMauiProgram.CreateMauiApp(services =>services.AddTransient(svc =>newHeadlessTestRunner("testresults.xml"))); |\
|  |  | } |\
|  |  | } |\
\
132 changes: 132 additions & 0 deletions\
132 [tests/Whisper.net.Maui.Tests/Platforms/Android/MauiTestInstrumentation.cs](#diff-b27998516d1f23b3eb7c7359504c2aaba5338390aa4f9de114213f06013649b1 "tests/Whisper.net.Maui.Tests/Platforms/Android/MauiTestInstrumentation.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/Android/MauiTestInstrumentation.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,132 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingAndroid.App; |\
|  |  | usingAndroid.Content; |\
|  |  | usingAndroid.OS; |\
|  |  | usingAndroid.Provider; |\
|  |  | usingAndroid.Runtime; |\
|  |  | usingWhisper.net.Tests; |\
|  |  | usingApplication=Android.App.Application; |\
|  |  | usingEnvironment=Android.OS.Environment; |\
|  |  | namespaceWhisper.net.Maui.Tests.Platforms.Android; |\
|  |  |  |\
|  |  | \[Instrumentation(Name="com.companyname.whisper.net.maui.tests.AndroidMauiTestInstrumentation")\] |\
|  |  | publicclassMauiTestInstrumentation:Instrumentation |\
|  |  | { |\
|  |  | publicIServiceProviderServices{get;privateset;}=null!; |\
|  |  | readonlyTaskCompletionSource<Application>\_waitForApplication=new(); |\
|  |  |  |\
|  |  | publicoverridevoidCallApplicationOnCreate(Application?app) |\
|  |  | { |\
|  |  | base.CallApplicationOnCreate(app); |\
|  |  |  |\
|  |  | if(app==null) |\
|  |  | { |\
|  |  | \_waitForApplication.SetException(newArgumentNullException(nameof(app))); |\
|  |  | } |\
|  |  | else |\
|  |  | { |\
|  |  | \_waitForApplication.SetResult(app); |\
|  |  | } |\
|  |  | } |\
|  |  |  |\
|  |  | publicMauiTestInstrumentation(IntPtrhandle,JniHandleOwnershiptransfer) |\
|  |  | :base(handle,transfer) |\
|  |  | { |\
|  |  |  |\
|  |  | } |\
|  |  |  |\
|  |  | publicoverridevoidOnCreate(Bundle?arguments) |\
|  |  | { |\
|  |  | base.OnCreate(arguments); |\
|  |  |  |\
|  |  | Start(); |\
|  |  | } |\
|  |  |  |\
|  |  | privatestaticasyncTask<Stream>OpenFileNameAsync(stringfile) |\
|  |  | { |\
|  |  | usingvarandroidStream=awaitFileSystem.OpenAppPackageFileAsync(file); |\
|  |  | varmemoryStream=newMemoryStream(); |\
|  |  | // We need to copy it to a memory because the AndroidStream cannot read Position. |\
|  |  | awaitandroidStream.CopyToAsync(memoryStream); |\
|  |  | memoryStream.Position=0; |\
|  |  | returnmemoryStream; |\
|  |  | } |\
|  |  |  |\
|  |  | publicoverrideasyncvoidOnStart() |\
|  |  | { |\
|  |  | TestDataProvider.OpenFileStreamAsync=OpenFileNameAsync; |\
|  |  | base.OnStart(); |\
|  |  |  |\
|  |  | await\_waitForApplication.Task; |\
|  |  |  |\
|  |  | Services=IPlatformApplication.Current?.Services??Services; |\
|  |  |  |\
|  |  | varbundle=awaitRunTestsAsync(); |\
|  |  |  |\
|  |  | CopyFile(bundle); |\
|  |  |  |\
|  |  | Finish(Result.Ok,bundle); |\
|  |  | } |\
|  |  |  |\
|  |  | Task<Bundle>RunTestsAsync() |\
|  |  | { |\
|  |  | varrunner=Services.GetRequiredService<HeadlessTestRunner>(); |\
|  |  |  |\
|  |  | returnrunner.RunTestsAsync(); |\
|  |  |  |\
|  |  | } |\
|  |  |  |\
|  |  | privateasyncvoidCopyFile(Bundlebundle) |\
|  |  | { |\
|  |  | varresultsFile=bundle.GetString("test-results-path"); |\
|  |  | if(resultsFile==null) |\
|  |  | { |\
|  |  | return; |\
|  |  | } |\
|  |  |  |\
|  |  | varguid=Guid.NewGuid().ToString("N"); |\
|  |  | varname=Path.GetFileName(resultsFile); |\
|  |  |  |\
|  |  | stringfinalPath; |\
|  |  | if((int)Build.VERSION.SdkInt<30) |\
|  |  |  |\
|  |  | { |\
|  |  | varroot=Application.Context.GetExternalFilesDir(null)!.AbsolutePath!; |\
|  |  | vardir=Path.Combine(root,guid); |\
|  |  |  |\
|  |  | if(!Directory.Exists(dir)) |\
|  |  | { |\
|  |  | Directory.CreateDirectory(dir); |\
|  |  | } |\
|  |  |  |\
|  |  | finalPath=Path.Combine(dir,name); |\
|  |  | File.Copy(resultsFile,finalPath,true); |\
|  |  | } |\
|  |  |  |\
|  |  | else |\
|  |  | { |\
|  |  |  |\
|  |  | vardownloads=Environment.DirectoryDownloads!; |\
|  |  | varrelative=Path.Combine(downloads,"com.companyname.whisper.net.maui.tests",guid); |\
|  |  |  |\
|  |  | varvalues=newContentValues(); |\
|  |  | values.Put(MediaStore.IMediaColumns.DisplayName,name); |\
|  |  | values.Put(MediaStore.IMediaColumns.MimeType,"text/xml"); |\
|  |  | values.Put(MediaStore.IMediaColumns.RelativePath,relative); |\
|  |  |  |\
|  |  | varresolver=Context!.ContentResolver!; |\
|  |  | varuri=resolver.Insert(MediaStore.Downloads.ExternalContentUri,values)!; |\
|  |  | using(vardest=resolver.OpenOutputStream(uri)!) |\
|  |  | using(varsource=File.OpenRead(resultsFile)) |\
|  |  | { |\
|  |  | awaitsource.CopyToAsync(dest); |\
|  |  | } |\
|  |  |  |\
|  |  | varroot=Environment.ExternalStorageDirectory!.AbsolutePath; |\
|  |  | finalPath=Path.Combine(root,relative,name); |\
|  |  | } |\
|  |  |  |\
|  |  | bundle.PutString("test-results-path",finalPath); |\
|  |  | } |\
|  |  | } |\
\
6 changes: 6 additions & 0 deletions\
6 [tests/Whisper.net.Maui.Tests/Platforms/Android/Resources/values/colors.xml](#diff-2fec5e087e91e9e8f92adde019c7da2c5fd52b0c47ab785541cba25dd2ef5c9e "tests/Whisper.net.Maui.Tests/Platforms/Android/Resources/values/colors.xml")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/Android/Resources/values/colors.xml)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,6 @@ |\
|  |  | <?xml version="1.0" encoding="utf-8"?> |\
|  |  | <resources> |\
|  |  | <colorname="colorPrimary">#512BD4</color> |\
|  |  | <colorname="colorPrimaryDark">#2B0B98</color> |\
|  |  | <colorname="colorAccent">#2B0B98</color> |\
|  |  | </resources> |\
\
13 changes: 13 additions & 0 deletions\
13 [tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/AppDelegate.cs](#diff-014e9a40928dfadc01441cf099c48d63a47d95ef00190fe974cfa4d2ec383b30 "tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/AppDelegate.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/AppDelegate.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,13 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingFoundation; |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  | \[Register("AppDelegate")\] |\
|  |  | publicclassAppDelegate:MauiUIApplicationDelegate |\
|  |  | { |\
|  |  | protectedoverrideMauiAppCreateMauiApp() |\
|  |  | { |\
|  |  | returnMauiProgram.CreateMauiApp(service =>{}); |\
|  |  | } |\
|  |  | } |\
\
14 changes: 14 additions & 0 deletions\
14 [tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/Entitlements.plist](#diff-7f2fa90ed0e832fccce2788488c1ed1ec495130c78a9fb4f150ef98fe68e34a0 "tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/Entitlements.plist")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/Entitlements.plist)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,14 @@ |\
|  |  | <?xml version="1.0" encoding="UTF-8"?> |\
|  |  | <!DOCTYPEplist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"> |\
|  |  | <plistversion="1.0"> |\
|  |  | <!-- See https://aka.ms/maui-publish-app-store#add-entitlements for more information about adding entitlements.--> |\
|  |  | <dict> |\
|  |  | <!-- App Sandbox must be enabled to distribute a MacCatalyst app through the Mac App Store. --> |\
|  |  | <key>com.apple.security.app-sandbox</key> |\
|  |  | <true/> |\
|  |  | <!-- When App Sandbox is enabled, this value is required to open outgoing network connections. --> |\
|  |  | <key>com.apple.security.network.client</key> |\
|  |  | <true/> |\
|  |  | </dict> |\
|  |  | </plist> |\
|  |  |  |\
\
38 changes: 38 additions & 0 deletions\
38 [tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/Info.plist](#diff-80f7d7c6793ae626d988502df5299b20bbd2976ac5cceed05e28d769e1c0d8e4 "tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/Info.plist")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/Info.plist)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,38 @@ |\
|  |  | <?xml version="1.0" encoding="UTF-8"?> |\
|  |  | <!DOCTYPEplist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"> |\
|  |  | <plistversion="1.0"> |\
|  |  | <dict> |\
|  |  | <!-- The Mac App Store requires you specify if the app uses encryption. --> |\
|  |  | <!-- Please consult https://developer.apple.com/documentation/bundleresources/information\_property\_list/itsappusesnonexemptencryption --> |\
|  |  | <!-- <key>ITSAppUsesNonExemptEncryption</key> --> |\
|  |  | <!-- Please indicate <true/> or <false/> here. --> |\
|  |  |  |\
|  |  | <!-- Specify the category for your app here. --> |\
|  |  | <!-- Please consult https://developer.apple.com/documentation/bundleresources/information\_property\_list/lsapplicationcategorytype --> |\
|  |  | <!-- <key>LSApplicationCategoryType</key> --> |\
|  |  | <!-- <string>public.app-category.YOUR-CATEGORY-HERE</string> --> |\
|  |  | <key>UIDeviceFamily</key> |\
|  |  | <array> |\
|  |  | <integer>2</integer> |\
|  |  | </array> |\
|  |  | <key>UIRequiredDeviceCapabilities</key> |\
|  |  | <array> |\
|  |  | <string>arm64</string> |\
|  |  | </array> |\
|  |  | <key>UISupportedInterfaceOrientations</key> |\
|  |  | <array> |\
|  |  | <string>UIInterfaceOrientationPortrait</string> |\
|  |  | <string>UIInterfaceOrientationLandscapeLeft</string> |\
|  |  | <string>UIInterfaceOrientationLandscapeRight</string> |\
|  |  | </array> |\
|  |  | <key>UISupportedInterfaceOrientations~ipad</key> |\
|  |  | <array> |\
|  |  | <string>UIInterfaceOrientationPortrait</string> |\
|  |  | <string>UIInterfaceOrientationPortraitUpsideDown</string> |\
|  |  | <string>UIInterfaceOrientationLandscapeLeft</string> |\
|  |  | <string>UIInterfaceOrientationLandscapeRight</string> |\
|  |  | </array> |\
|  |  | <key>XSAppIconAssets</key> |\
|  |  | <string>Assets.xcassets/appicon.appiconset</string> |\
|  |  | </dict> |\
|  |  | </plist> |\
\
15 changes: 15 additions & 0 deletions\
15 [tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/Program.cs](#diff-f1e19ed512d651b5ca32d90ea66762c79d3af82396b67a5c9ca9d4a01051d98d "tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/Program.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/MacCatalyst/Program.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,15 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingUIKit; |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  | publicclassProgram |\
|  |  | { |\
|  |  | // This is the main entry point of the application. |\
|  |  | staticvoidMain(string\[\]args) |\
|  |  | { |\
|  |  | // if you want to use a different Application Delegate class from "AppDelegate" |\
|  |  | // you can specify it here. |\
|  |  | UIApplication.Main(args,null,typeof(AppDelegate)); |\
|  |  | } |\
|  |  | } |\
\
18 changes: 18 additions & 0 deletions\
18 [tests/Whisper.net.Maui.Tests/Platforms/Tizen/Main.cs](#diff-c8ee065421b87eb991d13aa23ffe7c237e56d77c01de608791a815dade78442d "tests/Whisper.net.Maui.Tests/Platforms/Tizen/Main.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/Tizen/Main.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,18 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingSystem; |\
|  |  | usingMicrosoft.Maui; |\
|  |  | usingMicrosoft.Maui.Hosting; |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  |  |\
|  |  | internalclassProgram:MauiApplication |\
|  |  | { |\
|  |  | protectedoverrideMauiAppCreateMauiApp()=>MauiProgram.CreateMauiApp(); |\
|  |  |  |\
|  |  | staticvoidMain(string\[\]args) |\
|  |  | { |\
|  |  | varapp=newProgram(); |\
|  |  | app.Run(args); |\
|  |  | } |\
|  |  | } |\
\
15 changes: 15 additions & 0 deletions\
15 [tests/Whisper.net.Maui.Tests/Platforms/Tizen/tizen-manifest.xml](#diff-3dc7be83cb23a0deec9f1ff5798348e0b67bb0c08a1308f110229187d4f56a0c "tests/Whisper.net.Maui.Tests/Platforms/Tizen/tizen-manifest.xml")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/Tizen/tizen-manifest.xml)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,15 @@ |\
|  |  | <?xml version="1.0" encoding="utf-8"?> |\
|  |  | <manifestpackage="maui-application-id-placeholder"version="0.0.0"api-version="8"xmlns="http://tizen.org/ns/packages"> |\
|  |  | <profilename="common" /> |\
|  |  | <ui-applicationappid="maui-application-id-placeholder"exec="Whisper.net.Maui.Tests.dll"multiple="false"nodisplay="false"taskmanage="true"type="dotnet"launch\_mode="single"> |\
|  |  | <label>maui-application-title-placeholder</label> |\
|  |  | <icon>maui-appicon-placeholder</icon> |\
|  |  | <metadatakey="http://tizen.org/metadata/prefer\_dotnet\_aot"value="true" /> |\
|  |  | </ui-application> |\
|  |  | <shortcut-list /> |\
|  |  | <privileges> |\
|  |  | <privilege>http://tizen.org/privilege/internet</privilege> |\
|  |  | </privileges\> |\
|  |  | <dependencies /> |\
|  |  | <provides-appdefined-privileges /> |\
|  |  | </manifest> |\
\
13 changes: 13 additions & 0 deletions\
13 [tests/Whisper.net.Maui.Tests/Platforms/iOS/AppDelegate.cs](#diff-a22059a7f629643abf8935df21f006749e88aef0f216646dd533ed915dacadf8 "tests/Whisper.net.Maui.Tests/Platforms/iOS/AppDelegate.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/iOS/AppDelegate.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,13 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  |  |\
|  |  | usingFoundation; |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  | \[Register("AppDelegate")\] |\
|  |  | publicclassAppDelegate:MauiUIApplicationDelegate |\
|  |  | { |\
|  |  | protectedoverrideMauiAppCreateMauiApp() |\
|  |  | { |\
|  |  | returnMauiProgram.CreateMauiApp(service =>{}); |\
|  |  | } |\
|  |  | } |\
\
32 changes: 32 additions & 0 deletions\
32 [tests/Whisper.net.Maui.Tests/Platforms/iOS/Info.plist](#diff-c9767218cd9f3f69237318cd017052532e38ca0a0bc7e1dea76038876f99675b "tests/Whisper.net.Maui.Tests/Platforms/iOS/Info.plist")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/iOS/Info.plist)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,32 @@ |\
|  |  | <?xml version="1.0" encoding="UTF-8"?> |\
|  |  | <!DOCTYPEplist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"> |\
|  |  | <plistversion="1.0"> |\
|  |  | <dict> |\
|  |  | <key>LSRequiresIPhoneOS</key> |\
|  |  | <true/> |\
|  |  | <key>UIDeviceFamily</key> |\
|  |  | <array> |\
|  |  | <integer>1</integer> |\
|  |  | <integer>2</integer> |\
|  |  | </array> |\
|  |  | <key>UIRequiredDeviceCapabilities</key> |\
|  |  | <array> |\
|  |  | <string>arm64</string> |\
|  |  | </array> |\
|  |  | <key>UISupportedInterfaceOrientations</key> |\
|  |  | <array> |\
|  |  | <string>UIInterfaceOrientationPortrait</string> |\
|  |  | <string>UIInterfaceOrientationLandscapeLeft</string> |\
|  |  | <string>UIInterfaceOrientationLandscapeRight</string> |\
|  |  | </array> |\
|  |  | <key>UISupportedInterfaceOrientations~ipad</key> |\
|  |  | <array> |\
|  |  | <string>UIInterfaceOrientationPortrait</string> |\
|  |  | <string>UIInterfaceOrientationPortraitUpsideDown</string> |\
|  |  | <string>UIInterfaceOrientationLandscapeLeft</string> |\
|  |  | <string>UIInterfaceOrientationLandscapeRight</string> |\
|  |  | </array> |\
|  |  | <key>XSAppIconAssets</key> |\
|  |  | <string>Assets.xcassets/appicon.appiconset</string> |\
|  |  | </dict> |\
|  |  | </plist> |\
\
14 changes: 14 additions & 0 deletions\
14 [tests/Whisper.net.Maui.Tests/Platforms/iOS/Program.cs](#diff-9424f82761f626cd1d66c939adaf62abb96325f10d19bc3bf29c69de2a9cfd9f "tests/Whisper.net.Maui.Tests/Platforms/iOS/Program.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/iOS/Program.cs)\
Edit file\
\
Delete file\
\
\
This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)\
\
[Show hidden characters]({{ revealButtonHref }})\
\
| Original file line number | Diff line number | Diff line change |\
| --- | --- | --- |\
|  |  | @@ -0,0 +1,14 @@ |\
|  |  | // Licensed under the MIT license: https://opensource.org/licenses/MIT |\
|  |  | usingUIKit; |\
|  |  |  |\
|  |  | namespaceWhisper.net.Maui.Tests; |\
|  |  | publicclassProgram |\
|  |  | { |\
|  |  | // This is the main entry point of the application. |\
|  |  | staticvoidMain(string\[\]args) |\
|  |  | { |\
|  |  | // if you want to use a different Application Delegate class from "AppDelegate" |\
|  |  | // you can specify it here. |\
|  |  | UIApplication.Main(args,null,typeof(AppDelegate)); |\
|  |  | } |\
|  |  | } |\
\
51 changes: 51 additions & 0 deletions\
51 [tests/Whisper.net.Maui.Tests/Platforms/iOS/Resources/PrivacyInfo.xcprivacy](#diff-c0f67b815b22a0f44f4a822434bc5472a5a9264f86c40943e683055c48157dd9 "tests/Whisper.net.Maui.Tests/Platforms/iOS/Resources/PrivacyInfo.xcprivacy")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Platforms/iOS/Resources/PrivacyInfo.xcprivacy)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
8 changes: 8 additions & 0 deletions\
8 [tests/Whisper.net.Maui.Tests/Properties/launchSettings.json](#diff-c5fa236b910a6d7f4a3ab6e4bc522664a2703a3b9cb2499139a70b71403fb69a "tests/Whisper.net.Maui.Tests/Properties/launchSettings.json")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Properties/launchSettings.json)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
4 changes: 4 additions & 0 deletions\
4 [tests/Whisper.net.Maui.Tests/Resources/AppIcon/appicon.svg](#diff-da0684fd7e59598a13b3ccf0fcc8cf8943f7d7cc1134aa87c1c10fed78772a54 "tests/Whisper.net.Maui.Tests/Resources/AppIcon/appicon.svg")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/AppIcon/appicon.svg)\
Edit file\
\
Delete file\
\
\
Loading\
\
Sorry, something went wrong. [Reload?](https://github.com/sandrohanea/whisper.net/diffs?bytes=187882&commit=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&lines=4292&sha1=9414bd36478622936dfb04503850f1a95d033bb9&sha2=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&start_entry=102&sticky=false&w=false)\
\
Sorry, we cannot display this file.\
\
Sorry, this file is invalid so it cannot be displayed.\
\
[iframe](https://viewscreen.githubusercontent.com/added/svg?color_mode=auto&commit=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f73616e64726f68616e65612f776869737065722e6e65742f623565636134333637356536313465333538646364623663316334666639653834356430666434642f74657374732f576869737065722e6e65742e4d6175692e54657374732f5265736f75726365732f41707049636f6e2f61707069636f6e2e737667&path=tests%2FWhisper.net.Maui.Tests%2FResources%2FAppIcon%2Fappicon.svg&repository_id=597109271#d3bacebb-3013-48ee-8b6f-ff6094f36c74)\
\
8 changes: 8 additions & 0 deletions\
8 [tests/Whisper.net.Maui.Tests/Resources/AppIcon/appiconfg.svg](#diff-135f9704598a750b6341ed73fa614d769eea1d0e8e40b0a64e53f9f34a279692 "tests/Whisper.net.Maui.Tests/Resources/AppIcon/appiconfg.svg")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/AppIcon/appiconfg.svg)\
Edit file\
\
Delete file\
\
\
Loading\
\
Sorry, something went wrong. [Reload?](https://github.com/sandrohanea/whisper.net/diffs?bytes=187882&commit=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&lines=4292&sha1=9414bd36478622936dfb04503850f1a95d033bb9&sha2=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&start_entry=102&sticky=false&w=false)\
\
Sorry, we cannot display this file.\
\
Sorry, this file is invalid so it cannot be displayed.\
\
[iframe](https://viewscreen.githubusercontent.com/added/svg?color_mode=auto&commit=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f73616e64726f68616e65612f776869737065722e6e65742f623565636134333637356536313465333538646364623663316334666639653834356430666434642f74657374732f576869737065722e6e65742e4d6175692e54657374732f5265736f75726365732f41707049636f6e2f61707069636f6e66672e737667&path=tests%2FWhisper.net.Maui.Tests%2FResources%2FAppIcon%2Fappiconfg.svg&repository_id=597109271#e99ed764-e85b-464a-aa3d-690f6e7dffed)\
\
Binary file added\
BIN\
[tests/Whisper.net.Maui.Tests/Resources/Fonts/OpenSans-Regular.ttf](#diff-5c3976ffda27ab4bec106ef79341c3d4143ea922fe8fe509c5da2d4774d48e49 "tests/Whisper.net.Maui.Tests/Resources/Fonts/OpenSans-Regular.ttf")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Fonts/OpenSans-Regular.ttf)\
Edit file\
\
Delete file\
\
\
Binary file not shown.\
\
\
Binary file added\
BIN\
[tests/Whisper.net.Maui.Tests/Resources/Fonts/OpenSans-Semibold.ttf](#diff-7d61d93efd396d6a7af3185974ebc8024e52c792e1e38ce37287e914ae1558de "tests/Whisper.net.Maui.Tests/Resources/Fonts/OpenSans-Semibold.ttf")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Fonts/OpenSans-Semibold.ttf)\
Edit file\
\
Delete file\
\
\
Binary file not shown.\
\
\
Binary file added\
BIN\
[tests/Whisper.net.Maui.Tests/Resources/Images/dotnet\_bot.png](#diff-df0dfab9b24a065ac46a19911ce10719cd8a96b341065c66ec78a758ca5cc03f "tests/Whisper.net.Maui.Tests/Resources/Images/dotnet_bot.png")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Images/dotnet_bot.png)\
Edit file\
\
Delete file\
\
\
Loading\
\
Sorry, something went wrong. [Reload?](https://github.com/sandrohanea/whisper.net/diffs?bytes=187882&commit=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&lines=4292&sha1=9414bd36478622936dfb04503850f1a95d033bb9&sha2=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&start_entry=102&sticky=false&w=false)\
\
Sorry, we cannot display this file.\
\
Sorry, this file is invalid so it cannot be displayed.\
\
[iframe](https://viewscreen.githubusercontent.com/added/img?color_mode=auto&commit=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f73616e64726f68616e65612f776869737065722e6e65742f623565636134333637356536313465333538646364623663316334666639653834356430666434642f74657374732f576869737065722e6e65742e4d6175692e54657374732f5265736f75726365732f496d616765732f646f746e65745f626f742e706e67&path=tests%2FWhisper.net.Maui.Tests%2FResources%2FImages%2Fdotnet_bot.png&repository_id=597109271#c3daace5-57ee-46a2-8c90-c36c303860d7)\
\
15 changes: 15 additions & 0 deletions\
15 [tests/Whisper.net.Maui.Tests/Resources/Raw/AboutAssets.txt](#diff-2becc9467455868d2b25736abc66c6d7518f176721c81964eeafeb5ff52ecd36 "tests/Whisper.net.Maui.Tests/Resources/Raw/AboutAssets.txt")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Raw/AboutAssets.txt)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
Binary file added\
BIN\
[tests/Whisper.net.Maui.Tests/Resources/Raw/bush.wav](#diff-8d186d1f35a8fef73bb97c3c531bcf387d1a257a2a36720013094a2e8d0a6ab4 "tests/Whisper.net.Maui.Tests/Resources/Raw/bush.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Raw/bush.wav)\
Edit file\
\
Delete file\
\
\
Binary file not shown.\
\
\
Binary file added\
BIN\
[tests/Whisper.net.Maui.Tests/Resources/Raw/junkchunk16khz.wav](#diff-c4257ca4de2ff9a7fd43f56c96a42bee67da345b290b66c63f6fc17f8f638ec9 "tests/Whisper.net.Maui.Tests/Resources/Raw/junkchunk16khz.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Raw/junkchunk16khz.wav)\
Edit file\
\
Delete file\
\
\
Binary file not shown.\
\
\
Binary file added\
BIN\
[tests/Whisper.net.Maui.Tests/Resources/Raw/kennedy.wav](#diff-e134b094a2b28cefd71aae6ce546679916858730bf600a77804b081815216566 "tests/Whisper.net.Maui.Tests/Resources/Raw/kennedy.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Raw/kennedy.wav)\
Edit file\
\
Delete file\
\
\
Binary file not shown.\
\
\
Binary file added\
BIN\
[tests/Whisper.net.Maui.Tests/Resources/Raw/multichannel.wav](#diff-18884c456c6b98265fe11fafa63f53ebe5a6304a6f2508d5b147f0bd14542d4d "tests/Whisper.net.Maui.Tests/Resources/Raw/multichannel.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Raw/multichannel.wav)\
Edit file\
\
Delete file\
\
\
Binary file not shown.\
\
\
Binary file added\
BIN\
[tests/Whisper.net.Maui.Tests/Resources/Raw/romana.wav](#diff-ec99c547c86144afb730be3f554ccfaab8be38a275cff16e2529e690f773305c "tests/Whisper.net.Maui.Tests/Resources/Raw/romana.wav")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Raw/romana.wav)\
Edit file\
\
Delete file\
\
\
Binary file not shown.\
\
\
8 changes: 8 additions & 0 deletions\
8 [tests/Whisper.net.Maui.Tests/Resources/Splash/splash.svg](#diff-aa1e9aa9137263bb005f09969f28e22d0a89d1702617a72129d8788ad9733b3f "tests/Whisper.net.Maui.Tests/Resources/Splash/splash.svg")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Splash/splash.svg)\
Edit file\
\
Delete file\
\
\
Loading\
\
Sorry, something went wrong. [Reload?](https://github.com/sandrohanea/whisper.net/diffs?bytes=187882&commit=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&lines=4292&sha1=9414bd36478622936dfb04503850f1a95d033bb9&sha2=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&start_entry=102&sticky=false&w=false)\
\
Sorry, we cannot display this file.\
\
Sorry, this file is invalid so it cannot be displayed.\
\
[iframe](https://viewscreen.githubusercontent.com/added/svg?color_mode=auto&commit=b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d&enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f73616e64726f68616e65612f776869737065722e6e65742f623565636134333637356536313465333538646364623663316334666639653834356430666434642f74657374732f576869737065722e6e65742e4d6175692e54657374732f5265736f75726365732f53706c6173682f73706c6173682e737667&path=tests%2FWhisper.net.Maui.Tests%2FResources%2FSplash%2Fsplash.svg&repository_id=597109271#6e54c6f4-0733-4ed4-9f3e-1b3ac49a9e40)\
\
45 changes: 45 additions & 0 deletions\
45 [tests/Whisper.net.Maui.Tests/Resources/Styles/Colors.xaml](#diff-67c4722a12bcfd9b3a79fd8b6ee577e37471d4b482258ad1e9c5a74e09e8fe53 "tests/Whisper.net.Maui.Tests/Resources/Styles/Colors.xaml")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Styles/Colors.xaml)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
427 changes: 427 additions & 0 deletions\
427 [tests/Whisper.net.Maui.Tests/Resources/Styles/Styles.xaml](#diff-b65a7e6e8ca315e3560dc324ad59f3a1f167c18c4f56d3355d83a042aa3556c3 "tests/Whisper.net.Maui.Tests/Resources/Styles/Styles.xaml")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Resources/Styles/Styles.xaml)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
23 changes: 23 additions & 0 deletions\
23 [tests/Whisper.net.Maui.Tests/TestDevice.cs](#diff-b6013db5499ac62d6cfbd1d5b3759d7dab961f9994b575612927ae63fe7da289 "tests/Whisper.net.Maui.Tests/TestDevice.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/TestDevice.cs)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
93 changes: 93 additions & 0 deletions\
93 [tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj](#diff-2d5e8bd797782d3f601e98df7c68b8d973fe6e5bef13719d0998d3ac20bb8aa2 "tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Maui.Tests/Whisper.net.Maui.Tests.csproj)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
32 changes: 22 additions & 10 deletions\
32 [Whisper.net.Tests/FactoryTests.cs → tests/Whisper.net.Tests/FactoryTests.cs](#diff-48705b6b01b1f0c6ecf3061adfdc86c688010c935fe9d225a69ce64fc7e9525d "Whisper.net.Tests/FactoryTests.cs → tests/Whisper.net.Tests/FactoryTests.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Tests/FactoryTests.cs)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
37 changes: 37 additions & 0 deletions\
37 [tests/Whisper.net.Tests/ModelFixture.cs](#diff-22271df27ac22c01bc220b2e14caec05a2ce1dae727133a24874468a10877f63 "tests/Whisper.net.Tests/ModelFixture.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Tests/ModelFixture.cs)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
38 changes: 19 additions & 19 deletions\
38 [....net.Tests/ProcessAsyncFunctionalTests.cs → ....net.Tests/ProcessAsyncFunctionalTests.cs](#diff-44ed07762837d426ec1bc63b2c15c6a923768282525ca6656416c671a455941d "Whisper.net.Tests/ProcessAsyncFunctionalTests.cs → tests/Whisper.net.Tests/ProcessAsyncFunctionalTests.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Tests/ProcessAsyncFunctionalTests.cs)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
42 changes: 21 additions & 21 deletions\
42 [Whisper.net.Tests/ProcessFunctionalTests.cs → ...isper.net.Tests/ProcessFunctionalTests.cs](#diff-a741cd6e76524ef47135cc3532bc830deb9c46cc3e694588bbfd7d496d4b7fbb "Whisper.net.Tests/ProcessFunctionalTests.cs → tests/Whisper.net.Tests/ProcessFunctionalTests.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Tests/ProcessFunctionalTests.cs)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
74 changes: 37 additions & 37 deletions\
74 [Whisper.net.Tests/ProcessQuantizedTests.cs → ...hisper.net.Tests/ProcessQuantizedTests.cs](#diff-a498a609d28d469d58e00ddbeab80c7faeaaa46f64926497143022d9e2ba12e4 "Whisper.net.Tests/ProcessQuantizedTests.cs → tests/Whisper.net.Tests/ProcessQuantizedTests.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Tests/ProcessQuantizedTests.cs)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
15 changes: 15 additions & 0 deletions\
15 [tests/Whisper.net.Tests/TestDataProvider.cs](#diff-eb7e9cda27c0a85452656593e7cee36e3f58c58cbe628eedf07304857d6e88d1 "tests/Whisper.net.Tests/TestDataProvider.cs")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Tests/TestDataProvider.cs)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
40 changes: 40 additions & 0 deletions\
40 [tests/Whisper.net.Tests/Whisper.net.Tests.csproj](#diff-25857b6667fce40dc9894132e28616976de05b35016edaedd96f86c7dcdf111e "tests/Whisper.net.Tests/Whisper.net.Tests.csproj")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/tests/Whisper.net.Tests/Whisper.net.Tests.csproj)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
72 changes: 32 additions & 40 deletions\
72 [windows-scripts.ps1](#diff-cd59811ed54e94b505e27437b0b2c0f9d6c2461a33b1d1659c204eae3dd62b0d "windows-scripts.ps1")\
\
Show comments\
\
\
[View file](/sandrohanea/whisper.net/blob/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d/windows-scripts.ps1)\
Edit file\
\
Delete file\
\
\
Load diff\
\
Oops, something went wrong.\
Retry\
\
Toggle all file notesToggle all file annotations\
\
### 0 comments  on commit `b5eca43`\
\
\
\
Please\
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Fcommit%2Fb5eca43675e614e358dcdb6c1c4ff9e845d0fd4d) to comment.\
\
You can’t perform that action at this time.

---

# Removed continuous recognition example and replaced it with a link the echosharp · sandrohanea/whisper.net@406bc65  · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


[CI (Native + dotnet)](/sandrohanea/whisper.net/actions/workflows/build-all.yml)

# Removed continuous recognition example and replaced it with a link the echosharp  \#303

[Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506853099%2Fworkflow)

- [Sign in to view logs](/login?return_to=https%3A%2F%2Fgithub.com%2Fsandrohanea%2Fwhisper.net%2Factions%2Fruns%2F12506853099%2Fworkflow)

## Workflow file

# Removed continuous recognition example and replaced it with a link the echosharp

## Removed continuous recognition example and replaced it with a link the echosharp \#303

[Usage](/sandrohanea/whisper.net/actions/runs/12506853099/usage) [Workflow file](/sandrohanea/whisper.net/actions/runs/12506853099/workflow)

#### Workflow file for this run

[.github/workflows/build-all.yml](/sandrohanea/whisper.net/blob/406bc65485a8e67aee8e89d851e4a3d99e4b87f2/.github/workflows/build-all.yml) at
[406bc65](/sandrohanea/whisper.net/commit/406bc65485a8e67aee8e89d851e4a3d99e4b87f2)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

[Show hidden characters]({{ revealButtonHref }})

|     |     |
| --- | --- |
|  | # This workflow will build a .NET project |
|  | # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net |
|  |  |
|  | name: CI (Native + dotnet) |
|  |  |
|  | on: |
|  | push: |
|  | branches: \["main"\] |
|  | pull\_request: |
|  | branches: \["main"\] |
|  | workflow\_dispatch: |
|  | inputs: |
|  | BuildGpuLibs: |
|  | description: 'Enable GPU libraries build and publish' |
|  | required: true |
|  | default: 'false' |
|  | permissions: |
|  | contents: read |
|  | checks: write |
|  |  |
|  | jobs: |
|  | android: |
|  | uses: ./.github/workflows/android-native-build.yml |
|  |  |
|  | macos: |
|  | uses: ./.github/workflows/macos-native-build.yml |
|  |  |
|  | windows: |
|  | uses: ./.github/workflows/windows-native-build.yml |
|  |  |
|  | windows-no-avx: |
|  | uses: ./.github/workflows/windows-noavx-native-build.yml |
|  |  |
|  | wasm: |
|  | uses: ./.github/workflows/wasm-native-build.yml |
|  |  |
|  | linux: |
|  | uses: ./.github/workflows/linux-native-build.yml |
|  |  |
|  | linux-no-avx: |
|  | uses: ./.github/workflows/linux-noavx-native-build.yml |
|  |  |
|  | linux-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-vulkan-native-build.yml |
|  |  |
|  | windows-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-cuda-native-build.yml |
|  |  |
|  | windows-vulkan: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-vulkan-native-build.yml |
|  |  |
|  | windows-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/windows-openvino-native-build.yml |
|  |  |
|  | linux-cuda: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-cuda-native-build.yml |
|  |  |
|  | linux-openvino: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/linux-openvino-native-build.yml |
|  |  |
|  | macos-coreml: |
|  | if: ${{ inputs.BuildGpuLibs == 'true' }} |
|  | uses: ./.github/workflows/macos-coreml-native-build.yml |
|  |  |
|  | dotnet-build: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet.yml |
|  |  |
|  | dotnet-maui-build-and-test: |
|  | needs: |
|  | \- android |
|  | \- macos |
|  | \- windows |
|  | \- wasm |
|  | \- linux |
|  | uses: ./.github/workflows/dotnet-maui.yml |

You can’t perform that action at this time.

---

# Linux Cuda Native build · Workflow runs · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


# Actions: sandrohanea/whisper.net

## Actions

## Linux Cuda Native build     \#\#\# Linux Cuda Native build         \#\# Actions

will be ignored since log searching is not yet available


Show workflow options

- Create status badge


# Create status badge

Loading

[linux-cuda-native-build.yml](/sandrohanea/whisper.net/blob/main/.github/workflows/linux-cuda-native-build.yml)

will be ignored since log searching is not yet available


**0 workflow runs**

**0 workflow runs**

Event

# Filter by Event

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching events.

Status

# Filter by Status

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching statuses.

Branch

# Filter by Branch

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching branches.

Actor

# Filter by Actor

## Sorry, something went wrong.

Filter

Loading

## Sorry, something went wrong.

## No matching users.

![GitHub Actions](https://github.githubassets.com/images/modules/site/features/actions-icon-actions.svg)

### This workflow has no runs yet.

You can’t perform that action at this time.

---

# whisper.net/Whisper.net.Maui.Tests.sln at main · sandrohanea/whisper.net · GitHub



You signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert

{{ message }}

[sandrohanea](/sandrohanea)/ **[whisper.net](/sandrohanea/whisper.net)** Public

- [Sponsor](/sponsors/sandrohanea)
- [Notifications](/login?return_to=%2Fsandrohanea%2Fwhisper.net) You must be signed in to change notification settings
- [Fork\\
96](/login?return_to=%2Fsandrohanea%2Fwhisper.net)
- [Star\\
609](/login?return_to=%2Fsandrohanea%2Fwhisper.net)


## Files

main

/

# Whisper.net.Maui.Tests.sln

Blame

Blame

## Latest commit

[![sandrohanea](https://avatars.githubusercontent.com/u/40202887?v=4&size=40)](/sandrohanea)[sandrohanea](/sandrohanea/whisper.net/commits?author=sandrohanea)

[Fixed Android build + improved CI/CI with xharness + added AllRuntime…](/sandrohanea/whisper.net/commit/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d)

Oct 13, 2024

[b5eca43](/sandrohanea/whisper.net/commit/b5eca43675e614e358dcdb6c1c4ff9e845d0fd4d) · Oct 13, 2024

## History

[History](/sandrohanea/whisper.net/commits/main/Whisper.net.Maui.Tests.sln)

206 lines (206 loc) · 14.9 KB

/

# Whisper.net.Maui.Tests.sln

Top

## File metadata and controls

- Code

- Blame


206 lines (206 loc) · 14.9 KB

[Raw](https://github.com/sandrohanea/whisper.net/raw/refs/heads/main/Whisper.net.Maui.Tests.sln)

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

20

21

22

23

24

25

26

27

28

29

30

31

32

33

34

35

36

37

38

39

40

41

42

43

44

45

46

47

48

49

50

51

52

53

54

55

56

57

58

59

60

61

62

63

64

65

66

67

68

69

70

71

72

73

74

75

76

77

78

79

80

81

82

83

84

85

86

87

88

89

90

91

92

93

94

95

96

97

98

99

100

101

133

134

135

136

137

138

139

140

141

142

143

144

145

146

147

148

149

150

151

152

153

154

155

156

157

158

159

160

161

162

163

164

165

166

167

168

169

170

171

172

173

174

175

176

177

178

179

180

181

182

183

184

185

186

187

188

189

190

191

192

193

194

195

196

197

198

199

200

201

202

203

204

205

206

﻿

Microsoft Visual Studio Solution File, Format Version 12.00

\# Visual Studio Version 17

VisualStudioVersion =17.5.33318.248

MinimumVisualStudioVersion =10.0.40219.1

Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net.Demo", "Whisper.net.Demo\\Whisper.net.Demo.csproj", "{C1C29732-1BC2-477D-A116-C5003E1D0C85}"

EndProject

Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Solution Items", "Solution Items", "{2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}"

ProjectSection(SolutionItems) = preProject

.editorconfig = .editorconfig

.gitignore = .gitignore

Directory.Packages.props = Directory.Packages.props

nuget.config = nuget.config

readme.md = readme.md

EndProjectSection

EndProject

Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Whisper.net", "Whisper.net\\Whisper.net.csproj", "{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}"

EndProject

Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "github", "github", "{5C865649-4AED-4BBF-A7CA-BD68D21EF48F}"

ProjectSection(SolutionItems) = preProject

.github\workflows\android-native-build.yml = .github\workflows\android-native-build.yml

.github\workflows\build-all.yml = .github\workflows\build-all.yml

.github\workflows\dotnet-maui.yml = .github\workflows\dotnet-maui.yml

.github\workflows\dotnet.yml = .github\workflows\dotnet.yml

.github\workflows\linux-cuda-native-build.yml = .github\workflows\linux-cuda-native-build.yml

.github\workflows\linux-native-build.yml = .github\workflows\linux-native-build.yml

.github\workflows\linux-noavx-native-build.yml = .github\workflows\linux-noavx-native-build.yml

.github\workflows\linux-openvino-native-build.yml = .github\workflows\linux-openvino-native-build.yml

.github\workflows\macos-coreml-native-build.yml = .github\workflows\macos-coreml-native-build.yml

.github\workflows\macos-native-build.yml = .github\workflows\macos-native-build.yml

.github\workflows\pack-all.yml = .github\workflows\pack-all.yml

.github\workflows\wasm-native-build.yml = .github\workflows\wasm-native-build.yml

.github\workflows\windows-cuda-native-build.yml = .github\workflows\windows-cuda-native-build.yml

.github\workflows\windows-native-build.yml = .github\workflows\windows-native-build.yml

.github\workflows\windows-noavx-native-build.yml = .github\workflows\windows-noavx-native-build.yml

.github\workflows\windows-openvino-native-build.yml = .github\workflows\windows-openvino-native-build.yml

.github\workflows\windows-vulkan-native-build.yml = .github\workflows\windows-vulkan-native-build.yml

EndProjectSection

EndProject

Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "scripts", "scripts", "{52C6C243-3BD7-41CF-A0B0-1DE31AC2C884}"

ProjectSection(SolutionItems) = preProject

Makefile =Makefile

windows-scripts.ps1 = windows-scripts.ps1

EndProjectSection

EndProject

Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "runtimes", "runtimes", "{CC45AC94-3CD7-45D8-A847-2D9C06E1806A}"

ProjectSection(SolutionItems) = preProject

runtimes\Whisper.net.AllRuntimes.nuspec = runtimes\Whisper.net.AllRuntimes.nuspec

runtimes\Whisper.net.Runtime.CoreML.nuspec = runtimes\Whisper.net.Runtime.CoreML.nuspec

runtimes\Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets = runtimes\Whisper.net.Runtime.CoreML\Whisper.net.Runtime.CoreML.targets

runtimes\Whisper.net.Runtime.Cuda.Linux.nuspec = runtimes\Whisper.net.Runtime.Cuda.Linux.nuspec

runtimes\Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets = runtimes\Whisper.net.Runtime.Cuda.Linux\Whisper.net.Runtime.Cuda.Linux.targets

runtimes\Whisper.net.Runtime.Cuda.nuspec = runtimes\Whisper.net.Runtime.Cuda.nuspec

runtimes\Whisper.net.Runtime.Cuda.Windows.nuspec = runtimes\Whisper.net.Runtime.Cuda.Windows.nuspec

runtimes\Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets = runtimes\Whisper.net.Runtime.Cuda.Windows\Whisper.net.Runtime.Cuda.Windows.targets

runtimes\Whisper.net.Runtime.NoAvx.nuspec = runtimes\Whisper.net.Runtime.NoAvx.nuspec

runtimes\Whisper.net.Runtime.NoAvx\Whisper.net.Runtime.NoAvx.targets = runtimes\Whisper.net.Runtime.NoAvx\Whisper.net.Runtime.NoAvx.targets

runtimes\Whisper.net.Runtime.nuspec = runtimes\Whisper.net.Runtime.nuspec

runtimes\Whisper.net.Runtime.OpenVino.nuspec = runtimes\Whisper.net.Runtime.OpenVino.nuspec

runtimes\Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets = runtimes\Whisper.net.Runtime.OpenVino\Whisper.net.Runtime.OpenVino.targets

runtimes\Whisper.net.Runtime\Whisper.net.Runtime.targets = runtimes\Whisper.net.Runtime\Whisper.net.Runtime.targets

runtimes\Whisper.net.Runtime.Vulkan.nuspec = runtimes\Whisper.net.Runtime.Vulkan.nuspec

runtimes\Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets = runtimes\Whisper.net.Runtime.Vulkan\Whisper.net.Runtime.Vulkan.targets

EndProjectSection

EndProject

Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "Whisper.net.Maui.Tests", "tests\\Whisper.net.Maui.Tests\\Whisper.net.Maui.Tests.csproj", "{2D16B02C-55D6-4B9B-B99E-A0529C407A69}"

EndProject

Project("{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}") = "Whisper.net.Tests", "tests\\Whisper.net.Tests\\Whisper.net.Tests.csproj", "{CE567791-96B8-4377-AF4F-49D75035348D}"

EndProject

Global

GlobalSection(SolutionConfigurationPlatforms) = preSolution

Debug\|Any CPU = Debug\|Any CPU

Debug\|x64 = Debug\|x64

Debug\|x86 = Debug\|x86

MinSizeRel\|Any CPU = MinSizeRel\|Any CPU

MinSizeRel\|x64 = MinSizeRel\|x64

MinSizeRel\|x86 = MinSizeRel\|x86

Release\|Any CPU = Release\|Any CPU

Release\|x64 = Release\|x64

Release\|x86 = Release\|x86

RelWithDebInfo\|Any CPU = RelWithDebInfo\|Any CPU

RelWithDebInfo\|x64 = RelWithDebInfo\|x64

RelWithDebInfo\|x86 = RelWithDebInfo\|x86

EndGlobalSection

GlobalSection(ProjectConfigurationPlatforms) = postSolution

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|Any CPU.Build.0 = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.ActiveCfg = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x64.Build.0 = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.ActiveCfg = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Debug\|x86.Build.0 = Debug\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|Any CPU.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|Any CPU.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x64.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x64.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x86.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.MinSizeRel\|x86.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|Any CPU.Build.0 = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.ActiveCfg = Release\|Any CPU

{C1C29732-1BC2-477D-A116-C5003E1D0C85}.Release\|x64.Build.0 = Release\|Any CPU

{5D1F57EB-AF79-419C-8DCB-E23F7BEC3E8C}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|Any CPU.Build.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|Any CPU.Deploy.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x64.ActiveCfg = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x64.Build.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x64.Deploy.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x86.ActiveCfg = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x86.Build.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Debug\|x86.Deploy.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|Any CPU.Deploy.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x64.Deploy.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.MinSizeRel\|x86.Deploy.0 = Debug\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|Any CPU.ActiveCfg = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|Any CPU.Build.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|Any CPU.Deploy.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x64.ActiveCfg = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x64.Build.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x64.Deploy.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x86.ActiveCfg = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x86.Build.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.Release\|x86.Deploy.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|Any CPU.Deploy.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x64.Deploy.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU

{2D16B02C-55D6-4B9B-B99E-A0529C407A69}.RelWithDebInfo\|x86.Deploy.0 = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|Any CPU.ActiveCfg = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|Any CPU.Build.0 = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|x64.ActiveCfg = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|x64.Build.0 = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|x86.ActiveCfg = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Debug\|x86.Build.0 = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|Any CPU.ActiveCfg = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|Any CPU.Build.0 = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|x64.ActiveCfg = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|x64.Build.0 = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|x86.ActiveCfg = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.MinSizeRel\|x86.Build.0 = Debug\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Release\|Any CPU.ActiveCfg = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Release\|Any CPU.Build.0 = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Release\|x64.ActiveCfg = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Release\|x64.Build.0 = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Release\|x86.ActiveCfg = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.Release\|x86.Build.0 = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|Any CPU.ActiveCfg = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|Any CPU.Build.0 = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|x64.ActiveCfg = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|x64.Build.0 = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|x86.ActiveCfg = Release\|Any CPU

{CE567791-96B8-4377-AF4F-49D75035348D}.RelWithDebInfo\|x86.Build.0 = Release\|Any CPU

EndGlobalSection

GlobalSection(SolutionProperties) = preSolution

HideSolutionNode =FALSE

EndGlobalSection

GlobalSection(NestedProjects) = preSolution

{5C865649-4AED-4BBF-A7CA-BD68D21EF48F} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}

{52C6C243-3BD7-41CF-A0B0-1DE31AC2C884} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}

{CC45AC94-3CD7-45D8-A847-2D9C06E1806A} = {2C8F58A8-37D9-4E96-AE73-B3B37AEC10C1}

EndGlobalSection

GlobalSection(ExtensibilityGlobals) = postSolution

SolutionGuid ={F5CAA926-1B7D-3A67-9130-E6EFE3E9DFD9}

EndGlobalSection

EndGlobal

You can’t perform that action at this time.

---

